{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/models/project.js","webpack:///./src/presenters/includes/loader.jsx","webpack:///./src/presenters/reactlet.js","webpack:///./src/presenters/pop-overs/popover-container.jsx","webpack:///./src/models/user.js","webpack:///./src/presenters/layout.js","webpack:///./src/presenters/includes/thanks.jsx","webpack:///./src/presenters/notifications.jsx","webpack:///./src/presenters/projects-list.jsx","webpack:///./src/presenters/includes/markdown.jsx","webpack:///./src/presenters/users-list.jsx","webpack:///./src/models/model.js","webpack:///./src/presenters/includes/profile.jsx","webpack:///./src/presenters/error-handlers.jsx","webpack:///./src/presenters/includes/not-found.jsx","webpack:///./src/presenters/categories.jsx","webpack:///./src/models/team.js","webpack:///./src/utils/assets.js","webpack:///./src/presenters/includes/description-field.jsx","webpack:///./src/presenters/includes/project-result-item.jsx","webpack:///./src/presenters/entity-page-projects.jsx","webpack:///./src/presenters/includes/uploader.jsx","webpack:///./src/presenters/includes/editable-field.jsx","webpack:///./src/presenters/current-user.jsx","webpack:///./src/presenters/projects-loader.jsx","webpack:///./src/presenters/questions.js","webpack:///./src/templates/includes/loader.js","webpack:///./src/presenters/pop-overs/sign-in-pop.jsx","webpack:///./src/templates/pages/error.js","webpack:///./src/presenters/user-item.jsx","webpack:///./src/presenters/includes/wrapping-link.jsx","webpack:///./src/presenters/team-item.jsx","webpack:///./src/presenters/pages/search.jsx","webpack:///./src/templates/pages/questions.js","webpack:///./src/presenters/pages/questions.js","webpack:///./src/presenters/deleted-projects.jsx","webpack:///./src/presenters/user-editor.jsx","webpack:///./src/presenters/pages/user.jsx","webpack:///./src/presenters/includes/team-elements.jsx","webpack:///./src/presenters/includes/team-analytics-project-details.jsx","webpack:///./src/presenters/includes/team-analytics-referrers.jsx","webpack:///./src/presenters/includes/team-analytics-activity.jsx","webpack:///./src/presenters/includes/team-analytics-summary.jsx","webpack:///./src/presenters/pop-overs/team-analytics-project-pop.jsx","webpack:///./src/presenters/pop-overs/team-analytics-time-pop.jsx","webpack:////rbd/pnpm-volume/2bdfb3f8-05ef-4035-a06e-2043962a3a13/node_modules/.registry.npmjs.org/moment-mini/2.22.1/node_modules/moment-mini/locale sync ^\\.\\/.*$","webpack:///./src/presenters/includes/team-analytics.jsx","webpack:///./src/presenters/pop-overs/user-info-pop.jsx","webpack:///./src/presenters/includes/user-result-item.jsx","webpack:///./src/presenters/pop-overs/add-team-user-pop.jsx","webpack:///./src/presenters/includes/team-users.jsx","webpack:///./src/presenters/pop-overs/add-team-project-pop.jsx","webpack:///./src/presenters/includes/add-team-project.jsx","webpack:///./src/utils/progress-promise.js","webpack:///./src/utils/s3-uploader.js","webpack:///./src/presenters/team-editor.jsx","webpack:///./src/presenters/pages/team.jsx","webpack:///./src/presenters/includes/related-projects.jsx","webpack:///./src/presenters/includes/project-buttons.jsx","webpack:///./src/presenters/includes/expander.jsx","webpack:///./src/presenters/project-editor.jsx","webpack:///./src/presenters/pages/project.jsx","webpack:///./src/presenters/includes/observed.jsx","webpack:///./src/presenters/pages/category.jsx","webpack:///./src/presenters/includes/by-fogcreek.jsx","webpack:///./src/presenters/what-is-glitch.jsx","webpack:///./src/presenters/random-categories.jsx","webpack:///./src/curated/embed.js","webpack:///./src/templates/includes/question-item.js","webpack:///./src/presenters/question-item.js","webpack:///./src/templates/includes/questions.js","webpack:///./src/presenters/pop-overs/project-options-pop.jsx","webpack:///./src/presenters/project-item.jsx","webpack:///./src/templates/includes/recent-projects.js","webpack:///./src/presenters/recent-projects.js","webpack:///./src/templates/includes/featured-collection.js","webpack:///./src/presenters/featured-collection.js","webpack:///./src/templates/reactlet.js","webpack:///./src/presenters/new-stuff-log.js","webpack:///./src/templates/overlays/new-stuff.js","webpack:///./src/presenters/overlays/new-stuff.js","webpack:///./src/templates/overlays/overlay-video.js","webpack:///./src/presenters/overlays/overlay-video.js","webpack:///./src/presenters/footer.jsx","webpack:///./src/presenters/pop-overs/new-project-pop.jsx","webpack:///./src/presenters/pop-overs/user-options-pop.jsx","webpack:///./src/presenters/header.jsx","webpack:///./src/templates/layout.js","webpack:///./src/templates/pages/index.js","webpack:///./src/presenters/pages/index.js","webpack:///./src/models/question.js","webpack:///./src/curated/featured.js","webpack:///./src/application.js","webpack:///./src/client.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","4","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","head","document","getElementsByTagName","script","createElement","charset","timeout","nc","setAttribute","src","p","0","jsonpScriptSrc","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","error","Error","request","undefined","setTimeout","appendChild","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","getAvatarUrl","getLink","Project","cache","source","FALLBACK_AVATAR_URL","id","CDN_URL","domain","I","self","_model2","default","defaults","description","teams","users","showAsGlitchTeam","attrObservable","Array","from","keys","attrModels","Team","User","extend","asProps","project","map","team","user","avatar","isRecentProject","link","private","remixUrl","userIsCurrentUser","application","editUrl","line","EDITOR_URL","path","character","_find3","currentUser","getReadme","readmeNotFound","projectNotFound","CancelToken","axios","readme","token","persistentToken","api","then","response","overlayProject","catch","status","pushSearchResult","searchResultsProjects","searchResultsProjectsLoaded","delete","projectPath","undelete","post","leave","projectAuthPath","config","targetUserId","getProjectsByIds","ids","newProjectIds","filter","fetched","index","group","projectsPath","join","datum","update","promiseProjectsByIds","projects","observe","isFetched","_cache","Loader","_react2","className","DataLoader","React","Component","constructor","props","super","this","state","maybeData","loaded","maybeError","componentDidMount","_this","setState","render","children","renderError","renderLoader","propTypes","PropTypes","func","isRequired","defaultProps","guid","anchorId","distinctIds","add","stack","el","_reactDom","batchPending","pop","getElementById","size","_reactlet2","Set","_reactIs","Wrapper","element","PopoverContainer","visible","toggle","handleClickOutside","clickOutsideConfig","excludeScrollbar","MonitoredComponent","_reactOnclickoutside2","includes","prevState","inner","togglePopover","isFragment","disableOnClickOutside","eventTypes","getAvatarStyle","avatarUrl","color","backgroundColor","backgroundImage","ANON_AVATAR_URL","getProfileStyle","hasCoverImage","coverColor","md","_markdownIt2","breaks","linkify","typographer","disable","cacheBuster","Math","floor","random","avatarThumbnailUrl","login","initialDescription","thanksCount","pins","deletedProjects","isSignedIn","isAnon","isAnExperiencedUser","coverUrl","localCoverImage","profileStyle","avatarStyle","userAvatarUrl","anonAvatar","isCurrentUser","isOnUserPageForCurrentUser","pageIsUserPage","hiddenIfSignedIn","hiddenUnlessSignedIn","hiddenIfFetched","hiddenUnlessFetched","tooltipName","alt","style","userLink","glitchTeamAvatar","updateUser","updateData","userPath","patch","log","success","message","updateCoverColor","truncatedDescription","substring","descriptionMarkdown","text","node","innerHTML","truncatedDescriptionMarkdown","initialDescriptionMarkdown","userThanks","addPin","projectId","pinPath","removePin","newPins","pin","coverUrlSmall","userAvatarUrlLarge","getUserByLogin","userIdPath","userId","getUserById","notFound","getUsersById","usersPath","forEach","getSearchResultsJSON","query","searchPath","content","_layout2","header","userObservable","_o_2","maybeUser","baseUrl","normalizedBaseUrl","searchQuery","overlayNewStuffVisible","projectIds","ProjectModel","Header","footer","Footer","overlayVideo","_overlayVideo2","newStuff","_newStuff2","ThanksWrap","ThanksText","count","number","Thanks","ThanksShort","Provider","Consumer","createContext","Notification","remove","onAnimationEnd","Notifications","notifications","notification","Date","now","createError","createPersistent","updateNotification","_extends","removeNotification","_this2","funcs","createNotification","createPersistentNotification","createErrorNotification","notify","Fragment","ProjectsList","title","placeholder","projectOptions","ProjectsUL","array","categoryColor","_projectItem2","html","use","markdownEmoji","markdownSanitizer","RawHTML","dangerouslySetInnerHTML","__html","string","Markdown","TruncatedMarkdown","_htmlTruncate2","ellipsis","_user","addDefaultSrc","UserAvatar","onError","width","height","UserTile","extraClass","href","data-tooltip","data-tooltip-left","PopulatedUsersList","UsersList","_ref","glitchTeam","_objectWithoutProperties","bool","UserPopoverTile","_popoverContainer2","onClick","UserPopoversList","constructors","attrAccessor","attrNames","attrName","defAccessor","attrReader","objects","include","Module","names","newValue","attrDatum","DataModel","model","attrData","models","x","attrModel","Model","instance","Constructor","toJSON","arguments","assign","ImageButtons","uploadImage","clearImage","ProjectInfoContainer","buttons","InfoContainer","CoverContainer","ProfileContainer","avatarButtons","coverStyle","coverButtons","ErrorHandler","_notifications2","handleError","handleErrorForInput","NotFound","categories","role","url","startsWith","prefixUrl","isCategory","isVerified","teamPins","hasAvatarImage","teamAvatarUrl","localAvatarImage","thanks","parseInt","teamThanks","currentUserIsOnTeam","findIndex","updateTeam","updateAvatarColor","teamPath","verifiedTooltip","verifiedImage","addUser","teamUserPath","removeUser","newUsers","_reject3","removedUser","addProject","teamProjectPath","_project2","removeProject","newProjects","removedProject","teamProfileStyle","teamAvatarStyle","getTeamById","teamsPath","saveTeam","resizeImage","getDominantColor","image","canvas","context","getContext","drawImage","transparentPixels","colors","outlyingColors","outlyingColorsList","JSON","stringify","y","pixelData","getImageData","colorRegExObject","RegExp","match","colorMap","_quantize2","g","b","palette","requestFile","callback","input","accept","onchange","file","files","click","getUserCoverImagePolicy","getTeamAvatarImagePolicy","getTeamCoverImagePolicy","uploadAsset","uploadAssetSizes","blob","policy","sizes","progressHandler","upload","progress","scaledUploads","tag","resized","COVER_SIZES","large","medium","small","blobToImage","AVATAR_SIZES","Image","URL","createObjectURL","drawCanvasThumbnail","max","sourceCanvas","targetCanvas","targetContext","toBlob","_s3Uploader2","EditableDescription","focused","onChange","onFocus","onBlur","_debounce3","updateDescription","evt","currentTarget","trim","_reactTextareaAutosize2","spellCheck","autoFocus","aria-label","tabIndex","_markdown2","StaticDescription","AuthDescription","authorized","ProjectResultItem","action","isActive","resultClass","_usersList2","EntityPageProjects","isAuthorized","pinnedSet","pinnedProjects","recentProjects","_partition3","has","pinnedVisible","pinnedTitle","pinnedEmpty","_projectsList2","arrayOf","shape","_projectsLoader2","_assets","NotifyUploading","NotifyError","async","uploadWrapper","lengthComputable","total","Uploader","cb","EditableField","handleSuccess","handleFailure","lastState","classes","inputProps","autoComplete","_uniqueId3","maybeErrorIcon","maybeErrorMessage","maybePrefix","prefix","htmlFor","normalizeUser","normalizeUsers","normalizeProject","normalizeProjects","CurrentUserProvider","CurrentUserConsumer","_observed2","propsObservable","component","_currentUser","listToObject","list","val","reduce","[object Object]","ProjectsLoader","ensureProjects","discardedProjects","unloadedProjects","_chunk3","getProjects","_keyBy3","componentDidUpdate","loadedProjects","any","maxQuestions","DEFAULT_MAX_QUESTIONS","kaomoji","randomKaomoji","_sample3","hiddenIfQuestions","questions","hiddenUnlessQuestions","question","_questionItem2","animatedUnlessLookingForQuestions","gettingQuestions","setInterval","getQuestions","_questions2","__root","buffer","class","root","SignInPop","SignInPopButton","company","emoji","FACEBOOK_CLIENT_ID","encodeURIComponent","APP_URL","GITHUB_CLIENT_ID","logo","UserItem","_markdown","_thanks2","handler","closest","location","dataset","WrappingLink","data-href","TeamItem","_wrappingLink2","SearchPageContainer","_notifications","TeamResults","_teamItem2","_loader2","UserResults","_userItem2","ProjectResults","MAX_RESULTS","showResults","results","SearchPage","_team2","_user2","notSafeForKids","searchTeams","searchUsers","searchProjects","noResults","every","_notFound2","_categories2","_errorHandlers2","errorFuncs","Categories","_questions4","_project","DeletedProject","addEventListener","once","classList","clickUndelete","DeletedProjectsList","DeletedProjects","shown","clickShow","setDeletedProjects","renderContents","assets","UserEditor","initialUser","_deletedProjects","_cacheCover","currentUserModel","changes","updateFields","endsWith","newDomain","replace","warn","updateName","updateLogin","uploadAvatar","uploadCover","clearCover","leaveProject","deleteProject","undeleteProject","UserEditorContainer","_uploader2","uploadFuncs","UserPageById","UserPagePresenter","UserPageByLogin","_loader","_descriptionField","_profile","NameAndLogin","_editableField2","UserPage","getDeletedProjects","history","replaceState","syncPageToLogin","_entityPageProjects2","_deletedProjects3","UserPageLoader","loginOrId","_userEditor2","TeamMarketing","VerifiedBadge","tooltip","RECENT_REMIXES_COUNT","getProjectDetails","currentProjectDomain","addFallbackSrc","communityProjectUrl","ProjectDetails","projectDetails","projectAvatar","projectUrl","_momentMini2","createdAt","fromNow","lastAccess","lastEditedAt","lastRemixedAt","numAppVisits","numUniqueEditorVisits","numDirectRemixes","numTotalRemixes","baseProject","ProjectRemixItem","remix","TeamAnalyticsProjectDetails","isGettingData","projectRemixes","updateProjectDetails","remixes","prevProps","countTotals","countProperty","referrer","ReferrerItem","round","toLocaleString","filterReferrers","referrers","filteredReferrers","TeamAnalyticsReferrers","analytics","totalRemixes","uniqueAppViews","appViewReferrers","remixReferrers","totalDirectAppViews","totalDirectRemixes","requests","binData","histogram","chartColumns","buckets","bin","uniqueIps","time","x0","appViews","createHistogram","timestamps","bucket","dateFormat","currentTimeFrame","renderChart","c3","columns","_isEmpty3","generate","xFormat","axis","tick","format","fit","culling","TeamAnalyticsActivity","clickEvent","CustomEvent","bubbles","cancelable","blurEvent","TeamAnalyticsSummary","toggleGraph","summaryType","querySelector","dispatchEvent","onKeyPress","_reactPluralize2","singular","plural","showCount","AllProjectsItem","resultsClass","PopOver","setFilter","updateProjectdomain","filteredProjects","toLowerCase","_projectResultItem2","TeamAnalyticsProjectPop","TimeFrameItem","selectTimeFrame","timeFrame","timeFrames","TeamAnalyticsTimePop","updateTimeFrame","./locale","./locale.js","webpackContext","req","webpackContextResolve","code","dateFromTime","newTime","timeMap","date","subtract","valueOf","getAnalytics","fromDate","TeamAnalytics","isGettingC3","updateTotals","updateAnalytics","_this3","_this4","currentUserOnTeam","_teamAnalyticsProjectPop2","_teamAnalyticsTimePop2","_teamAnalyticsSummary2","_teamAnalyticsActivity2","_teamAnalyticsReferrers2","_teamAnalyticsProjectDetails2","RemoveFromTeam","UserActions","ThanksCount","UserInfoPop","removeUserFromTeam","isOnTeam","_thanks","UserResultItem","UserSearchResults","_userResultItem2","AddTeamUserPop","maybeRequest","maybeResults","handleChange","clearSearch","startSearch","search","members","isLoading","_usersList","TeamUsers","_userInfoPop2","AddTeamUser","_addTeamUserPop2","AddTeamProjectPop","updateFilter","filterProjects","myProjects","teamProjects","teamProjectIds","availableProjects","titleMatch","descMatch","preventDefault","AddTeamProject","_addTeamProjectPop2","fn","_progressHandlers","onFulfilled","onRejected","_notify","finally","reason","credentials","signature","accessKeyId","acl","namespace","extractPolicyData","bucketUrl","urlFor","cacheControl","namespacedKey","sendForm","objectToForm","Content-Type","Cache-Control","AWSAccessKeyId","x-amz-security-token","sessionToken","getKey","conditions","condition","policyObject","parse","atob","isArray","a","getNamespaceFromPolicyConditions","formData","ProgressPromise","XMLHttpRequest","open","onprogress","onreadystatechange","readyState","toString","isSuccess","send","append","FormData","TeamEditor","initialTeam","_cacheAvatar","currentUserId","some","u","TeamEditorContainer","UserModel","TeamPageLoader","_team","_teamUsers","_teamElements","TeamPage","_addTeamProject2","removeProjectFromTeam","_teamAnalytics2","_teamEditor2","_projectsList","PROJECT_COUNT","RelatedProjectsHeader","RelatedProjectsBody","RelatedProjects","_sampleSize3","getPins","pinIds","_difference3","ignoreProjectId","allIds","remainingIds","getTeam","getTeamPins","getUser","getUserPins","ButtonLink","ShowButton","showUrl","EditButton","_ref2","isMember","RemixButton","_ref3","ReportButton","_ref4","subject","body","mailto","encodeURI","Expander","expanded","maxHeight","ref","createRef","current","scrollHeight","expand","onExpandEnd","propertyName","onTransitionEnd","ProjectEditor","initialProject","userIsMember","updateDomain","updatePrivate","isPrivate","ProjectEditorContainer","wrapErrors","ProjectPageLoader","_projectButtons","PrivateBadge","PrivateToggle","setPrivate","Embed","ReadmeError","ReadmeLoader","_expander2","ProjectPage","syncPageToDomain","track","origin","baseProjectId","baseDomain","trackRemix","_relatedProjects2","_projectEditor2","Observed","observedProps","componentWillUnmount","releaseDependencies","category","CategoryPage","CategoryPageWrap","CategoryPageLoader","CategoryPageError","loadCategory","age","getFullYear","whatsGlitchAlt","WhatIsGlitch","showVideoOverlay","Category","ulProps","CategoryContainer","categoriesWithProjects","sampledProjects","loadCategories","iconHelp","outerColor","data-track","data-track-label","innerColor","userColor","userAvatar","userLogin","fullQuestion","filteredQuestion","tags","filteredTag","MAX_QUESTION_LENGTH","MAX_TAG_LENGTH","colorOuter","colorInner","popupProps","projectName","ProjectOptionsPop","PopoverButton","animate","projectContainer","prompt","confirm","ProjectItem","_projectOptionsPop2","borderBottomColor","hiddenUnlessCurrentUser","userAvatarIsAnon","userAvatarStyle","hiddenIfUserIsFetched","loader","find","closeAllPopOvers","_recentProjects2","imgTitle","collection","img","_featuredCollection2","totalUpdates","updates","hiddenUnlessNewStuffNotificationVisible","showNewStuffOverlay","data-tooltip-top","data-tooltip-persistent","visibility","checked","mdToNode","updateNewStuffRead","newStuffNotificationVisible","newStuffLog","_newStuffLog2","markdown","getUpdates","newStuffReadId","getUserPref","latestStuff","hasNewStuff","unread","ignoreNewStuff","showNewStuff","updateUserPrefs","hiddenUnlessOverlayVideoVisible","stopPropagation","tabindex","videoFoam","overlayVideoVisible","FooterLine","NewProjectPop","NewProjectPopContainer","projectProps","UserOptionsPopContainer","TeamButton","TeamButtons","UserOptionsPop","reset","localStorage","removeItem","reload","data-tooltip-right","Logo","hour","getHours","ResumeCoding","submitSearch","q","SearchForm","onSubmit","defaultValue","_urlJoin2","method","UserOptionsPopWrapper","_userOptionsPop2","signedIn","_newProjectPop2","_signInPop2","HeaderContainer","QuestionsPresenter","RecentProjectsPresenter","embed","featuredCollections","randomCategories","ByFogCreek","getElementsByClassName","focus","RandomCategories","EmbedHtml","_index2","Question","created","questionId","details","_randomcolor2","luminosity","cachedUser","Raven","captureMessage","extra","setUserContext","pageIsTeamPage","$","baseURL","API_URL","cancelToken","headers","Authorization","storeLocal","getLocal","getUserPrefs","prefs","provider","authURL","callbackURL","saveUser","getCurrentUserById","userData","loadUser","teamData","projectsData","getUsers","usersData","userIds","cachedCategories","removeFirstCharacter","end","anonProfileIdFromUrl","getCachedTeamByUrl","cachedTeams","queryString","qs","normalizedRoute","pathname","hash","errorData","deets","_error2","identify","email","created_at","captureException","identifyUser","page","pageUrl","charAt","projectDomain","decodeURI","_search2","_category2","routePage","route","globalclick","keyCode"],"mappings":"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","file":"client-bundle.js?6fd0c64c20ca9ef8f143","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t4: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({\"0\":\"c3-bundle\"}[chunkId]||chunkId) + \".js?\" + {\"0\":\"c68cc07c961f4bd1af05\"}[chunkId] + \"\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([327,3,2,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/* global application CDN_URL EDITOR_URL*/\nimport {find} from 'lodash';\n\nlet Project;\nconst cache = {};\n\nimport Team from './team';\nimport Model from './model';\nimport axios from 'axios';\n\nlet source = undefined; // reference to cancel token\n\nexport const FALLBACK_AVATAR_URL = \"https://cdn.glitch.com/c53fd895-ee00-4295-b111-7e024967a033%2Ffallback-project-avatar.svg?1528812220123\";\n\nexport default Project = function(I, self) {\n  \n  if (I == null) { I = {}; }\n  if (self == null) { self = Model(I); }\n  if (cache[I.id]) {\n    return cache[I.id];\n  }\n\n  self.defaults(I, {\n    domain: undefined,\n    id: undefined,\n    description: undefined,\n    teams: undefined,\n    users: undefined,\n    showAsGlitchTeam: false,\n  }\n  );\n\n  self.attrObservable(...Array.from(Object.keys(I) || []));\n  self.attrObservable(\"readme\", \"readmeNotFound\", \"projectNotFound\", \"fetched\", \"displayName\", \"private\");\n  self.attrModels('teams', Team);\n  self.attrModels('users', User);\n\n  self.extend({\n\n    asProps() {\n      const project = self;\n\n      return {\n        get teams() { return project.teams().map(team => team.asProps()); },\n        get users() { return project.users().map(user => user.asProps()); },\n        avatar: project.avatar(),\n        description: project.description(),\n        domain: project.domain(),\n        id: project.id(),\n        isRecentProject: !!(project.isRecentProject),\n        link: getLink(self.domain()),\n        name: project.name(),\n        private: project.private(),\n        showAsGlitchTeam: !!(project.showAsGlitchTeam && project.showAsGlitchTeam()),\n        remixUrl: project.remixUrl(),\n        userIsCurrentUser: project.userIsCurrentUser(application),\n      };\n    },\n\n    name() {\n      return self.domain();\n    },\n  \n    editUrl() {\n      if (I.line) {\n        return `${EDITOR_URL}#!/${I.domain}?path=${I.path}:${I.line}:${I.character}`;\n      }\n      return `${EDITOR_URL}#!/${I.domain}`;\n    },\n    \n    remixUrl() {\n      return `${EDITOR_URL}#!/remix/${I.domain}`;\n    },\n\n    userIsCurrentUser(application) {\n      const userIsCurrentUser = find(self.users(), user => user.id() === application.currentUser().id());\n      return !!userIsCurrentUser;\n    },\n\n    avatar() {\n      return getAvatarUrl(self.id());\n    },\n        \n    getReadme(application) {\n      if (self.id() === undefined) {\n        self.readmeNotFound(true);\n        self.projectNotFound(true);\n        return;\n      }\n      \n      const { CancelToken } = axios;\n      source = CancelToken.source();\n      self.readme(undefined);\n      self.readmeNotFound(undefined);\n      self.projectNotFound(undefined);\n      let path = `projects/${self.id()}/readme`;\n      let token = application.currentUser() && application.currentUser().persistentToken();\n      if(token){\n        path += `?token=${token}`;\n      }\n      return application.api(source).get(path)\n        .then(function(response) {\n          self.readme(response.data);\n          return application.overlayProject(self);\n        }).catch(function(error) {\n          console.error(\"getReadme\", error);\n          if (error.response.status === 404) {\n            return self.readmeNotFound(true);\n          } \n          return self.projectNotFound(true);\n        \n        });\n    },\n\n    pushSearchResult(application) {\n      application.searchResultsProjects.push(self);\n      return application.searchResultsProjectsLoaded(true);\n    },\n           \n    delete() {\n      const projectPath = `/projects/${self.id()}`;\n      return new Promise(function(resolve, reject) {\n        return application.api().delete(projectPath)\n          .then(response => resolve(response)).catch(function(error) {\n            reject(error);\n            return console.error('deleteProject', error);\n          });\n      });\n    },\n      \n    undelete() {\n      const projectPath = `/projects/${self.id()}/undelete`;\n      return new Promise(function(resolve, reject) { \n        return application.api().post(projectPath)\n          .then(response => resolve(response)).catch(function(error) {\n            console.error('undeleteProject', error);\n            return reject(error);\n          });\n      });\n    },\n    \n    leave() {\n      const projectAuthPath = `/projects/${self.id()}/authorization`;\n      const config = {\n        data: { \n          targetUserId: application.currentUser().id(),\n        },\n      };\n      return new Promise(function(resolve, reject) {\n        return application.api().delete(projectAuthPath, config)\n          .then(response => resolve(response)).catch(function(error) {\n            console.error('leaveProject', error);\n            return reject(error);\n          });\n      });\n    },\n  });\n      \n  cache[I.id] = self;\n  // console.log ' project cache', cache\n\n  return self;\n};\n\n// Fetch projects and populate them into the local cache\nProject.getProjectsByIds = function(api, ids) {\n  const NUMBER_OF_PROJECTS_PER_REQUEST = 40;\n  const newProjectIds = ids.filter(function(id) {\n    const project = cache[id];\n    return !project || !project.fetched();\n  });\n  \n  // fetch the ids in groups so they fit into max allowable url length\n  const projectIdGroups = newProjectIds.map(function(id, index) {\n    if ((index % NUMBER_OF_PROJECTS_PER_REQUEST) === 0) {\n      return newProjectIds.slice(index, index + NUMBER_OF_PROJECTS_PER_REQUEST);       \n    }  return null; }).filter(id => id);\n  \n  projectIdGroups.map(function(group) {\n    const projectsPath = `projects/byIds?ids=${group.join(',')}`;\n    return api.get(projectsPath)\n      .then(function({data}) {\n        data.map(function(datum) {\n          datum.fetched = true;\n          return Project(datum).update(datum);\n        }); \n      })\n      .catch(error => console.error(\"getProjectsByIds\", error));\n  });\n  \n  return ids.map(id => Project({id}));\n};\n\n//getProjectsByIds, but wrapped in a promise until they're all fetched.\nProject.promiseProjectsByIds = (api, ids) => {\n  // Fetch all the project models.\n  const projects = Project.getProjectsByIds(api, ids);\n  \n  // Set up promises to listen to the fetched() state\n  const promises = projects.map(project => {\n    return new Promise((resolve) => {\n      project.fetched.observe((isFetched) => {\n        isFetched && resolve();\n      });\n    });\n  });\n  \n  // Once they all report in as fetched,\n  // return the (now populated) original projects object\n  return new Promise((resolve) => {\n    Promise.all(promises).then(() => {\n      return resolve(projects);\n    });\n  });\n};\n\n\nProject._cache = cache;\n\nexport function getAvatarUrl(id) {\n  return `${CDN_URL}/project-avatar/${id}.png`;\n}\n\nexport function getLink(domain) {\n  return `/~${domain}`;\n}\n\n// Circular dependencies must go below module.exports\nimport User from './user';\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Loader = () => (\n  <div className=\"loader\">\n    <div className=\"moon\"></div>\n    <div className=\"earth\"></div>\n    <div className=\"asteroid\"></div>    \n    <div className=\"asteroid-dust\"></div>    \n  </div>    \n);\nexport default Loader;\n\nexport class DataLoader extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      maybeData: null,\n      loaded: false,\n      maybeError: null,\n    };\n  }\n  \n  componentDidMount() {\n    this.props.get().then(\n      data => this.setState({\n        maybeData: data,\n        loaded: true,\n      }),\n      error => {\n        console.error(error);\n        this.setState({\n          maybeError: error,\n        });\n      }\n    );\n  }\n  \n  render() {\n    if (this.state.loaded) {\n      return this.props.children(this.state.maybeData);\n    } else if (this.state.maybeError) {\n      return this.props.renderError(this.state.maybeError);\n    } \n    return this.props.renderLoader();\n    \n  }\n}\nDataLoader.propTypes = {\n  children: PropTypes.func.isRequired,\n  get: PropTypes.func.isRequired,\n  renderError: PropTypes.func,\n  renderLoader: PropTypes.func,\n};\nDataLoader.defaultProps = {\n  renderError: () => 'Something went wrong, try refreshing?',\n  renderLoader: Loader,\n};\n","// This shim helps attach React components to Jadelet files\n// Also see templates/reactlet.jade\n\n/* globals Set */\n\nimport ReactletTemplate from '../templates/reactlet';\n\nimport {render} from 'react-dom';\nimport React from 'react';\nlet anchorId = 1;\nlet stack = [];\nlet distinctIds = new Set();\nlet batchPending = false;\n\nexport default function(Component, props, guid=null) {\n  const id = guid || `reactlet-${Component.name || \"anon\"}-${anchorId++}`;\n  \n  // Rather than rendering immediately, \n  // collect the invocations into a stack.\n  // We have to wait until the DOM element is present before we can act anyway,\n  // and then we can render in reverse order so that duplicates get culled\n  // and we end up outputing only the most recent version.\n  distinctIds.add(id);\n  stack.push({\n    id: id,\n    render: (el) => { \n      render(\n        React.createElement(Component, props),\n        el\n      );\n    }\n  });\n  \n  if(!batchPending) {\n    batchPending = true;\n    setTimeout(() => { \n      while(stack.length) {\n        const {id, render} = stack.pop();\n        const distinct = distinctIds.delete(id);\n        if(!distinct){\n          // The same ID was added multiple times.\n          // If we proceed now, we'll render an older version.\n          // ...So don't.\n          continue;\n        }\n        const el = document.getElementById(id);\n        if(!el) {\n          // The page rerendered multiple times before\n          // we got put into the dom.\n          // Jadelet gonna jadelet, it's ok.\n          continue;\n        }\n        render(el);\n      }\n      batchPending = false;\n      \n      if(distinctIds.size !== 0) {\n        console.error(\"Unrendered elements detected\", distinctIds);\n      }\n    });\n  }\n\n  return ReactletTemplate({id: id});\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport onClickOutside from 'react-onclickoutside';\nimport {isFragment} from 'react-is';\n\n/*\nA popover is a light, hollow roll made from an egg batter similar to\nthat of Yorkshire pudding, typically baked in muffin tins or dedicated\npopover pans, which have straight-walled sides rather than angled.\n\n...also it's a [Bootstrap UI pattern](https://www.w3schools.com/bootstrap/bootstrap_popover.asp)\n*/\nconst Wrapper = ({children}) => (children);\n\nWrapper.propTypes = {\n  children: PropTypes.element.isRequired\n};\n\nexport default class PopoverContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { visible: false };\n\n    this.toggle = this.toggle.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n   \n    // We need to set up and instantiate an onClickOutside wrapper\n    // It's important to instantiate it once and pass though its children,\n    // otherwise the diff algorithm won't be able to figureo out our hijinks.\n    // https://github.com/Pomax/react-onclickoutside\n\n    // We do extra work with disableOnClickOutside and handleClickOutside\n    // to prevent event bindings from being created until the popover is opened.\n    const clickOutsideConfig = {\n      handleClickOutside: (function() { return this.handleClickOutside; }).bind(this),\n      excludeScrollbar: true,\n    };\n    this.MonitoredComponent = onClickOutside(Wrapper, clickOutsideConfig);\n  }\n  \n  handleClickOutside(event) {\n    // On keyup events, only hide the popup if it was the Escape key\n    if(event.type === \"keyup\" && ![\"Escape\", \"Esc\"].includes(event.key)) {\n      return;\n    }\n    \n    this.setState({visible: false});\n  }\n  \n  toggle() {\n    this.setState((prevState) => {\n      return {visible: !prevState.visible};\n    });\n  }\n\n  render() {\n    const inner = this.props.children({visible: this.state.visible, togglePopover: this.toggle});\n    if(isFragment(inner)) {\n      console.error(\"PopoverContainer does not support React.Fragment as the top level item. Please use a different element.\");\n    }\n    return (\n      <this.MonitoredComponent disableOnClickOutside={!this.state.visible} eventTypes={[\"mousedown\", \"touchstart\", \"keyup\"]}>\n        {inner}\n      </this.MonitoredComponent>\n    );\n  }\n}\n\nPopoverContainer.propTypes = {\n  children: PropTypes.func.isRequired,\n};\n","let User;\nimport axios from 'axios';\nimport mdFactory from 'markdown-it';\nconst md = mdFactory({\n  breaks: true,\n  linkify: true,\n  typographer: true}).disable(['image']);\n\nimport Model from './model';\nconst cache = {};\nconst cacheBuster = Math.floor(Math.random() * 1000);\n\nexport const ANON_AVATAR_URL = \"https://cdn.glitch.com/f6949da2-781d-4fd5-81e6-1fdd56350165%2Fanon-user-on-project-avatar.svg?1488556279399\";\n\nexport default User = function(I, self) {\n\n  if (I == null) { I = {}; }\n  if (self == null) { self = Model(I); }\n  if (cache[I.id]) {\n    return cache[I.id];\n  }\n  \n  self.defaults(I, {\n    id: undefined,\n    avatarUrl: undefined,\n    avatarThumbnailUrl: undefined,\n    color: undefined,\n    hasCoverImage: false,\n    coverColor: \"#1F33D9\",\n    login: null,\n    name: null,\n    description: \"\",\n    initialDescription: \"\",\n    projects: undefined,\n    teams: [],\n    thanksCount: 0,\n    fetched: false,\n    showAsGlitchTeam: false,\n    persistentToken: null,\n    pins: [],\n    deletedProjects: [],\n  });\n\n  self.attrObservable(...Array.from(Object.keys(I) || []));\n  self.attrObservable(\"notFound\");\n  self.attrObservable(\"localCoverImage\");\n  self.attrModels('projects', Project);\n\n  self.extend({\n\n    isSignedIn() {\n      return !!self.login();\n    },\n\n    isAnon() {\n      return !self.login();\n    },\n\n    isAnExperiencedUser() {\n      if (self.login() && (self.projects().length > 1)) {\n        return true;\n      }\n    },\n\n    coverUrl(size='large') {\n      if (self.localCoverImage()) {\n        return self.localCoverImage();\n      } \n\n      if (self.hasCoverImage()) {\n        return `https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/user-cover/${self.id()}/${size}?${cacheBuster}`;\n      } \n      return \"https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-cover-wide.svg?1503518400625\";\n      \n    },\n    \n    profileStyle() {\n      return {\n        backgroundColor: self.coverColor(),\n        backgroundImage: `url('${self.coverUrl()}')`,\n      };\n    },\n\n    avatarStyle() {\n      return {\n        backgroundColor: self.color(),\n        backgroundImage: `url('${self.userAvatarUrl('large')}')`,\n      };\n    },\n\n    userAvatarUrl(size) {\n      size = size || 'small';\n      if (self.isAnon() || !self.avatarUrl()) {\n        return self.anonAvatar();\n      }\n      if (size === \"large\") {\n        return self.avatarUrl();\n      }\n      return self.avatarThumbnailUrl();\n    },\n\n    isCurrentUser(application) {\n      return self.id() === application.currentUser().id();\n    },\n\n    isOnUserPageForCurrentUser(application) {\n      return !!(application.pageIsUserPage() && self.isCurrentUser(application));\n    },\n\n    hiddenIfSignedIn() {\n      if (self.isSignedIn()) { return 'hidden'; }\n    },\n\n    hiddenUnlessSignedIn() {\n      if (!self.isSignedIn()) { return 'hidden'; }\n    },\n\n    //\n    // hiddenIfAnon: ->\n    //   'hidden' if self.isAnon()\n\n    hiddenIfFetched() {\n      if (self.fetched()) { return 'hidden'; }\n    },\n\n    hiddenUnlessFetched() {\n      if (!self.fetched()) { return 'hidden'; }\n    },\n\n    tooltipName() {\n      return self.login() || \"anonymous user\";\n    },\n    \n    alt() {\n      return `${I.login} avatar`;\n    },\n    \n    style() {\n      return {backgroundColor: I.color};\n    },\n    \n    userLink() {\n      if (self.isSignedIn()) {\n        return `/@${I.login}`;\n      } \n      return `/user/${I.id}`;\n      \n    },\n\n    anonAvatar() {\n      return ANON_AVATAR_URL;\n    },\n\n    glitchTeamAvatar() {\n      return \"https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Fglitch-team-avatar.svg\";\n    },\n\n    updateUser(application, updateData) {\n      const userPath = `users/${self.id()}`;\n      return application.api().patch(userPath, updateData).then(({data}) => {\n        console.log('updatedUser', data);\n        return {\n          success: true,\n          data: data,\n          message: null,\n        };\n      }).catch(error => {\n        console.error(`updateUser PATCH ${userPath}`, error);\n        let message = \"Unable to update :-(\";\n        if(error && error.response && error.response.data && error.response.data.message) {\n          message = error.response.data.message;\n        }\n        return {\n          success: false,\n          data: updateData,\n          message,\n        };\n      });\n    },\n\n    updateCoverColor(application, color) {\n      self.coverColor(color);\n      return self.updateUser(application, \n        {coverColor: color});\n    },\n\n    truncatedDescription() {\n      const MAX_CHARACTERS = 140;\n      if (self.description().length > MAX_CHARACTERS) {\n        return self.description().substring(0, MAX_CHARACTERS) + \"\";\n      } \n      return self.description();\n      \n    },\n\n    descriptionMarkdown() {\n      const text = self.description();\n      const node = document.createElement('span');\n      node.innerHTML = md.render(text);\n      return node;\n    },\n    \n    truncatedDescriptionMarkdown() {\n      const text = self.truncatedDescription();\n      const node = document.createElement('span');\n      node.innerHTML = md.render(text);\n      return node;\n    },\n\n    initialDescriptionMarkdown() {\n      const text = self.initialDescription();\n      const node = document.createElement('span');\n      node.innerHTML = md.render(text);\n      return node;\n    },\n\n    userThanks() {\n      const thanksCount = self.thanksCount();\n      if (thanksCount === 1) {\n        return \"Thanked once\";\n      } else if (thanksCount === 2) {\n        return \"Thanked twice\";\n      } \n      return `Thanked ${thanksCount} times`;\n      \n    },\n    \n    addPin(application, projectId) {\n      self.pins.push({\n        projectId});\n      const pinPath = `users/${self.id()}/pinned-projects/${projectId}`;\n      return application.api().post(pinPath)\n        .then(({data}) => console.log(data)).catch(error => console.error('addPin', error));\n    },\n\n    removePin(application, projectId) {\n      const newPins = self.pins().filter(pin => pin.projectId !== projectId);\n      self.pins(newPins);\n      const pinPath = `users/${self.id()}/pinned-projects/${projectId}`;\n      return application.api().delete(pinPath)\n        .then(({data}) => console.log(data)).catch(error => console.error('removePin', error));\n    },\n    \n    asProps() {\n      return {\n        get teams() { return self.teams.filter(({asProps}) => !!asProps).map(({asProps}) => asProps()); },\n        get projects() { return self.projects.filter(({asProps}) => !!asProps).map(({asProps}) => asProps()); },\n        get pins() { return self.pins(); },\n\n        alt: self.alt(),\n        avatarUrl: self.avatarUrl(),\n        color: self.color(),\n        coverColor: self.coverColor(),\n        coverUrlSmall: self.coverUrl('small'),\n        description: self.description(),\n        initialDescription: self.initialDescription(),\n        hasCoverImage: self.hasCoverImage(),\n        id: self.id(),\n        login: self.login(),\n        name: self.name(),\n        style: self.style(),\n        profileStyle: self.profileStyle(),\n        avatarStyle: self.avatarStyle(),\n        thanksCount: self.thanksCount(),\n        tooltipName: self.tooltipName(),\n        // truncatedDescriptionHtml: md.render(self.truncatedDescription()),\n        userAvatarUrl: self.userAvatarUrl(),\n        userAvatarUrlLarge: self.userAvatarUrl('large'),\n        userLink: self.userLink(),\n        userThanks: self.userThanks(),\n        \n      };\n    },\n  });\n\n\n  if (I.id) {\n    cache[I.id] = self;\n  }\n  // console.log ' user cache', cache\n\n  return self;\n};\n\nUser.getUserByLogin = function(application, login) {\n  const userIdPath = `/userid/byLogin/${login}`;\n  return application.api().get(userIdPath)\n    .then(function(response) {\n      const userId = response.data;\n      if (userId === \"NOT FOUND\") {\n        application.user().notFound(true);\n        return;\n      }\n      return User.getUserById(application, userId);\n    }).catch(error => console.error(`getUserByLogin GET ${userIdPath}`, error));\n};\n\nUser.getUserById = function(application, id) {\n  const userPath = `users/${id}`;\n  const promise = new Promise((resolve, reject) => {\n    return application.api().get(userPath)\n      .then(({data}) => resolve(data)).catch(function(error) {\n        console.error(`getUserById GET ${userPath}`, error);\n        return reject();\n      });\n  });\n  return promise;\n};\n\nUser.getUsersById = function(api, ids) {\n  const userIdsToFetch = ids.filter(function(id) {\n    const user = cache[id];\n    return !user || !user.fetched();\n  });\n  const usersPath = `users/byIds?ids=${userIdsToFetch.join(',')}`;\n  return api.get(usersPath)\n    .then(function({data}) {\n      data.forEach(function(datum) {\n        datum.fetched = true;\n        return User(datum).update(datum);\n      });\n      return ids.map(id => User({id}));\n    });\n};\n\nUser.getSearchResultsJSON = function(application, query) {\n  const { CancelToken } = axios;\n  const source = CancelToken.source();\n  const searchPath = `users/search?q=${query}`;\n  return application.api(source).get(searchPath)\n    .then(({data}) => data)\n    .catch(error => console.error('getSearchResultsJSON', error));\n};\n\n\nUser._cache = cache;\n\nexport function getAvatarStyle({avatarUrl, color}) {\n  return {\n    backgroundColor: color,\n    backgroundImage: `url('${avatarUrl || ANON_AVATAR_URL}')`,\n  };\n}\n\nexport function getProfileStyle({id, hasCoverImage, coverColor, cache}) {\n  const customImage = `https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/user-cover/${id}/large?${cache}`;\n  const defaultImage = \"https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-cover-wide.svg?1503518400625\";\n  return {\n    backgroundColor: coverColor,\n    backgroundImage: `url('${hasCoverImage ? customImage : defaultImage}')`,\n  };\n}\n\n// Circular dependencies must go below module.exports\nimport Project from './project';\n","import Layout from '../templates/layout';\nimport Header from './header.jsx';\nimport Footer from './footer.jsx';\nimport OverlayVideo from './overlays/overlay-video';\nimport NewStuffPresenter from './overlays/new-stuff';\nimport ProjectModel from '../models/project';\nimport Observable from 'o_0';\n\nimport Reactlet from './reactlet';\n\nexport default (application, content) =>\n\n  Layout({\n\n    header() {\n      const userObservable = Observable(() => {\n        const user = application.currentUser();\n        const maybeUser = user.fetched() ? user.asProps() : null;\n        if (maybeUser) {\n          //Invoke any getters we care about\n          maybeUser.teams;\n        }\n        return maybeUser;\n      });\n      const props = {\n        baseUrl: application.normalizedBaseUrl(),\n        userObservable: userObservable,\n        searchQuery: application.searchQuery(),\n        overlayNewStuffVisible: application.overlayNewStuffVisible,\n        promiseProjectsByIds: (projectIds) => ProjectModel.promiseProjectsByIds(application.api(), projectIds),\n      };\n      return Reactlet(Header, props);\n    },\n    \n    content,\n\n    footer: Reactlet(Footer),\n    \n    overlayVideo: OverlayVideo(application),\n    newStuff: NewStuffPresenter(application),\n  });\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ThanksWrap = ({children}) => (\n  <p className=\"thanks\">\n    {children}\n    &nbsp;\n    <span className=\"emoji sparkling_heart\" />\n  </p>\n);\nThanksWrap.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nconst ThanksText = ({count}) => {\n  if (count === 1) {\n    return \"Thanked once\";\n  } else if (count === 2) {\n    return \"Thanked twice\";\n  } \n  return `Thanked ${count} times`;\n};\nThanksText.propTypes = {\n  count: PropTypes.number.isRequired,\n};\n\nconst Thanks = ({count}) => (count > 0 ? <ThanksWrap><ThanksText count={count} /></ThanksWrap> : null);\nThanks.propTypes = {\n  count: PropTypes.number.isRequired,\n};\n\nconst ThanksShort = ({count}) => (count > 0 ? <ThanksWrap>{count}</ThanksWrap> : null);\nThanksShort.propTypes = {\n  count: PropTypes.number.isRequired,\n};\n\nexport {Thanks, ThanksShort};\nexport default Thanks;","import React from 'react';\n\nconst {Provider, Consumer} = React.createContext();\n\nconst Notification = ({children, className, remove}) => (\n  <aside className={`notification ${className}`} onAnimationEnd={remove}>\n    {children}\n  </aside>\n);\n\nexport class Notifications extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      notifications: [],\n    };\n  }\n  \n  create(content, className='') {\n    const notification = {\n      id: `${Date.now()}{Math.random()}`,\n      className,\n      content,\n    };\n    this.setState(({notifications}) => ({\n      notifications: [...notifications, notification],\n    }));\n    return notification.id;\n  }\n  \n  createError(content='Something went wrong. Try refreshing?') {\n    this.create(content, 'notifyError');\n  }\n  \n  createPersistent(content, className='') {\n    const id = this.create(content, `notifyPersistent ${className}`);\n    const updateNotification = (content) => {\n      this.setState(({notifications}) => ({\n        notifications: notifications.map(n => n.id === id ? {...n, content} : n),\n      }));\n    };\n    const removeNotification = () => {\n      this.remove(id);\n    };\n    return {\n      updateNotification,\n      removeNotification,\n    };\n  }\n  \n  remove(id) {\n    this.setState(({notifications}) => ({\n      notifications: notifications.filter(n => n.id !== id),\n    }));\n  }\n  \n  render() {\n    const funcs = {\n      createNotification: this.create.bind(this),\n      createPersistentNotification: this.createPersistent.bind(this),\n      createErrorNotification: this.createError.bind(this),\n    };\n    const {notifications} = this.state;\n    window.notify = funcs; //weewoo weeoo test code here\n    return (\n      <React.Fragment>\n        <Provider value={funcs}>\n          {this.props.children}\n        </Provider>\n        {!!notifications.length && (\n          <div className=\"notifications\">\n            {notifications.map(({id, className, content}) => (\n              <Notification key={id} className={className} remove={this.remove.bind(this, id)}>\n                {content}\n              </Notification>\n            ))}\n          </div>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Consumer;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ProjectItem from \"./project-item.jsx\";\n\nexport const ProjectsList = ({title, projects, placeholder, projectOptions}) => (\n  <article className=\"projects\">\n    <h2>{title}</h2>\n\n    {!!(placeholder && !projects.length) && (\n      <div className=\"placeholder\">{placeholder}</div>\n    )}\n\n    <ProjectsUL {...{projects, projectOptions}}></ProjectsUL>\n\n  </article>\n);\n\nProjectsList.propTypes = {\n  projects: PropTypes.array.isRequired,\n  title: PropTypes.node.isRequired,\n  placeholder: PropTypes.node,\n};\n\nexport const ProjectsUL = ({projects, projectOptions, categoryColor}) => {\n  return (\n    <ul className=\"projects-container\">\n      { projects.map(project => (\n        <ProjectItem key={project.id} {...{project, projectOptions, categoryColor}}></ProjectItem>\n      ))}\n    </ul>\n  );\n};\n\nProjectsUL.propTypes = {\n  projects: PropTypes.array.isRequired,\n};\n\n\nexport default ProjectsList;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport truncate from 'html-truncate';\nimport markdownIt from 'markdown-it';\nimport markdownEmoji from 'markdown-it-emoji';\nimport markdownSanitizer from 'markdown-it-sanitizer';\n\nconst md = markdownIt({\n  html: true,\n  breaks: true,\n  linkify: true,\n  typographer: true,\n})\n  .disable('smartquotes')\n  .use(markdownEmoji)\n  .use(markdownSanitizer);\n\nconst RawHTML = ({children}) => (\n  children ? <span className=\"markdown-content\" dangerouslySetInnerHTML={{__html: children}}></span> : null\n);\nRawHTML.propTypes = {\n  children: PropTypes.string.isRequired,\n};\n\nconst Markdown = ({children}) => (\n  <RawHTML>{md.render(children||\"\")}</RawHTML>\n);\nMarkdown.propTypes = {\n  children: PropTypes.string.isRequired,\n};\n\nconst TruncatedMarkdown = ({children, length}) => (\n  <RawHTML>{truncate(md.render(children||\"\"), length, {ellipsis: ''})}</RawHTML>\n);\nTruncatedMarkdown.propTypes = {\n  children: PropTypes.string.isRequired,\n  length: PropTypes.number.isRequired,\n};\n\nexport { Markdown, TruncatedMarkdown };\nexport default Markdown;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PopoverContainer from './pop-overs/popover-container.jsx';\nimport {ANON_AVATAR_URL} from '../models/user.js';\n\nfunction addDefaultSrc(event) {\n  event.target.src = ANON_AVATAR_URL;\n}\n\nconst UserAvatar = ({\n  alt, \n  userAvatarUrl,\n}) => (\n  <img onError={addDefaultSrc} className=\"user-list-avatar\" width=\"32px\" height=\"32px\" src={userAvatarUrl} alt={alt}/>\n);\n\nUserAvatar.propTypes = {\n  alt: PropTypes.string.isRequired,\n  userAvatarUrl: PropTypes.string.isRequired,\n};\n\nconst UserTile = ({\n  userLink,\n  tooltipName, \n  style,\n  alt, \n  userAvatarUrl,\n  extraClass=\"\",\n}) => (\n  <a className={`user ${extraClass}`} href={userLink} data-tooltip={tooltipName} data-tooltip-left=\"true\" style={style}>\n    <UserAvatar userAvatarUrl={userAvatarUrl} alt={alt} />\n  </a>\n);\n\nUserTile.propTypes = {\n  userLink: PropTypes.string,\n  tooltipName: PropTypes.string.isRequired,\n  style: PropTypes.object.isRequired,\n  extraClass: PropTypes.string,\n};\n\nexport const PopulatedUsersList = ({users, extraClass=\"\" }) => (\n  <ul className={`users ${extraClass}`}>\n    {users.map((user, key) => (\n      <li key={key}>\n        <UserTile {...user} />\n      </li>\n    ))}\n  </ul>\n);\n\nPopulatedUsersList.propTypes = {\n  users: PropTypes.array.isRequired,\n  extraClass: PropTypes.string,\n};\n\nconst glitchTeamAvatar = \"https://cdn.gomix.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Fglitch-team-avatar.svg?1489266029267\";\nconst UsersList = ({glitchTeam=false, users, ...props}) => {\n  if(glitchTeam) {\n    users = [{\n      userLink: null,\n      tooltipName: \"Glitch-Team\",\n      style: {backgroundColor:\"#74ecfc\"},\n      alt: \"Glitch Team Avatar\",\n      userAvatarUrl: glitchTeamAvatar,\n      extraClass: \"made-by-glitch\",\n    }];\n  }\n  return <PopulatedUsersList users={users} {...props}/>;\n};\n\nUsersList.propTypes = {\n  glitchTeam: PropTypes.bool,\n};\n\nexport default UsersList;\n\nconst UserPopoverTile = ({\n  tooltipName, \n  style,\n  alt, \n  userAvatarUrl,\n  children,\n}) => (\n  <PopoverContainer>\n    {({visible, togglePopover}) => (\n      <div className=\"button-wrap\">\n        <button onClick={togglePopover} className=\"user button-unstyled\" data-tooltip={tooltipName} data-tooltip-left=\"true\" style={style}>\n          <UserAvatar userAvatarUrl={userAvatarUrl} alt={alt} />\n        </button>\n        {!!visible && children(togglePopover)}\n      </div>\n    )}\n  </PopoverContainer>\n);\n\nUserPopoverTile.propTypes = {\n  userLink: PropTypes.string,\n  tooltipName: PropTypes.string.isRequired,\n  style: PropTypes.object.isRequired,\n  extraClass: PropTypes.string,\n  children: PropTypes.func.isRequired,\n};\n\nexport const UserPopoversList = ({users, children}) => (\n  <ul className=\"users\">\n    {users.map((user, key) => (\n      <li key={key}>\n        <UserPopoverTile {...user}>\n          {(togglePopover) => children(user, togglePopover)}\n        </UserPopoverTile>\n      </li>\n    ))}\n  </ul>\n);\n\nUserPopoversList.propTypes = {\n  users: PropTypes.array.isRequired,\n  children: PropTypes.func.isRequired,\n};","// A composable data model that serializes cleanly to JSON and provides\n// observable properties.\n\nimport Observable from 'o_0';\n\nconst defAccessor = (self, attrName) =>\n  self[attrName] = function(newValue) {\n    if (arguments.length > 0) {\n      self.I[attrName] = newValue;\n\n      return self;\n    } \n    return self.I[attrName];\n    \n  }\n;\n\nexport default function(I, self) {\n  if (I == null) { I = {}; }\n  if (self == null) { self = {}; }\n  const constructors = {};\n\n  return extend(self, {\n    I,\n    \n    // Generates a public jQuery style getter / setter method for each String\n    // argument\n    attrAccessor(...attrNames) {\n      attrNames.forEach(attrName => defAccessor(self, attrName));\n\n      return self;\n    },\n\n    // Generates a public jQuery style getter method for each String argument\n    // >     myObject = Model\n    // >       r: 255\n    // >       g: 0\n    // >       b: 100\n    // >     myObject.attrAccessor \"r\", \"g\", \"b\"\n    // >     myObject.r(254)\n    attrReader(...attrNames) {\n      attrNames.forEach(attrName =>\n        self[attrName] = () => I[attrName]);\n\n      return self;\n    },\n\n    // Extends an object with methods from the passed in object\n    // >     I =\n    // >       x: 30\n    // >       y: 40\n    // >       maxSpeed: 5\n    // >     player = Model(I).extend\n    // >       increaseSpeed: ->\n    // >         I.maxSpeed += 1\n    // >     player.increaseSpeed()\n    extend(...objects) {\n      return extend(self, ...Array.from(objects));\n    },\n\n    defaults(...objects) {\n      for (let object of Array.from(objects)) {\n        for (let name in object) {\n          if (I[name] === undefined) {\n            I[name] = object[name];\n          }\n        }\n      }\n\n      return self;\n    },\n      \n    // Includes a module in this object.\n    // A module is a constructor that takes two parameters, I and self\n    // >     myObject = Model()\n    // >     myObject.include(Bindable)\n    // >     myObject.bind \"someEvent\", ->\n    // >       alert(\"wow. that was easy.\")\n    include(...modules) {\n      for (let Module of Array.from(modules)) {\n        Module(I, self);\n      }\n\n      return self;\n    },\n\n    // Specify any number of attributes as observables which listen to changes\n    // when the value is set\n    attrObservable(...names) {\n      names.forEach(function(name) {\n        self[name] = Observable(I[name]);\n        return self[name].observe(newValue => I[name] = newValue);\n      });\n\n      return self;\n    },\n\n    // Model an attribute as an object\n    // >     self.attrDatum(\"position\", Point)\n    attrDatum(name, DataModel) {\n      let model;\n      I[name] = (model = DataModel(I[name]));\n      self[name] = Observable(model);\n      self[name].observe(newValue => I[name] = newValue);\n\n      return self;\n    },\n\n    // Models an array attribute as an observable array of data objects\n    attrData(name, DataModel) {\n      const models = (I[name] || []).map(x => DataModel(x));\n      self[name] = Observable(models);\n      self[name].observe(newValue =>\n        I[name] = newValue.map(x => DataModel(x))\n      );\n\n      return self;\n    },\n\n    // Specify an attribute to treat as an observerable model instance\n    attrModel(name, Model) {\n      if (typeof Model !== 'function') {\n        throw new Error(`${Model} is not a function`);\n      }\n\n      constructors[name] = Model;\n\n      const model = Model(I[name]);\n      self[name] = Observable(model);\n      self[name].observe(newValue => I[name] = newValue.I);\n\n      return self;\n    },\n\n    // Observe a list of attribute models.\n    // This is the same as attrModel except the attribute is expected to be an\n    // array of models\n    attrModels(name, Model) {\n      if (typeof Model !== 'function') {\n        throw new Error(`${Model} is not a function`);\n      }\n\n      constructors[name] = data =>\n        (data || []).map(x => Model(x))\n      ;\n\n      const models = constructors[name](I[name]);\n\n      self[name] = Observable(models);\n      self[name].observe(newValue =>\n        I[name] = newValue.map(instance => instance.I)\n      );\n\n      return self;\n    },\n\n    // Update all fields with the given raw JSON data\n    // This will invoke the constructors for fields declared with\n    // `attrModel` and `attrModels`\n    update(data) {\n      // console.log \"Update\", I, data\n      Object.keys(data).forEach(function(key) {\n        const Constructor = constructors[key];\n\n        let value = data[key];\n        \n        if (Constructor) {\n          value = Constructor(value);\n        }\n\n        return (typeof self[key] === 'function' ? self[key](value) : undefined);\n      });\n\n      return self;\n    },\n\n    // The JSON representation, I, is kept up to date via the observable properites\n    toJSON() {\n      return I;\n    },\n  }\n  );\n}\n\n// Extend an object with the properties of other objects\nvar extend = Object.assign;\n","//\n// Profile.jsx!  I export TeamProfile and UserProfile.\n//\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const ImageButtons = ({name, uploadImage, clearImage}) => (\n  <div className=\"upload-image-buttons\">\n    { !!uploadImage && (\n      <button className=\"button-small button-tertiary\" onClick={uploadImage}>\n        Upload {name}\n      </button>\n    )}\n    { !!clearImage && (\n      <button className=\"button-small button-tertiary\" onClick={clearImage}>\n        Clear {name}  \n      </button>\n    )}\n  </div>\n);\nImageButtons.propTypes = {\n  name: PropTypes.string.isRequired,\n  uploadImage: PropTypes.func,\n  clearImage: PropTypes.func,\n};\n\nexport const ProjectInfoContainer = ({\n  style,\n  children,\n  buttons,\n}) => (\n  <React.Fragment>\n    <div className=\"avatar-container\">\n      <div className=\"user-avatar\" style={style} />\n      {buttons}\n    </div>\n    <div className=\"profile-information\">\n      {children}\n    </div>\n  </React.Fragment>\n);\nProjectInfoContainer.propTypes = {\n  style: PropTypes.object.isRequired,\n  children: PropTypes.node.isRequired,\n  buttons: PropTypes.element,\n};\n\nexport const InfoContainer = ({children}) => (\n  <div className=\"profile-info\">\n    {children}\n  </div>\n);\nInfoContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport const CoverContainer = ({\n  buttons, children, className, ...props\n}) => (\n  <div className={`cover-container ${className}`} {...props}>\n    {children}\n    {buttons}\n  </div>\n);\nCoverContainer.propTypes = {\n  buttons: PropTypes.node,\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string,\n};\n\nexport const ProfileContainer = ({\n  avatarStyle, avatarButtons,\n  coverStyle, coverButtons,\n  children,\n}) => (\n  <CoverContainer style={coverStyle} buttons={coverButtons}>\n    <InfoContainer>\n      <div className=\"avatar-container\">\n        <div className=\"user-avatar\" style={avatarStyle} />\n        {avatarButtons}\n      </div>\n      <div className=\"profile-information\">\n        {children}\n      </div>\n    </InfoContainer>\n  </CoverContainer>\n);","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Notifications from './notifications.jsx';\n\nfunction handleError(notify, error) {\n  console.error(error);\n  notify();\n  return Promise.reject(error);\n}\n\nfunction handleErrorForInput(notify, error) {\n  if (error && error.response && error.response.data) {\n    return Promise.reject(error.response.data.message);\n  }\n  console.error(error);\n  notify();\n  return Promise.reject();\n}\n\nconst ErrorHandler = ({children}) => (\n  <Notifications>\n    {({createErrorNotification}) => children({\n      handleError: error => handleError(createErrorNotification, error),\n      handleErrorForInput: error => handleErrorForInput(createErrorNotification, error),\n    })}\n  </Notifications>\n);\nErrorHandler.propTypes = {\n  children: PropTypes.func.isRequired,\n};\n\nexport default ErrorHandler;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst cat = \"https://cdn.gomix.com/us-east-1%3Acba180f4-ee65-4dfc-8dd5-f143280d3c10%2Fcat.svg\";\n\nconst NotFound = ({name}) => (\n  <section>\n    <p>we didn't find {name}</p>\n    <img src={cat} alt=\"\" />\n  </section>\n);\n\nNotFound.propTypes = {\n  name: PropTypes.string.isRequired,\n};\n\nexport default NotFound;\n","import React from 'react';\n\nfunction prefixUrl(url) {\n  if(url.startsWith(\"/\")){\n    return url;\n  }\n  return \"/\"+url;\n}\n  \nconst Categories = ({categories}) => (\n  <section className=\"categories\" role=\"navigation\">\n    <h2>More Ideas</h2>\n    <ul>\n      { categories.map(({avatarUrl, color, name, url}, key) => (\n        <a key={key} className=\"category-box-link\" href={prefixUrl(url)}>\n          <li>\n            <div className=\"category-box centered\" style={{backgroundColor: color}}>\n              <img src={avatarUrl} alt={name}/>\n            </div>\n            <div className=\"category-box-label centered\" style={{backgroundColor: color}}>{name}</div>\n          </li>\n        </a>\n      ))}\n    </ul>\n  </section>\n);\n\nexport default Categories;\n","let Team;\nimport {reject} from 'lodash';\n\nconst cache = {};\nconst cacheBuster = Math.floor(Math.random() * 1000);\n\nimport Model from './model';\nimport User from './user';\n\nexport default Team = function(I, self) {\n\n  if (I == null) { I = {}; }\n  if (self == null) { self = Model(I); }\n  if (cache[I.id]) {\n    return cache[I.id];\n  }\n  \n  self.defaults(I, {\n    id: undefined,\n    name: undefined,\n    description: \"\",\n    url: undefined,\n    backgroundColor: undefined,\n    hasCoverImage: undefined,\n    coverColor: undefined,\n    isCategory: false,\n    fetched: false,\n    users: [],\n    projects: [],\n    isVerified: false,\n    teamPins: [],\n    hasAvatarImage: false,\n  }\n  );\n    \n  self.attrObservable(...Array.from(Object.keys(I) || []));\n  \n  self.attrModels('projects', Project);\n  self.attrModels('users', User);\n  self.attrObservable(\"localCoverImage\");\n  self.attrObservable(\"localAvatarImage\");\n\n  self.extend({\n    \n    pins: self.teamPins,\n  \n    coverUrl(size='large') {\n      if(self.localCoverImage()) {\n        return self.localCoverImage();\n      }\n      \n      if (self.hasCoverImage()) {\n        return `https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/team-cover/${self.id()}/${size}?${cacheBuster}`;           \n      } \n      return \"https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-cover-wide.svg?1503518400625\";\n    },\n\n    teamAvatarUrl(size) {\n      if(self.localAvatarImage()) {\n        return self.localAvatarImage();\n      }\n\n      size = size || 'small';\n      if (self.hasAvatarImage()) {\n        return `https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/team-avatar/${self.id()}/${size}?${cacheBuster}`;\n      } \n      return \"https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-team-avatar.svg?1503510366819\";\n      \n    },\n\n    hiddenIfFetched() {\n      if (self.fetched()) { return 'hidden'; }\n    },\n\n    hiddenUnlessFetched() {\n      if (!self.fetched()) { return 'hidden'; }\n    },\n    \n    truncatedDescription() {\n      const MAX_CHARACTERS = 140;\n      if (self.description().length > MAX_CHARACTERS) {\n        return self.description().substring(0, MAX_CHARACTERS) + \"\";\n      } \n      return self.description();\n    },\n\n    thanksCount() {\n      if (self.users().length) {\n        let thanks = 0;\n        self.users().forEach(user => thanks = thanks + parseInt(user.thanksCount()));\n        return thanks;\n      }\n    },\n\n    teamThanks() {\n      const thanksCount = self.thanksCount();\n      if (thanksCount === 1) {\n        return \"Thanked once\";\n      } else if (thanksCount === 2) {\n        return \"Thanked twice\";\n      } \n      return `Thanked ${thanksCount} times`;\n      \n    },\n\n    currentUserIsOnTeam(application) {\n      return -1 !== self.users().findIndex(user => user.id() === application.currentUser().id());\n\n    },\n\n    updateCoverColor(application, color) {\n      if (color) {\n        self.coverColor(color);\n        return self.updateTeam(application, \n          {coverColor: color});\n      }\n    },\n\n    updateAvatarColor(application, color) {\n      if (color) {\n        self.backgroundColor(color);\n        return self.updateTeam(application, \n          {backgroundColor: color});\n      }\n    },\n\n    updateTeam(application, updateData) {\n      const teamPath = `teams/${self.id()}`;\n      return application.api().patch(teamPath, updateData)\n        .then(({data}) => console.log('updatedTeam', data)).catch(error => console.error(`updateTeam PATCH ${teamPath}`, error));\n    },\n\n    verifiedTooltip() {\n      return \"Verified to be supportive, helpful people\";\n    },\n\n    verifiedImage() {\n      return \"https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fverified.svg?1501783108220\";\n    },\n\n    addPin(application, projectId) {\n      self.pins.push({\n        projectId});\n      const pinPath = `teams/${self.id()}/pinned-projects/${projectId}`;\n      return application.api().post(pinPath)\n        .then(({data}) => console.log(data)).catch(error => console.error('addPin', error));\n    },\n\n    removePin(application, projectId) {\n      const newPins = self.pins().filter(pin => pin.projectId !== projectId);\n      self.pins(newPins);\n      const pinPath = `teams/${self.id()}/pinned-projects/${projectId}`;\n      return application.api().delete(pinPath)\n        .then(({data}) => console.log(data)).catch(error => console.error('removePin', error));\n    },\n\n    addUser(application, user) {\n      const teamUserPath = `/teams/${self.id()}/users/${user.id()}`;\n      return application.api().post(teamUserPath)\n        .then(function() {\n          self.users.push(user);\n          return console.log('added user. team users are now', self.users());}).catch(error => console.error('addUser', error));\n    },\n\n    removeUser(application, user) {\n      const teamUserPath = `/teams/${self.id()}/users/${user.id()}`;\n      return application.api().delete(teamUserPath)\n        .then(function() {\n          const newUsers = reject(self.users(), removedUser => removedUser.id() === user.id());\n          self.users(newUsers);\n          return console.log('removed user. team users are now', self.users());}).catch(error => console.error('removeUser', error));\n    },\n\n    addProject(application, projectId) {\n      const teamProjectPath = `/teams/${self.id()}/projects/${projectId}`;\n      return application.api().post(teamProjectPath)\n        .then(function() {\n          self.projects.push(Project({id: projectId}));\n          // asynchronously populate the project we just added.\n          Project.getProjectsByIds(application.api(), [projectId]);\n        \n          console.log('added project. team projects are now', self.projects());\n        }).catch(error => console.error('addProject', error));\n    },\n\n    removeProject(application, projectId) {\n      const teamProjectPath = `/teams/${self.id()}/projects/${projectId}`;\n      return application.api().delete(teamProjectPath)\n        .then(function() {\n          const newProjects = reject(self.projects(), removedProject => removedProject.id() === projectId);\n          self.projects(newProjects);\n          console.log('removed project. team projects are now', self.projects());\n        }).catch(error => console.error('removeProject', error));\n    },\n\n    teamProfileStyle() {\n      return {\n        backgroundColor: self.coverColor(),\n        backgroundImage: `url('${self.coverUrl()}')`,\n      };\n    },\n\n    teamAvatarStyle() {\n      if (self.hasAvatarImage()) {\n        return {backgroundImage: `url('${self.teamAvatarUrl()}')`};\n      }\n      return {backgroundColor: self.backgroundColor()};\n    },\n    \n    asProps() {\n      return {\n        get users() { return self.users().map(({asProps}) => asProps()); },\n        get projects() { return self.projects().map(({asProps}) => asProps()); },\n        get teamPins() { return self.teamPins(); },\n        \n        backgroundColor: self.backgroundColor(),\n        coverColor: self.coverColor(),\n        coverUrlSmall: self.coverUrl('small'),\n        coverUrl: self.coverUrl(),\n        description: self.description(),\n        id: self.id(),\n        isVerified: self.isVerified(),\n        name: self.name(),\n        teamAvatarStyle: self.teamAvatarStyle(),\n        teamAvatarUrl: self.teamAvatarUrl(),\n        teamProfileStyle: self.teamProfileStyle(),\n        teamThanks: self.teamThanks(),\n        thanksCount: self.thanksCount(),\n        truncatedDescription: self.truncatedDescription(),\n        hasAvatarImage: !!self.hasAvatarImage(),\n        hasCoverImage: !!self.hasCoverImage(),\n        url: self.url(),\n        verifiedImage: self.verifiedImage(),\n        verifiedTooltip: self.verifiedTooltip(),\n      };\n    },\n  });\n\n  if (I.id) {\n    cache[I.id] = self;\n  }\n  // console.log ' team cache', cache\n\n  return self;\n};\n\nTeam.getTeamById = function(application, id) {\n  const teamsPath = `teams/${id}`;\n  return application.api().get(teamsPath)\n    .then(({data}) => application.saveTeam(data)).catch(error => console.error('getTeamById', error));\n};\n\n\nTeam._cache = cache;\n\n\nexport const getAvatarStyle = ({id, hasAvatarImage, backgroundColor, cache}) => {\n  const customImage = `https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/team-avatar/${id}/small?${cache}`;\n  const defaultImage = \"https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-team-avatar.svg?1503510366819\";\n  if (hasAvatarImage) {\n    return {\n      backgroundImage: `url('${customImage}')`,\n    };\n  }\n  return {\n    backgroundColor,\n    backgroundImage: `url('${defaultImage}')`,\n  };\n};\n\nexport const getProfileStyle = ({id, hasCoverImage, coverColor, cache}) => {\n  const customImage = `https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/team-cover/${id}/large?${cache}`;\n  const defaultImage = \"https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-cover-wide.svg?1503518400625\";\n  return {\n    backgroundColor: coverColor,\n    backgroundImage: `url('${hasCoverImage ? customImage : defaultImage}')`,\n  };\n};\n\n\n// Circular dependencies must go below module.exports\nimport Project from './project';\n","//  based on frontend/utils/assets in the editor\n\nimport S3Uploader from './s3-uploader';\n\nimport quantize from 'quantize';\n\nexport const COVER_SIZES = {\n  large: 1000,\n  medium: 700,\n  small: 450,\n};\nexport const AVATAR_SIZES = {\n  large: 300,\n  medium: 150,\n  small: 60,\n};\n\nexport const blobToImage = file =>\n  new Promise(function(resolve, reject) {\n    const image = new Image;\n    image.onload = () => resolve(image);\n    image.onerror = reject;\n    return image.src = URL.createObjectURL(file);\n  })\n;\n\n// Reduces the width/height and draws a new image until it reaches\n// the final size. It loops by waiting for the onload to fire on the updated\n// image and exits as soon as the new width/height are less than or equal to the\n// final size.\nconst drawCanvasThumbnail = function(image, type, max) {\n  let {width, height} = image;\n  const quality = 0.92;\n  let sourceCanvas = document.createElement('canvas');\n  sourceCanvas.width = width;\n  sourceCanvas.height = height;\n  const sourceContext = sourceCanvas.getContext('2d');\n  sourceContext.drawImage(image, 0, 0, width, height);\n  while ((width > max) && (height > max)) {\n    width *= 0.75;\n    height *= 0.75;\n    const targetCanvas = document.createElement('canvas');\n    const targetContext = targetCanvas.getContext('2d');\n    targetCanvas.width = width;\n    targetCanvas.height = height;\n    targetContext.drawImage(sourceCanvas, 0, 0, width, height);\n    sourceCanvas = targetCanvas;\n  }\n\n  return new Promise(function(resolve) {\n    return sourceCanvas.toBlob(function(blob) {\n      blob.width = width;\n      blob.height = height;\n      return resolve(blob);\n    }\n      , type, quality);\n  });\n};\n\n// Takes an HTML5 File and returns a promise for an HTML5 Blob that is fulfilled\n// with a thumbnail for the image. If the image is small enough the original\n// blob is returned. Width and height metadata are added to the blob.\nexport function resizeImage(file, size) {\n  const max = COVER_SIZES[size] || 1000;\n  return blobToImage(file)\n    .then(function(image) {\n      file.width = image.width;\n      file.height = image.height;\n      if ((image.width < max) && (image.height < max)) {\n        return file;\n      } \n      return drawCanvasThumbnail(image, file.type, max);\n    \n    });\n}\n\nexport function getDominantColor(image) {\n  const {width, height} = image;\n  const PIXELS_FROM_EDGE = 11;\n  const canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  const context = canvas.getContext('2d');\n  context.drawImage(image, 0, 0, width, height);\n  let transparentPixels = false;\n  let colors = [];\n  const outlyingColors = [];\n  const outlyingColorsList = JSON.stringify([\n    [255,255,255],\n    [0,0,0],\n  ]);\n  /*\n  Iterate through edge pixels and get the average color, then conditionally\n  handle edge colors and transparent images\n  */\n  for (let x = 0; x < PIXELS_FROM_EDGE; x++) {\n    for (let y = 0; y < PIXELS_FROM_EDGE; y++) {\n      const pixelData = context.getImageData(x, y, 1, 1).data;\n      const color = [\n        pixelData[0], // r\n        pixelData[1], // g\n        pixelData[2], // b\n      ];\n      const colorRegExObject = new RegExp(`(${color})`, 'g');\n      if (pixelData[3] < 255) { // alpha pixels\n        transparentPixels = true;\n        break;\n      }\n      if (outlyingColorsList.match(colorRegExObject)) {\n        outlyingColors.push(color);\n      } else {\n        colors.push(color);\n      }\n    }\n  }\n  if (outlyingColors.length > colors.length) {\n    colors = outlyingColors;\n  }\n  if (transparentPixels) {\n    return null;\n  } \n  const colorMap = quantize(colors, 5);\n  const [r, g, b] = Array.from(colorMap.palette()[0]);\n  return `rgb(${r},${g},${b})`;\n}\n\n\nexport function requestFile(callback) {\n  const input = document.createElement(\"input\");\n  input.type = 'file';\n  input.accept = \"image/*\";\n  input.onchange = function(event) {\n    const file = event.target.files[0];\n    console.log(' input onchange', file);\n    callback(file);\n  };\n  input.click();\n  console.log('input created: ', input);\n}\n\nexport function getUserCoverImagePolicy(api, id) {\n  return api.get(`users/${id}/cover/policy`);\n}\n\nexport function getTeamAvatarImagePolicy(api, id) {\n  return api.get(`teams/${id}/avatar/policy`);\n}\n\nexport function getTeamCoverImagePolicy(api, id) {\n  return api.get(`teams/${id}/cover/policy`);\n}\n\nexport function uploadAsset(blob, policy, key) {\n  return S3Uploader(policy).upload({ key, blob });\n}\n\nexport function uploadAssetSizes(blob, policy, sizes, progressHandler) {\n  const upload = uploadAsset(blob, policy, 'original');\n  upload.progress(progressHandler);\n  \n  const scaledUploads = Object.keys(sizes).map(tag => {\n    return resizeImage(blob, sizes[tag]).then(resized => uploadAsset(resized, policy, tag));\n  });\n\n  return Promise.all([upload, ...scaledUploads]);\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TextArea from 'react-textarea-autosize';\nimport Markdown from './markdown.jsx';\nimport {debounce} from 'lodash';\n\nclass EditableDescription extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      focused: false,\n      description: this.props.initialDescription,\n    };\n    \n    this.onChange = this.onChange.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.update = debounce(this.props.updateDescription, 1000);\n  }\n  \n  onChange(evt) {\n    const description = evt.currentTarget.value;\n    this.setState({ description });\n    this.update(description.trim());\n  }\n  \n  onFocus(evt) {\n    if (evt.currentTarget === evt.target) {\n      this.setState({focused: true});\n    }\n  }\n  \n  onBlur() {\n    this.setState({focused: false});\n  }\n  \n  render() {\n    const {placeholder} = this.props;\n    const {description} = this.state;\n    return (this.state.focused\n      ?\n      <TextArea\n        className=\"description content-editable\"\n        value={description}\n        onChange={this.onChange}\n        onFocus={this.onFocus} onBlur={this.onBlur}\n        placeholder={placeholder}\n        spellCheck={false}\n        autoFocus // eslint-disable-line jsx-a11y/no-autofocus\n      />\n      :\n      <p\n        className=\"description content-editable\"\n        placeholder={placeholder} aria-label={placeholder}\n        role=\"textbox\" // eslint-disable-line jsx-a11y/no-noninteractive-element-to-interactive-role\n        tabIndex={0} onFocus={this.onFocus} onBlur={this.onBlur}\n      >\n        <Markdown>{description}</Markdown>\n      </p>\n    );\n  }\n}\nEditableDescription.propTypes = {\n  initialDescription: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  updateDescription: PropTypes.func.isRequired,\n};\n\nconst StaticDescription = ({description}) => (\n  description ? <p className=\"description read-only\"><Markdown>{description}</Markdown></p> : null\n);\nStaticDescription.propTypes = {\n  description: PropTypes.string.isRequired,\n};\n\nconst AuthDescription = ({authorized, description, placeholder, update}) => (\n  authorized ?\n    <EditableDescription initialDescription={description} updateDescription={update} placeholder={placeholder}/> :\n    <StaticDescription description={description}/>\n);\nAuthDescription.propTypes = {\n  authorized: PropTypes.bool.isRequired,\n  description: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  update: PropTypes.func.isRequired,\n};\n\nexport { EditableDescription, StaticDescription, AuthDescription };","import React from 'react';\nimport PropTypes from 'prop-types';\nimport UsersList from '../users-list.jsx';\n\nconst ProjectResultItem = ({domain, description, avatar, users, action, isActive}) => {\n  var resultClass = \"button-unstyled result \";\n  if(isActive) {\n    resultClass += \" active\";\n  }\n\n  return (\n    <button className={resultClass} onClick={action}>\n      <img className=\"avatar\" src={avatar} alt={`Project avatar for ${domain}`}/>\n      <div className=\"result-name\" title={domain}>{domain}</div>\n      \n      { description.length > 0 && <div className=\"result-description\">{description}</div> }\n      { users.length > 0 && <UsersList users={users} /> }\n    </button>\n  );\n};\n\nProjectResultItem.propTypes = {\n  action: PropTypes.func.isRequired,\n  domain: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  avatar: PropTypes.string.isRequired,\n  users: PropTypes.array.isRequired,\n  isActive: PropTypes.bool\n};\n\nexport default ProjectResultItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {partition} from 'lodash';\n\nimport ProjectsList from './projects-list.jsx';\nimport ProjectsLoader from './projects-loader.jsx';\n\n/* globals Set */\n\nconst psst = \"https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fpsst.svg?1500486136908\";\n\nconst EntityPageProjects = ({projects, pins, isAuthorized, addPin, removePin, projectOptions}) => {\n  const pinnedSet = new Set(pins.map(({projectId}) => projectId));\n  const [pinnedProjects, recentProjects] = partition(projects, ({id}) => pinnedSet.has(id));\n  \n  const pinnedVisible = isAuthorized || pinnedProjects.length;\n  \n  const pinnedTitle = (\n    <React.Fragment>\n      Pinned Projects\n      <span className=\"emoji pushpin emoji-in-title\"></span>\n    </React.Fragment>\n  );\n  \n  const pinnedEmpty = (\n    <React.Fragment>\n      <img className=\"psst\" src={psst} alt=\"psst\"></img>\n      <p>\n        Pin your projects to show them off\n        <span className=\"emoji pushpin\"></span>\n      </p>\n    </React.Fragment>\n  );\n  \n  return (\n    <React.Fragment>\n      {!!pinnedVisible && (\n        <ProjectsList title={pinnedTitle}\n          projects={pinnedProjects} placeholder={pinnedEmpty}\n          projectOptions={isAuthorized ? {removePin, ...projectOptions} : {}}\n        />\n      )}\n      <ProjectsList title=\"Recent Projects\" projects={recentProjects}\n        projectOptions={isAuthorized ? {addPin, ...projectOptions} : {}}\n      />\n    </React.Fragment>\n  );\n};\nEntityPageProjects.propTypes = {\n  isAuthorized: PropTypes.bool.isRequired,\n  projects: PropTypes.array.isRequired,\n  pins: PropTypes.arrayOf(PropTypes.shape({\n    projectId: PropTypes.string.isRequired,\n  }).isRequired).isRequired,\n  addPin: PropTypes.func.isRequired,\n  removePin: PropTypes.func.isRequired,\n  projectOptions: PropTypes.object.isRequired,\n};\n\nconst EntityPageProjectsContainer = ({api, projects, ...props}) => (\n  <ProjectsLoader api={api} projects={projects}>\n    {projects => <EntityPageProjects projects={projects} {...props}/>}\n  </ProjectsLoader>\n);\n\nexport default EntityPageProjectsContainer;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {uploadAsset, uploadAssetSizes} from '../../utils/assets';\nimport Notifications from '../notifications.jsx';\n\nconst NotifyUploading = ({progress}) => (\n  <React.Fragment>\n    Uploading asset\n    <progress className=\"notify-progress\" value={progress}></progress>\n  </React.Fragment>\n);\nconst NotifyError = () => 'File upload failed. Try again in a few minutes?';\n\nasync function uploadWrapper(notifications, upload) {\n  let result = null;\n  let progress = 0;\n  const {\n    updateNotification,\n    removeNotification,\n  } = notifications.createPersistentNotification(<NotifyUploading progress={progress}/>, 'notifyUploading');\n  try {\n    result = await upload(\n      ({lengthComputable, loaded, total}) => {\n        if (lengthComputable) {\n          progress = loaded/total;\n        } else {\n          progress = (progress+1)/2;\n        }\n        updateNotification(<NotifyUploading progress={progress}/>);\n      }\n    );\n  } catch (e) {\n    notifications.createErrorNotification(<NotifyError/>);\n    throw e;\n  } finally {\n    removeNotification();\n  }\n  return result;\n}\n\nconst Uploader = ({children}) => (\n  <Notifications>\n    {notifications => (\n      children({\n        uploadAsset: (blob, policy, key) => {\n          return uploadWrapper(notifications, cb => uploadAsset(blob, policy, key, cb));\n        },\n        uploadAssetSizes: (blob, policy, sizes) => {\n          return uploadWrapper(notifications, cb => uploadAssetSizes(blob, policy, sizes, cb));\n        },\n      })\n    )}\n  </Notifications>\n);\nUploader.propTypes = {\n  children: PropTypes.func.isRequired,\n};\nexport default Uploader;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {debounce, uniqueId} from 'lodash';\n\nexport default class EditableField extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: this.props.value,\n      error: \"\",\n    };\n    \n    this.onChange = this.onChange.bind(this);\n    this.update = debounce(this.update.bind(this), 500);\n  }\n  \n  update(value){\n    this.props.update(value).then(\n      this.handleSuccess.bind(this),\n      this.handleFailure.bind(this, value));\n  }\n  \n  handleSuccess() {\n    this.setState({error: \"\"});\n  }\n  \n  handleFailure(data, message) {\n    // The update failed; we can ignore this if our state has already moved on\n    if(data !== this.state.value.trim()){\n      return;\n    }\n    \n    // Ah, we haven't moved on, and we know the last edit failed.\n    // Ok, display an error.\n    this.setState({error: message||\"\"});\n  }\n  \n  onChange(evt) {\n    let value = evt.currentTarget.value;\n    this.setState((lastState) => {\n      if(lastState.value.trim() !== value.trim()) {\n        this.update(value.trim());\n      }\n      return {value};\n    });\n  }  \n  render() {\n    const classes = [\"content-editable\", this.state.error ? \"error\" : \"\"].join(\" \");\n    const inputProps = {\n      className: classes,\n      value:this.state.value,\n      onChange: this.onChange,\n      spellCheck: false,\n      autoComplete: \"off\",\n      placeholder: this.props.placeholder,\n      id: uniqueId(\"editable-field-\"),\n    };\n    \n    const maybeErrorIcon = !!this.state.error && (\n      <span className=\"editable-field-error-icon\" role=\"img\" aria-label=\"Warning\"></span>\n    );\n    \n    const maybeErrorMessage = !!this.state.error && (\n      <div className=\"editable-field-error-message\">\n        {this.state.error}\n      </div>\n    );\n    \n    const maybePrefix = !!this.props.prefix && (\n      <span className={\"content-editable-prefix \" + classes}>{this.props.prefix}</span>\n    );\n    \n    return (\n      <label htmlFor={inputProps.id}>\n        <div className=\"editable-field-flex\">\n          {maybePrefix}\n          <input {...inputProps}/>\n          {maybeErrorIcon}\n        </div>\n        {maybeErrorMessage}\n      </label>\n    );\n  }\n}\nEditableField.propTypes = {\n  value: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  update: PropTypes.func.isRequired,\n  prefix: PropTypes.string,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Observable from 'o_0';\nimport Observed from './includes/observed.jsx';\n\nconst {Provider, Consumer} = React.createContext();\n\nexport const CurrentUserProvider = ({model, children}) => (\n  <Provider value={model}>{children}</Provider>\n);\nCurrentUserProvider.propTypes = {\n  model: PropTypes.object.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport const CurrentUserConsumer = ({children}) => (\n  <Consumer>\n    {model => (\n      <Observed\n        propsObservable={Observable(() => model ? model.asProps() : {})}\n        component={user => children(user)}\n      />\n    )}\n  </Consumer>\n);\nCurrentUserConsumer.propTypes = {\n  children: PropTypes.func.isRequired,\n};\n\nexport function normalizeUser(user, currentUser) {\n  return user.id === currentUser.id ? currentUser : user;\n}\n\nexport function normalizeUsers(users, currentUser) {\n  return users.map(user => normalizeUser(user, currentUser));\n}\n\nexport function normalizeProject({users, ...project}, currentUser) {\n  return {users: users ? normalizeUsers(users, currentUser) : [], ...project};\n}\n\nexport function normalizeProjects(projects, currentUser) {\n  return projects.map(project => normalizeProject(project, currentUser));\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {chunk, keyBy} from 'lodash';\n\nimport ProjectModel from '../models/project';\n\nimport {CurrentUserConsumer, normalizeProjects} from './current-user.jsx';\n\nfunction listToObject(list, val) {\n  return list.reduce((data, key) => ({[key]: val, ...data}), {});\n}\n\nasync function getProjects(api, ids) {\n  const {data} = await api.get(`projects/byIds?ids=${ids.join(',')}`);\n  return data.map(d => ProjectModel(d).update(d).asProps());\n}\n\nexport default class ProjectsLoader extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  \n  ensureProjects(projects) {\n    const ids = projects.map(({id}) => id);\n    \n    const discardedProjects = Object.keys(this.state).filter(id => this.state[id] && !ids.includes(id));\n    if (discardedProjects.length) {\n      this.setState(listToObject(discardedProjects, undefined));\n    }\n    \n    const unloadedProjects = ids.filter(id => this.state[id] === undefined);\n    if (unloadedProjects.length) {\n      this.setState(listToObject(unloadedProjects, null));\n      chunk(unloadedProjects, 100).forEach(chunk => {\n        getProjects(this.props.api, chunk).then(projects => {\n          this.setState(keyBy(projects, ({id}) => id));\n        });\n      });\n    }\n  }\n  \n  componentDidMount() {\n    this.ensureProjects(this.props.projects);\n  }\n  \n  componentDidUpdate() {\n    this.ensureProjects(this.props.projects);\n  }\n  \n  render() {\n    const {children, projects} = this.props;\n    const loadedProjects = projects.map(project => this.state[project.id] || project);\n    return (\n      <CurrentUserConsumer>\n        {currentUser => (\n          children(normalizeProjects(loadedProjects, currentUser))\n        )}\n      </CurrentUserConsumer>\n    );\n  }\n}\nProjectsLoader.propTypes = {\n  api: PropTypes.any.isRequired,\n  children: PropTypes.func.isRequired,\n  projects: PropTypes.array.isRequired,\n};","import QuestionsTemplate from '../templates/includes/questions';\nimport QuestionItemPresenter from './question-item';\nimport Observable from 'o_0';\nimport {sample} from 'lodash';\n\nconst DEFAULT_MAX_QUESTIONS = 3;\n\nexport default function(application, maxQuestions) {\n  var self = {\n\n    maxQuestions() {\n      return maxQuestions || DEFAULT_MAX_QUESTIONS;\n    },\n\n    kaomoji: Observable('(*)'),\n\n    randomKaomoji() {\n      const kaomojis = [\n        '(*)',\n        '(^_^)',\n        '(**)',\n        '()',\n        '( )',\n        '(^^)',\n      ];\n      return self.kaomoji(sample(kaomojis));\n    },\n\n    hiddenIfQuestions() {\n      if (application.questions().length) { return 'hidden'; }\n    },\n\n    hiddenUnlessQuestions() {\n      if (!application.questions().length) { return 'hidden'; }\n    },\n\n    questions() {\n      return application.questions().map(question => QuestionItemPresenter(application, question));\n    },\n\n    animatedUnlessLookingForQuestions() {\n      if (!application.gettingQuestions()) { return 'animated'; }\n    },\n  };\n\n\n  setInterval(function() {\n    application.getQuestions();\n    return self.randomKaomoji();\n  }\n    , 10000);\n\n  return QuestionsTemplate(self);\n}\n","module.exports = function(data) {\n  \"use strict\";\n  return (function() {\n    var __root;\n    __root = require('jadelet')(this);\n    __root.buffer(__root.element(\"div\", this, {\n      \"class\": [\"loader\"]\n    }, function(__root) {\n      __root.buffer(__root.element(\"div\", this, {\n        \"class\": [\"moon\"]\n      }, function(__root) {}));\n      __root.buffer(__root.element(\"div\", this, {\n        \"class\": [\"earth\"]\n      }, function(__root) {}));\n      __root.buffer(__root.element(\"div\", this, {\n        \"class\": [\"asteroid\"]\n      }, function(__root) {}));\n      __root.buffer(__root.element(\"div\", this, {\n        \"class\": [\"asteroid-dust\"]\n      }, function(__root) {}));\n    }));\n    return __root.root;\n  }).call(data);\n};\n","import React from 'react';\nimport PopoverContainer from './popover-container.jsx';\n/* global GITHUB_CLIENT_ID, FACEBOOK_CLIENT_ID, APP_URL */\n\nfunction githubAuthLink() {\n  var clientId, redirectUri, scope;\n  clientId = GITHUB_CLIENT_ID;\n  scope = \"user:email\";\n  redirectUri = encodeURIComponent(`${APP_URL}/login/github`);\n  return `https://github.com/login/oauth/authorize?client_id=${clientId}&scope=${scope}&redirect_uri=${redirectUri}`;\n}\n\nfunction facebookAuthLink() {\n  var callbackURL, clientId, scopes;\n  clientId = FACEBOOK_CLIENT_ID;\n  scopes = \"email\";\n  callbackURL = encodeURIComponent(`${APP_URL}/login/facebook`);\n  return \"https://www.facebook.com/v2.9/dialog/oauth?\" + `client_id=${clientId}&scope=${scopes}&redirect_uri=${callbackURL}`;\n}\n\nconst SignInPopButton = (props) => (\n  <a className=\"button-link\" href={props.href}>\n    <div className=\"button button-small\">Sign in with {props.company}\n      <span className={`emoji ${props.emoji}`}></span>\n    </div>\n  </a>\n);\n\nconst SignInPop = () => (\n  <div className=\"pop-over sign-in-pop\">\n    <section className=\"pop-over-actions last-section\">\n      <SignInPopButton href={facebookAuthLink()} company=\"Facebook\" emoji=\"facebook\"/>\n      <SignInPopButton href={githubAuthLink()} company=\"GitHub\" emoji=\"octocat\"/>\n    </section>\n  </div>\n);\n\nexport default function SignInPopContainer() {\n  return (\n    <PopoverContainer>\n      {({togglePopover, visible}) => (\n        <div className=\"button-wrap\">\n          <button className=\"button button-small\" onClick={togglePopover}>Sign in</button>\n          {visible && <SignInPop/>}\n        </div>\n      )}\n    </PopoverContainer>\n  );\n}\n","module.exports = function(data) {\n  \"use strict\";\n  return (function() {\n    var logo, __root;\n    __root = require('jadelet')(this);\n    logo = \"https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Fcarp.svg\";\n    __root.buffer(__root.element(\"div\", this, {\n      \"class\": [\"content\", \"error-page\"]\n    }, function(__root) {\n      __root.buffer(__root.element(\"div\", this, {\n        \"class\": [\"container\"]\n      }, function(__root) {\n        __root.buffer(__root.element(\"h1\", this, {}, function(__root) {\n          __root.buffer(this.title);\n        }));\n        __root.buffer(__root.element(\"h2\", this, {}, function(__root) {\n          __root.buffer(this.description);\n        }));\n        __root.buffer(__root.element(\"div\", this, {\n          \"class\": [\"actions\"]\n        }, function(__root) {\n          __root.buffer(__root.element(\"a\", this, {\n            \"href\": \"/\"\n          }, function(__root) {\n            __root.buffer(__root.element(\"img\", this, {\n              \"src\": logo,\n              \"width\": \"80px\",\n              \"height\": \"66px\"\n            }, function(__root) {}));\n          }));\n        }));\n        __root.buffer(__root.element(\"canvas\", this, {\n          id: [\"stars\"]\n        }, function(__root) {}));\n        __root.buffer(__root.element(\"script\", this, {\n          \"src\": \"https://glitch.com/edit/error-page.js\"\n        }, function(__root) {}));\n      }));\n    }));\n    return __root.root;\n  }).call(data);\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport {TruncatedMarkdown} from './includes/markdown.jsx';\nimport Thanks from './includes/thanks.jsx';\n\nimport {ANON_AVATAR_URL} from '../models/user.js';\n\nfunction addDefaultSrc(event) {\n  event.target.src = ANON_AVATAR_URL;\n}\n\nexport default function UserItem({user}) {\n  const style = {\n    backgroundImage: `url('${user.coverUrlSmall}')`,\n    backgroundColor: user.coverColor || '',\n  };\n  return (\n    <a href={user.userLink}>\n      <div className=\"item\" style={style}>\n        <div className=\"content\">\n          <img onError={addDefaultSrc} className=\"avatar\" src={user.userAvatarUrlLarge} alt=\"\"></img>\n          <div className=\"information\">\n            {!!user.name && <h3 className=\"name\">{user.name}</h3>}\n            <div className=\"button\">@{user.login}</div>\n            {user.thanksCount > 0 && <Thanks count={user.thanksCount} />}\n            {!!user.description && <p className=\"description\"><TruncatedMarkdown length={96}>{user.description}</TruncatedMarkdown></p>}\n          </div>\n        </div>\n      </div>\n    </a>\n  );\n}\n\nUserItem.propTypes = {\n  user: PropTypes.shape({\n    coverColor: PropTypes.string,\n    coverUrlSmall: PropTypes.string.isRequired,\n    description: PropTypes.string,\n    login: PropTypes.string.isRequired,\n    name: PropTypes.string,\n    thanksCount: PropTypes.number.isRequired,\n    userLink: PropTypes.string.isRequired,\n  }),\n};","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// react tells me that nested <a> tags are bad and I shouldn't do that\n// so we will replace the outer tags with a special on click <div> tag\n// which will act like a link (or as close as I can get via nice code)\n\nconst handler = (evt) => {\n  // Real links and interactive elements take priority\n  if (evt.target.closest('a[href], button, input')) return;\n  // Make sure there wasn't a clicky div inside this clicky div\n  if (evt.target.closest('[data-href]') !== evt.currentTarget) return;\n  \n  // Ok, this click is real. Do the thing\n  window.location.assign(evt.currentTarget.dataset.href);\n};\n\nconst WrappingLink = ({href, children, className, style}) => (\n  <div data-href={href} onClick={handler} className={className} style={style} role=\"presentation\">\n    {children}\n  </div>\n);\n\nWrappingLink.propTypes = {\n  href: PropTypes.string.isRequired,\n  children: PropTypes.element.isRequired,\n  className: PropTypes.string,\n  style: PropTypes.object,\n};\n\nexport default WrappingLink;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport {TruncatedMarkdown} from './includes/markdown.jsx';\nimport Thanks from './includes/thanks.jsx';\nimport UsersList from './users-list.jsx';\nimport WrappingLink from './includes/wrapping-link.jsx';\n\nexport default function TeamItem({team}) {\n  const style = {\n    backgroundImage: `url('${team.coverUrlSmall}')`,\n    backgroundColor: team.coverColor,\n  };\n  return (\n    <WrappingLink href={team.url} className=\"item\" style={style}>\n      <div className=\"content\">\n        <img className=\"avatar\" src={team.teamAvatarUrl} alt=\"\" />\n        <div className=\"information\">\n          <a href={team.url} className=\"button\">{team.name}</a>\n          {!!team.isVerified && <span data-tooltip={team.verifiedTooltip}>\n            <img className=\"verified\" src={team.verifiedImage} alt={team.verifiedTooltip} />\n          </span>}\n          <UsersList users={team.users} />\n          {team.thanksCount > 0 && <Thanks count={team.thanksCount} />}\n          {!!team.description && <p className=\"description\"><TruncatedMarkdown length={96}>{team.description}</TruncatedMarkdown></p>}\n        </div>\n      </div>\n    </WrappingLink>\n  );\n}\n\nTeamItem.propTypes = {\n  team: PropTypes.shape({\n    coverColor: PropTypes.string.isRequired,\n    coverUrlSmall: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    isVerified: PropTypes.bool.isRequired,\n    name: PropTypes.string.isRequired,\n    teamAvatarUrl: PropTypes.string.isRequired,\n    thanksCount: PropTypes.number.isRequired,\n    users: PropTypes.array.isRequired,\n    url: PropTypes.string.isRequired,\n    verifiedImage: PropTypes.string.isRequired,\n    verifiedTooltip: PropTypes.string.isRequired,\n  }),\n};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport LayoutPresenter from '../layout';\nimport Reactlet from '../reactlet';\n\nimport ProjectModel from '../../models/project';\nimport TeamModel from '../../models/team';\nimport UserModel from '../../models/user';\n\nimport ErrorHandlers from '../error-handlers.jsx';\nimport Categories from '../categories.jsx';\nimport Loader from '../includes/loader.jsx';\nimport NotFound from '../includes/not-found.jsx';\nimport {Notifications} from '../notifications.jsx';\nimport ProjectsList from '../projects-list.jsx';\nimport TeamItem from '../team-item.jsx';\nimport UserItem from '../user-item.jsx';\n\nconst TeamResults = ({teams}) => (\n  <article>\n    <h2>Teams</h2>\n    <ul className=\"teams-container\">\n      {teams ? (\n        teams.map(team => (\n          <li key={team.id}>\n            <TeamItem team={team}/>\n          </li>\n        ))\n      ) : <Loader/>}\n    </ul>\n  </article>\n);\n\nconst UserResults = ({users}) => (\n  <article>\n    <h2>Users</h2>\n    <ul className=\"users-container\">\n      {users ? (\n        users.map(user => (\n          <li key={user.id}>\n            <UserItem user={user}/>\n          </li>\n        ))\n      ) : <Loader/>}\n    </ul>\n  </article>\n);\n\nconst ProjectResults = ({projects}) => (\n  projects ? (\n    <ProjectsList title=\"Projects\" projects={projects}/>\n  ) : (\n    <article>\n      <h2>Projects</h2>\n      <Loader/>\n    </article>\n  )\n);\n\n\nconst MAX_RESULTS = 20;\nconst showResults = (results) => !results || !!results.length;\n\nclass SearchPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      teams: null,\n      users: null,\n      projects: null,\n    };\n  }\n  \n  async searchTeams() {\n    const {api, query} = this.props;\n    const {data} = await api.get(`teams/search?q=${query}`);\n    this.setState({\n      teams: data.slice(0, MAX_RESULTS).map(team => TeamModel(team).update(team).asProps()),\n    });\n  }\n  \n  async searchUsers() {\n    const {api, query} = this.props;\n    const {data} = await api.get(`users/search?q=${query}`);\n    this.setState({\n      users: data.slice(0, MAX_RESULTS).map(user => UserModel(user).update(user).asProps()),\n    });\n  }\n  \n  async searchProjects() {\n    const {api, query} = this.props;\n    const {data} = await api.get(`projects/search?q=${query}`);\n    this.setState({\n      projects: data.filter(project => !project.notSafeForKids).slice(0, MAX_RESULTS).map(project => ProjectModel(project).update(project).asProps()),\n    });\n  }\n  \n  componentDidMount() {\n    const {handleError} = this.props;\n    this.searchTeams().catch(handleError);\n    this.searchUsers().catch(handleError);\n    this.searchProjects().catch(handleError);\n  }\n  \n  render() {\n    const {teams, users, projects} = this.state;\n    const noResults = [teams, users, projects].every(results => !showResults(results));\n    return (\n      <React.Fragment>\n        <main className=\"search-results\">\n          {showResults(teams) && <TeamResults teams={teams}/>}\n          {showResults(users) && <UserResults users={users}/>}\n          {showResults(projects) && <ProjectResults projects={projects}/>}\n          {noResults && <NotFound name=\"any results\"/>}\n        </main>\n        <Categories categories={this.props.categories}/>\n      </React.Fragment>\n    );\n  }\n}\nSearchPage.propTypes = {\n  api: PropTypes.any.isRequired,\n  categories: PropTypes.array.isRequired,\n  query: PropTypes.string.isRequired,\n};\n\nconst SearchPageContainer = ({...props}) => (\n  <Notifications>\n    <ErrorHandlers>\n      {errorFuncs => <SearchPage {...errorFuncs} {...props}/>}\n    </ErrorHandlers>\n  </Notifications>\n);\n\nexport default function(application, query) {\n  const props = {\n    api: application.api(),\n    categories: application.categories,\n    query,\n  };\n  const content = Reactlet(SearchPageContainer, props);\n  return LayoutPresenter(application, content);\n}","module.exports = function(data) {\n  \"use strict\";\n  return (function() {\n    var __root;\n    __root = require('jadelet')(this);\n    __root.buffer(__root.element(\"main\", this, {\n      \"class\": [\"questions-page\"],\n      \"role\": \"main\"\n    }, function(__root) {\n      __root.buffer(this.questions);\n      __root.buffer(this.Categories);\n    }));\n    return __root.root;\n  }).call(data);\n};\n","import QuestionsPageTemplate from '../../templates/pages/questions';\nimport LayoutPresenter from '../layout';\nimport QuestionsPresenter from '../questions';\nimport Reactlet from '../reactlet';\n\nimport Categories from \"../categories.jsx\";\n\nexport default function(application) {\n  const self = {\n\n    application,\n\n    questions() {\n      return QuestionsPresenter(application, 12);\n    },\n\n    Categories() {\n      const props = {\n        categories: application.categories,\n      };\n     \n      return Reactlet(Categories, props);\n    },\n  };\n      \n  const content = QuestionsPageTemplate(self);\n\n  return LayoutPresenter(application, content);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {getAvatarUrl} from '../models/project.js';\n\nimport Loader from './includes/loader.jsx';\n\n/* globals Set */\n\nfunction clickUndelete(event, callback) {\n  const node = event.target.closest('li');\n  node.addEventListener('animationend', callback, {once: true});\n  node.classList.add('slide-up');\n}\n\nconst DeletedProject = ({id, domain, onClick}) => (\n  <button className=\"button-unstyled\" onClick={evt => clickUndelete(evt, onClick)}>\n    <div className=\"deleted-project\">\n      <img className=\"avatar\" src={getAvatarUrl(id)} alt=\"\"/>\n      <div className=\"deleted-project-name\">{domain}</div>\n      <div className=\"button button-small\">Undelete</div>\n    </div>\n  </button>\n);\nDeletedProject.propTypes = {\n  id: PropTypes.string.isRequired,\n  domain: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nconst DeletedProjectsList = ({deletedProjects, undelete}) => (\n  <ul className=\"deleted-projects-container\">\n    {deletedProjects.map(({id, domain}) => (\n      <li key={id} className=\"deleted-project-container\">\n        <DeletedProject\n          id={id} domain={domain}\n          onClick={() => undelete(id)}\n        />\n      </li>\n    ))}\n  </ul>\n);\nDeletedProjectsList.propTypes = {\n  deletedProjects: PropTypes.array.isRequired,\n  undelete: PropTypes.func.isRequired,\n};\n\nexport default class DeletedProjects extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shown: false,\n      loaded: false,\n    };\n    this.clickShow = this.clickShow.bind(this);\n  }\n  \n  async clickShow() {\n    this.setState({shown: true});\n    try {\n      const {data} = await this.props.get();\n      this.props.setDeletedProjects(data);\n      this.setState({loaded: true});\n    } catch (e) {\n      this.setState({shown: false});\n    }\n  }\n  \n  renderContents() {\n    if (!this.state.shown) {\n      return <button className=\"button button-tertiary\" onClick={this.clickShow}>Show</button>;\n    } else if (!this.state.loaded) {\n      return <Loader/>;\n    }\n    return <DeletedProjectsList {...this.props}/>;\n  }\n  \n  render() {\n    return (\n      <article className=\"deleted-projects\">\n        <h2>Deleted Projects <span className=\"emoji bomb emoji-in-title\"></span></h2>\n        {this.renderContents()}\n      </article>\n    );\n  }\n}\nDeletedProjects.propTypes = {\n  get: PropTypes.func.isRequired,\n  setDeletedProjects: PropTypes.func.isRequired,\n  deletedProjects: PropTypes.array.isRequired,\n};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport * as assets from '../utils/assets';\n\nimport ErrorHandlers from './error-handlers.jsx';\nimport Uploader from './includes/uploader.jsx';\n\nclass UserEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ...props.initialUser,\n      _deletedProjects: [],\n      _cacheCover: Date.now(),\n    };\n  }\n  \n  isCurrentUser() {\n    return this.state.id === this.props.currentUserModel.id();\n  }\n  \n  async updateFields(changes) {\n    const {data} = await this.props.api.patch(`users/${this.state.id}`, changes);\n    this.setState(data);\n  }\n  \n  async updateName(name) {\n    await this.updateFields({name});\n    if (this.isCurrentUser()) {\n      this.props.currentUserModel.name(name);\n    }\n  }\n  \n  async updateLogin(login) {\n    await this.updateFields({login});\n    if (this.isCurrentUser()) {\n      this.props.currentUserModel.login(login);\n    }\n  }\n  \n  async uploadAvatar(blob) {\n    const {data: policy} = await assets.getUserCoverImagePolicy(this.props.api, this.state.id);\n    const url = await this.props.uploadAsset(blob, policy, 'temporary-user-avatar');\n\n    const image = await assets.blobToImage(blob);\n    const color = assets.getDominantColor(image);\n    await this.updateFields({\n      avatarUrl: url,\n      color: color,\n    });\n    if (this.isCurrentUser()) {\n      this.props.currentUserModel.avatarUrl(this.state.avatarUrl);\n      this.props.currentUserModel.avatarThumbnailUrl(this.state.avatarThumbnailUrl);\n    }\n  }\n  \n  async uploadCover(blob) {\n    const {data: policy} = await assets.getUserCoverImagePolicy(this.props.api, this.state.id);\n    await this.props.uploadAssetSizes(blob, policy, assets.COVER_SIZES);\n\n    const image = await assets.blobToImage(blob);\n    const color = assets.getDominantColor(image);\n    await this.updateFields({\n      hasCoverImage: true,\n      coverColor: color,\n    });\n    this.setState({_cacheCover: Date.now()});\n  }\n  \n  async addPin(id) {\n    await this.props.api.post(`users/${this.state.id}/pinned-projects/${id}`);\n    this.setState(({pins}) => ({\n      pins: [...pins, {projectId: id}],\n    }));\n  }\n  \n  async removePin(id) {\n    await this.props.api.delete(`users/${this.state.id}/pinned-projects/${id}`);\n    this.setState(({pins}) => ({\n      pins: pins.filter(p => p.projectId !== id),\n    }));\n  }\n  \n  async leaveProject(id) {\n    await this.props.api.delete(`/projects/${id}/authorization`, {\n      data: {\n        targetUserId: this.state.id,\n      },\n    });\n    this.setState(({projects}) => ({\n      projects: projects.filter(p => p.id !== id),\n    }));\n  }\n  \n  async deleteProject(id) {\n    await this.props.api.delete(`/projects/${id}`);\n    const {data} = await this.props.api.get(`projects/${id}?showDeleted=true`);\n    this.setState(({projects, _deletedProjects}) => ({\n      projects: projects.filter(p => p.id !== id),\n      _deletedProjects: [data, ..._deletedProjects]\n    }));\n  }\n  \n  async undeleteProject(id) {\n    await this.props.api.post(`/projects/${id}/undelete`);\n    const {data} = await this.props.api.get(`projects/${id}`);\n    if (data.domain.endsWith('-deleted')) {\n      try {\n        const newDomain = data.domain.replace(/-deleted$/, '');\n        await this.props.api.patch(`/projects/${id}`, {\n          domain: newDomain,\n        });\n        data.domain = newDomain;\n      } catch (e) {\n        console.warn('failed to rename project on undelete', e);\n      }\n    }\n    this.setState(({projects, _deletedProjects}) => ({\n      projects: [...projects, data],\n      _deletedProjects: _deletedProjects.filter(p => p.id !== id)\n    }));\n  }\n  \n  render() {\n    const {handleError, handleErrorForInput} = this.props;\n    const funcs = {\n      updateName: name => this.updateName(name).catch(handleErrorForInput),\n      updateLogin: login => this.updateLogin(login).catch(handleErrorForInput),\n      updateDescription: description => this.updateFields({description}).catch(handleError),\n      uploadAvatar: () => assets.requestFile(blob => this.uploadAvatar(blob).catch(handleError)),\n      uploadCover: () => assets.requestFile(blob => this.uploadCover(blob).catch(handleError)),\n      clearCover: () => this.updateFields({hasCoverImage: false}).catch(handleError),\n      addPin: id => this.addPin(id).catch(handleError),\n      removePin: id => this.removePin(id).catch(handleError),\n      leaveProject: id => this.leaveProject(id).catch(handleError),\n      deleteProject: id => this.deleteProject(id).catch(handleError),\n      undeleteProject: id => this.undeleteProject(id).catch(handleError),\n      setDeletedProjects: _deletedProjects => this.setState({_deletedProjects}),\n    };\n    return this.props.children(this.state, funcs, this.isCurrentUser());\n  }\n}\nUserEditor.propTypes = {\n  api: PropTypes.any.isRequired,\n  children: PropTypes.func.isRequired,\n  currentUserModel: PropTypes.object.isRequired,\n  handleError: PropTypes.func.isRequired,\n  handleErrorForInput: PropTypes.func.isRequired,\n  initialUser: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n  }).isRequired,\n  uploadAsset: PropTypes.func.isRequired,\n  uploadAssetSizes: PropTypes.func.isRequired,\n};\n\nconst UserEditorContainer = ({api, children, currentUserModel, initialUser}) => (\n  <ErrorHandlers>\n    {errorFuncs => (\n      <Uploader>\n        {uploadFuncs => (\n          <UserEditor {...{api, currentUserModel, initialUser}} {...uploadFuncs} {...errorFuncs}>\n            {children}\n          </UserEditor>\n        )}\n      </Uploader>\n    )}\n  </ErrorHandlers>\n);\nUserEditorContainer.propTypes = {\n  api: PropTypes.any.isRequired,\n  children: PropTypes.func.isRequired,\n  currentUserModel: PropTypes.object.isRequired,\n  initialUser: PropTypes.object.isRequired,\n};\n\nexport default UserEditorContainer;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport LayoutPresenter from '../layout';\nimport Reactlet from \"../reactlet\";\n\nimport {getAvatarStyle, getProfileStyle} from '../../models/user';\n\nimport {DataLoader} from '../includes/loader.jsx';\nimport {Notifications} from '../notifications.jsx';\nimport {CurrentUserProvider} from '../current-user.jsx';\n\nimport {AuthDescription} from '../includes/description-field.jsx';\nimport EditableField from '../includes/editable-field.jsx';\nimport UserEditor from '../user-editor.jsx';\nimport Thanks from '../includes/thanks.jsx';\n\nimport DeletedProjects from '../deleted-projects.jsx';\nimport EntityPageProjects from '../entity-page-projects.jsx';\nimport NotFound from '../includes/not-found.jsx';\nimport {ProfileContainer, ImageButtons} from '../includes/profile.jsx';\n\nfunction syncPageToLogin(login) {\n  history.replaceState(null, null, `/@${login}`);\n  document.title = `@${login}`;\n}\n\nconst NameAndLogin = ({name, login, id, isAuthorized, updateName, updateLogin}) => {\n  if(!login) {\n    // Just an ID? We're anonymous.\n    return <h1 className=\"login\">@{id}</h1>;\n  }\n  \n  if(!isAuthorized) {\n    if(!name) {\n      //promote login to an h1.\n      return <h1 className=\"login\">@{login}</h1>;\n    }\n    return (\n      <React.Fragment>\n        <h1 className=\"username\">{name}</h1>\n        <h2 className=\"login\">@{login}</h2>\n      </React.Fragment>\n    );\n  }\n\n  return (\n    <React.Fragment>\n      <h1 className=\"username\"><EditableField value={name||\"\"} update={updateName} placeholder='Display name?'/></h1>\n      <h2 className=\"login\"><EditableField value={login} update={updateLogin} prefix=\"@\" placeholder='User ID?'/></h2>\n    </React.Fragment>\n  );\n};\nNameAndLogin.propTypes = {\n  name: PropTypes.string,\n  login: PropTypes.string,\n  id: PropTypes.number.isRequired,\n  isAuthorized: PropTypes.bool.isRequired,\n  updateName: PropTypes.func,\n  updateLogin: PropTypes.func,\n};\n\nconst UserPage = ({\n  user: { //has science gone too far?\n    id, login, name, description, thanksCount,\n    avatarUrl, color,\n    hasCoverImage, coverColor,\n    pins, projects,\n    _cacheCover, _deletedProjects,\n  },\n  api, isAuthorized,\n  updateDescription,\n  updateName, updateLogin,\n  uploadCover, clearCover,\n  uploadAvatar,\n  addPin, removePin,\n  leaveProject,\n  deleteProject, undeleteProject,\n  getDeletedProjects, setDeletedProjects,\n}) => (\n  <main className=\"profile-page user-page\">\n    <section>\n      <ProfileContainer\n        avatarStyle={getAvatarStyle({avatarUrl, color})}\n        coverStyle={getProfileStyle({id, hasCoverImage, coverColor, cache: _cacheCover})}\n        coverButtons={isAuthorized && <ImageButtons name=\"Cover\" uploadImage={uploadCover} clearImage={hasCoverImage ? clearCover : null}/>}\n        avatarButtons={isAuthorized ? <ImageButtons name=\"Avatar\" uploadImage={uploadAvatar}/> : null }\n      >\n        <NameAndLogin\n          {...{name, login, id, isAuthorized, updateName}}\n          updateLogin={login => updateLogin(login).then(() => syncPageToLogin(login))}\n        />\n        <Thanks count={thanksCount}/>\n        <AuthDescription authorized={isAuthorized} description={description} update={updateDescription} placeholder=\"Tell us about yourself\"/>\n      </ProfileContainer>\n    </section>\n    <EntityPageProjects\n      projects={projects} pins={pins} isAuthorized={isAuthorized}\n      api={api} addPin={addPin} removePin={removePin}\n      projectOptions={{leaveProject, deleteProject}}\n    />\n    {isAuthorized && <DeletedProjects get={getDeletedProjects} setDeletedProjects={setDeletedProjects} deletedProjects={_deletedProjects} undelete={undeleteProject}/>}\n  </main>\n);\nUserPage.propTypes = {\n  isAuthorized: PropTypes.bool.isRequired,\n  user: PropTypes.shape({\n    name: PropTypes.string,\n    login: PropTypes.string,\n    id: PropTypes.number.isRequired,\n    thanksCount: PropTypes.number.isRequired,\n    hasCoverImage: PropTypes.bool.isRequired,\n    avatarUrl: PropTypes.string,\n    color: PropTypes.string.isRequired,\n    coverColor: PropTypes.string,\n    _cacheCover: PropTypes.number.isRequired,\n    _deletedProjects: PropTypes.array.isRequired,\n  }).isRequired,\n  uploadAvatar: PropTypes.func.isRequired,\n  uploadCover: PropTypes.func.isRequired,\n  clearCover: PropTypes.func.isRequired,\n  leaveProject: PropTypes.func.isRequired,\n};\n\nconst UserPageLoader = ({api, get, loginOrId, currentUserModel, getDeletedProjects}) => (\n  <CurrentUserProvider model={currentUserModel}>\n    <Notifications>\n      <DataLoader get={get} renderError={() => <NotFound name={loginOrId}/>}>\n        {user => user ? (\n          <UserEditor api={api} initialUser={user} currentUserModel={currentUserModel}>\n            {(user, funcs, isAuthorized) => (\n              <UserPage user={user} {...funcs} {...{api, isAuthorized, getDeletedProjects}}/>\n            )}\n          </UserEditor>\n        ) : <NotFound name={loginOrId}/>}\n      </DataLoader>\n    </Notifications>\n  </CurrentUserProvider>\n);\nUserPageLoader.propTypes = {\n  get: PropTypes.func.isRequired,\n  loginOrId: PropTypes.node.isRequired,\n};\n\nfunction UserPagePresenter(application, loginOrId, get) {\n  const props = {\n    loginOrId, get,\n    api: application.api(),\n    currentUserModel: application.currentUser(),\n    getDeletedProjects: () => application.api().get(`user/deleted-projects`),\n  };\n  const content = Reactlet(UserPageLoader, props, 'userpage');\n  return LayoutPresenter(application, content);\n}\n\nasync function getUserById(api, id) {\n  const {data} = await api.get(`users/${id}`);\n  return data;\n}\n\nasync function getUserByLogin(api, login) {\n  const {data} = await api.get(`userId/byLogin/${login}`);\n  return await getUserById(api, data);\n}\n\nexport function UserPageById(application, id) {\n  const get = () => getUserById(application.api(), id);\n  return UserPagePresenter(application, id, get);\n}\n\nexport function UserPageByLogin(application, login) {\n  const get = () => getUserByLogin(application.api(), login);\n  return UserPagePresenter(application, login, get);\n}","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const TeamMarketing = () => (\n  <section className=\"team-marketing\">\n    <p>\n      <img className=\"for-platforms-icon\" src=\"https://cdn.glitch.com/be1ad2d2-68ab-404a-82f4-6d8e98d28d93%2Ffor-platforms-icon.svg?1506442305188\" alt=\"fishing emoji\"></img>\n      <span>Want your own team page, complete with detailed app analytics?</span>\n    </p>\n    <a href=\"https://glitch.com/forteams\">\n      <button className=\"button has-emoji\">\n        About Teams \n        <span className=\"emoji fishing_pole\" role=\"img\" aria-label=\"emoji\" />\n      </button>\n    </a>\n  </section>\n);\n\nexport const VerifiedBadge = ({image, tooltip}) => (\n  <span data-tooltip={tooltip}>\n    <img className=\"verified\" src={image} alt={tooltip}/>\n  </span>\n);\nVerifiedBadge.propTypes = {\n  image: PropTypes.string.isRequired,\n  tooltip: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment-mini';\n\nimport Loader from './loader.jsx';\nimport {FALLBACK_AVATAR_URL} from '../../models/project.js';\n\nconst RECENT_REMIXES_COUNT = 100;\n\nconst getProjectDetails = async ({id, api, currentProjectDomain}) => {\n  let path = `analytics/${id}/project/${currentProjectDomain}/overview`;\n  try {\n    return await api().get(path);\n  } catch (error) {\n    console.error('getProjectDetails', error);\n  }\n};\n\nconst addFallbackSrc = (event) => {\n  event.target.src = FALLBACK_AVATAR_URL;\n};\n\nconst avatarUrl = (id) => {\n  return `https://cdn.glitch.com/project-avatar/${id}.png`;\n};\n\nconst communityProjectUrl = (domain) => {\n  return `/~${domain}`;\n};\n\nconst ProjectDetails = ({projectDetails}) => {\n  let projectAvatar = avatarUrl(projectDetails.id);\n  let projectUrl = communityProjectUrl(projectDetails.domain);\n  return (\n    <article className=\"project-details\">\n      <a href={projectUrl}>\n        <img className=\"avatar\" src={projectAvatar} onError={addFallbackSrc} alt=\"project avatar\" />\n      </a>\n      <table>\n        <tbody>\n          <tr>\n            <td className=\"label\">Created</td>\n            <td>{moment(projectDetails.createdAt).fromNow()}</td>\n          </tr>\n          <tr>\n            <td className=\"label\">Last code view</td>\n            <td>{moment(projectDetails.lastAccess).fromNow()}</td>\n          </tr>\n          <tr>\n            <td className=\"label\">Last edited</td>\n            <td>{moment(projectDetails.lastEditedAt).fromNow()}</td>\n          </tr>\n          <tr>\n            <td className=\"label\">Last remixed</td>\n            <td>{moment(projectDetails.lastRemixedAt).fromNow()}</td>\n          </tr>\n          <tr>\n            <td className=\"label\">Total app views</td>\n            <td>{projectDetails.numAppVisits}</td>\n          </tr>\n          <tr>\n            <td className=\"label\">Total code views</td>\n            <td>{projectDetails.numUniqueEditorVisits}</td>\n          </tr>\n          <tr>\n            <td className=\"label\">Total direct remixes</td>\n            <td>{projectDetails.numDirectRemixes}</td>\n          </tr>\n          <tr>\n            <td className=\"label\">Total remixes</td>\n            <td>{projectDetails.numTotalRemixes}</td>\n          </tr>\n          { (projectDetails.baseProject.domain) &&\n            <tr>\n              <td className=\"label\">Originally remixed from</td>\n              <td>\n                <a href={communityProjectUrl(projectDetails.baseProject.domain)}>\n                  <img alt=\"project avatar\" className=\"avatar baseproject-avatar\" src={avatarUrl(projectDetails.baseProject.id)} onError={addFallbackSrc} />\n                </a>\n                {projectDetails.baseProject.domain}\n              </td>\n            </tr>\n          }\n        </tbody>\n      </table>\n    </article>\n  );\n};\n\nconst ProjectRemixItem = ({remix}) => {\n  let projectAvatar = avatarUrl(remix.id);\n  let projectUrl = communityProjectUrl(remix.domain);\n  return (\n    <a href={projectUrl}>\n      <span data-tooltip={remix.domain} data-tooltip-left=\"true\">\n        <img className=\"avatar\" src={projectAvatar} alt={remix.domain} onError={addFallbackSrc} />\n      </span>\n    </a>\n  );\n};\n\nclass TeamAnalyticsProjectDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isGettingData: true,\n      projectDetails: {},\n      projectRemixes: [],\n    };\n  }\n\n  updateProjectDetails() {\n    this.setState({\n      isGettingData: true\n    }); \n    getProjectDetails(this.props).then(({data}) => {\n      this.setState({\n        isGettingData: false,\n        projectDetails: data,\n        projectRemixes: data.remixes.slice(0, RECENT_REMIXES_COUNT),\n      });\n    });\n  }\n  \n  componentDidMount() {\n    this.updateProjectDetails();\n  }\n  \n  componentDidUpdate(prevProps) {\n    if (this.props.currentProjectDomain !== prevProps.currentProjectDomain) {\n      this.updateProjectDetails();\n    }\n  }\n    \n  render() {\n    return (\n      <React.Fragment>\n        { (this.state.isGettingData) &&\n          <Loader />\n        ||\n          <React.Fragment>\n            <ProjectDetails \n              projectDetails = {this.state.projectDetails}\n            />\n            <h4>Latest Remixes</h4>\n            { (this.state.projectRemixes.length === 0) &&\n              <p>No remixes yet (_^) </p>\n            }\n            { this.state.projectRemixes.map(remix => (\n              <ProjectRemixItem\n                key = {remix.id}\n                remix = {remix}\n              />\n            ))}\n          </React.Fragment>\n        }\n      </React.Fragment>\n    );\n  }\n}\n\nTeamAnalyticsProjectDetails.propTypes = {\n  currentProjectDomain: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n  api: PropTypes.func.isRequired,\n};\n\nexport default TeamAnalyticsProjectDetails;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst MAX_REFERRERS = 4;\n\nconst countTotals = (data, countProperty) => {\n  let total = 0;\n  data.forEach(referrer => {\n    total += referrer[countProperty];\n  });\n  return total;\n};\n\nconst ReferrerItem = ({count, total, description}) => {\n  const progress = Math.max(Math.round(count / total * 100), 3);\n  if (count <= 0) {\n    return null;\n  }\n  return (\n    <li>\n      {count.toLocaleString('en')}  {description}\n      <progress value={progress} max=\"100\" />\n    </li>\n  );\n};\n\nconst filterReferrers = (referrers) => {\n  let filteredReferrers = referrers.filter(referrer =>\n    !referrer.self\n  );\n  filteredReferrers = filteredReferrers.slice(0, MAX_REFERRERS);\n  return filteredReferrers;\n};\n\nconst TeamAnalyticsReferrers = ({analytics, totalRemixes, uniqueAppViews}) => {\n  const appViewReferrers = filterReferrers(analytics.referrers);\n  const remixReferrers = filterReferrers(analytics.remixReferrers);\n  const totalDirectAppViews = uniqueAppViews - countTotals(appViewReferrers, 'requests');\n  const totalDirectRemixes = totalRemixes - countTotals(remixReferrers, 'remixes');\n  return (\n    <div className=\"referrers-content\">\n      <article className=\"referrers-column app-views\">\n        <h4>\n          App Views\n        </h4>\n        <ul>\n          <ReferrerItem\n            count = {totalDirectAppViews}\n            total = {uniqueAppViews}\n            description = \"direct views\"\n          />\n          { appViewReferrers.map((referrer, key) => (\n            <ReferrerItem\n              key={key}\n              count = {referrer.requests}\n              total = {uniqueAppViews}\n              description = {referrer.domain}\n            />\n          ))}\n        </ul>\n      </article>\n      \n      <article className=\"referrers-column remixes\">\n        <h4>\n          Remixes\n        </h4>\n        <ul>\n          <ReferrerItem\n            count = {totalDirectRemixes}\n            total = {totalRemixes}\n            description = \"direct remixes\"\n          />\n          { remixReferrers.map((referrer, key) => (\n            <ReferrerItem\n              key={key}\n              count = {referrer.remixes}\n              total = {totalRemixes}\n              description = {referrer.domain}\n            />\n          ))}\n        </ul>\n      </article> \n    </div>\n  );\n};\n\nTeamAnalyticsReferrers.propTypes = {\n  analytics: PropTypes.object.isRequired,\n  totalRemixes: PropTypes.number.isRequired,\n  uniqueAppViews: PropTypes.number.isRequired,\n};\n\nexport default TeamAnalyticsReferrers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport _ from 'lodash';\nimport * as d3Array from 'd3-array';\n\nconst binData = d3Array.histogram().value(function(data) {\n  return data['@timestamp'];\n});\n\nconst createHistogram = (buckets) => {\n  let data = binData(buckets);\n  let histogram = [];\n  data.forEach (bin => {\n    let uniqueAppViews = 0;\n    let totalRemixes = 0;\n    // let codeViews = []\n    bin.forEach (data => {\n      totalRemixes += data.analytics.remixes;\n      uniqueAppViews += data.analytics.uniqueIps;\n      // referrers.push(data.analytics.referrers)\n    });\n    histogram.push({\n      time: bin.x0,\n      appViews: uniqueAppViews,\n      remixes: totalRemixes,\n    });\n  });\n  return histogram;\n};\n\nconst chartColumns = (analytics) => {\n  const buckets = analytics.buckets;\n  let histogram = createHistogram(buckets);\n  let timestamps = ['x'];\n  let remixes = ['Remixes'];\n  let appViews = ['Unique App Views'];\n  // let codeViews = ['Code Views']\n  histogram.shift();\n  histogram.forEach(bucket => {\n    timestamps.push(bucket.time);\n    appViews.push(bucket.appViews);\n    remixes.push(bucket.remixes);\n  });\n  return [timestamps, appViews, remixes];\n};\n\nconst dateFormat = (currentTimeFrame) => {\n  if (currentTimeFrame === \"Last 24 Hours\") {\n    return \"%H:%M %p\";\n  } \n  return \"%b-%d\";\n};\n\nconst renderChart = (c3, analytics, currentTimeFrame) => {\n  let columns = [];\n  if (!_.isEmpty(analytics)) {\n    columns = chartColumns(analytics);\n  }\n  \n  // eslint-disable-next-line no-unused-vars\n  var chart = c3.generate({\n    size: {\n      height: 200,\n    },\n    data: {\n      x: 'x',\n      xFormat: dateFormat(currentTimeFrame),\n      columns: columns\n    },\n    axis: {\n      x: {\n        type: 'timeseries',\n        tick: {\n          format: dateFormat(currentTimeFrame),\n          fit: true,\n          culling: {\n            max: 12\n          },\n        }\n      },\n    },\n  });\n};\n\nclass TeamAnalyticsActivity extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  \n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.isGettingData === true && \n      this.props.isGettingData === false\n    ) {\n      renderChart(this.props.c3, this.props.analytics, this.props.currentTimeFrame);\n    }\n  }\n  \n  render() {\n    return null;\n  }\n}\n\nTeamAnalyticsActivity.propTypes = {\n  c3: PropTypes.object.isRequired, \n  analytics: PropTypes.object.isRequired, \n  currentTimeFrame: PropTypes.string.isRequired,\n  isGettingData: PropTypes.bool.isRequired,\n};\n\nexport default TeamAnalyticsActivity;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Pluralize from 'react-pluralize';\n\nconst clickEvent = new CustomEvent('click', {bubbles: true, cancelable: true});\nconst blurEvent = new CustomEvent('mouseout', {bubbles: true, cancelable: true});\n\nclass TeamAnalyticsSummary extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  \n  toggleGraph(summaryType) {\n    let element = document.querySelector(`.c3-legend-item-${summaryType}`);\n    element.dispatchEvent(clickEvent);\n    element.dispatchEvent(blurEvent);\n  }\n  \n  render() {\n    return (\n      <React.Fragment>\n        <span className=\"summary-item\" onClick={() => {this.toggleGraph('Unique-App-Views');}} onKeyPress={() => {this.toggleGraph('App-Views');}} role=\"button\" tabIndex={0}>\n          <span className=\"total app-views\">\n            {this.props.uniqueAppViews.toLocaleString('en')}\n          </span>{' '}\n          <Pluralize className=\"summary-label\" singular=\"Unique App View\" plural=\"Unique App Views\" count={this.props.uniqueAppViews} showCount={false} />\n        </span>\n        \n        ,{' '}\n\n        <span className=\"summary-item\" onClick={() => {this.toggleGraph('Remixes');}} onKeyPress={() => {this.toggleGraph('Remixes');}} role=\"button\" tabIndex={0}>\n          <span className=\"total remixes\">\n            {this.props.totalRemixes.toLocaleString('en')}\n          </span>{' '}\n          <Pluralize className=\"summary-label\" singular=\"Remix\" plural=\"Remixes\" count={this.props.totalRemixes} showCount={false} />\n        </span>\n      </React.Fragment>\n    );\n  }\n}\n\nTeamAnalyticsSummary.propTypes = {\n  uniqueAppViews: PropTypes.number.isRequired,\n  totalRemixes: PropTypes.number.isRequired,\n};\n\nexport default TeamAnalyticsSummary;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ProjectResultItem from '../includes/project-result-item.jsx';\nimport PopoverContainer from './popover-container.jsx';\n\nconst AllProjectsItem = ({currentProjectDomain, action}) => {\n  const BENTO_BOX = 'https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fbento-box.png?1502469566743';\n  var resultsClass = \"button-unstyled result \";\n  if (currentProjectDomain === \"All Projects\") {\n    resultsClass += \"active\";\n  }\n  return (\n    <button className={resultsClass} onClick={action}>\n      <img className=\"avatar\" src={BENTO_BOX} alt='Bento emoji'/>\n      <div className=\"result-name\" title=\"All Projects\">All Projects</div>\n    </button>\n  );\n};\n\nAllProjectsItem.propTypes = {\n  currentProjectDomain: PropTypes.string.isRequired,\n  action: PropTypes.func.isRequired,\n};\n\n\nconst isActive = (currentProjectDomain, project) => {\n  if (currentProjectDomain === project.domain) {\n    return true;\n  }\n};\n\nconst PopOver = ({projects, togglePopover, setFilter, filter, updateProjectdomain, currentProjectDomain}) => {\n  const onClick = (project) => {\n    togglePopover();\n    updateProjectdomain(project.domain);\n    setFilter(\"\");\n  };\n  \n  const filteredProjects = projects.filter(({name}) => {\n    return name.toLowerCase().includes(filter.toLowerCase());\n  });\n  \n  return (\n    <dialog className=\"pop-over analytics-projects-pop\">\n      <section className=\"pop-over-info\">\n        <input\n          autoFocus // eslint-disable-line jsx-a11y/no-autofocus\n          onChange={(event) => {setFilter(event.target.value);}} \n          id=\"analytics-project-filter\" \n          className=\"pop-over-input search-input pop-over-search\" \n          placeholder=\"Filter projects\"\n          value={filter}\n        />\n      </section>\n      <section className=\"pop-over-actions results-list\">\n        <ul className=\"results\">\n          <li className=\"button-unstyled\">\n            < AllProjectsItem \n              currentProjectDomain = {currentProjectDomain}\n              action = {() => {onClick({domain: \"All Projects\"});}}\n            />\n          </li>\n          { filteredProjects.map((project) => (\n            <li key={project.id} className=\"button-unstyled\">\n              <ProjectResultItem \n                {...project} \n                action = {() => { onClick(project); }} \n                isActive = {isActive(currentProjectDomain, project)}\n              />\n            </li>\n          ))}\n        </ul>\n      </section>\n    </dialog>\n  ); \n};\n\nPopOver.propTypes = {\n  projects: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    avatar: PropTypes.string.isRequired,\n    domain: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n  })).isRequired,\n  togglePopover: PropTypes.func.isRequired,\n  setFilter: PropTypes.func.isRequired,\n  filter: PropTypes.string.isRequired,\n  updateProjectdomain: PropTypes.func.isRequired,\n  currentProjectDomain: PropTypes.string.isRequired,\n};\n\n\nclass TeamAnalyticsProjectPop extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {filter: \"\"};\n    this.setFilter = this.setFilter.bind(this);\n  }\n  \n  setFilter(query) {\n    this.setState({filter: query});\n  }\n  \n  render() {\n    const {updateProjectdomain, currentProjectDomain, projects} = this.props;\n    return (\n      <PopoverContainer>\n        {({visible, togglePopover}) => (\n          <div className=\"button-wrap\">\n            <button className=\"button-small button-tertiary\" onClick={togglePopover}>\n              {currentProjectDomain}\n            </button>\n            {visible && \n              <PopOver \n                projects={projects}\n                updateProjectdomain={updateProjectdomain}\n                currentProjectDomain={currentProjectDomain}\n                togglePopover={togglePopover}\n                setFilter={this.setFilter}\n                filter={this.state.filter}\n              />\n            }\n          </div>\n        )}\n      </PopoverContainer>\n    );\n  }\n}\n\nTeamAnalyticsProjectPop.propTypes = {\n  updateProjectdomain: PropTypes.func.isRequired,\n  currentProjectDomain: PropTypes.string.isRequired,\n};\n\nexport default TeamAnalyticsProjectPop;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PopoverContainer from './popover-container.jsx';\n\nconst TimeFrameItem = ({selectTimeFrame, isActive, timeFrame}) => {\n  let resultClass = \"result button-unstyled\";\n  if(isActive) {\n    resultClass += \" active\";\n  }\n  return (\n    <button className={resultClass} onClick={selectTimeFrame}>\n      <div className=\"result-container\">\n        <div className=\"result-name\">{timeFrame}</div>\n      </div>\n    </button>\n  );\n};\n\nTimeFrameItem.propTypes = {\n  selectTimeFrame: PropTypes.func.isRequired,\n  isActive: PropTypes.bool.isRequired,\n  timeFrame: PropTypes.string.isRequired,  \n};\n\nconst timeFrames = [\n  \"Last 4 Weeks\",\n  \"Last 2 Weeks\",\n  \"Last 24 Hours\",\n];\n\nconst TeamAnalyticsTimePop = (({updateTimeFrame, currentTimeFrame}) => {\n  const selectTimeFrame = (timeFrame, togglePopover) => {\n    return () => {\n      updateTimeFrame(timeFrame);\n      togglePopover();\n    };\n  };\n\n  return (\n    <PopoverContainer>\n      {({visible, togglePopover}) => (\n        <div className=\"button-wrap\">\n          <button className=\"button-small button-tertiary button-select\" onClick={togglePopover}>\n            <span>{currentTimeFrame}</span>\n          </button>\n          { visible && (\n            <dialog className=\"pop-over analytics-time-pop\">\n              <section className=\"pop-over-actions last-section results-list\">\n                <div className=\"results\">\n                  { timeFrames.map(timeFrame => (\n                    <TimeFrameItem \n                      key={timeFrame}\n                      selectTimeFrame={selectTimeFrame(timeFrame, togglePopover)}\n                      isActive={currentTimeFrame === timeFrame} \n                      timeFrame={timeFrame}\n                    />\n                  ))}\n                </div>\n              </section>\n            </dialog>\n          )}\n        </div>\n      )}\n    </PopoverContainer>\n  );\n});\n\nTeamAnalyticsTimePop.propTypes = {\n  updateTimeFrame: PropTypes.func.isRequired,\n  currentTimeFrame: PropTypes.string.isRequired,\n};\n\nexport default TeamAnalyticsTimePop;\n","var map = {\n\t\"./locale\": 53,\n\t\"./locale.js\": 53\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 132;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment-mini';\nimport _ from 'lodash';\n\nimport Loader from './loader.jsx';\nimport TeamAnalyticsTimePop from '../pop-overs/team-analytics-time-pop.jsx';\nimport TeamAnalyticsProjectPop from '../pop-overs/team-analytics-project-pop.jsx';\n\nimport TeamAnalyticsSummary from '../includes/team-analytics-summary.jsx';\nimport TeamAnalyticsActivity from '../includes/team-analytics-activity.jsx';\nimport TeamAnalyticsReferrers from '../includes/team-analytics-referrers.jsx';\nimport TeamAnalyticsProjectDetails from '../includes/team-analytics-project-details.jsx';\n\nconst dateFromTime = (newTime) => {\n  const timeMap = [\n    {\n      time: \"Last 4 Weeks\",\n      date: moment().subtract(4, 'weeks').valueOf(),\n    },\n    {\n      time: \"Last 2 Weeks\",\n      date: moment().subtract(2, 'weeks').valueOf(),\n    },\n    {\n      time: \"Last 24 Hours\",\n      date: moment().subtract(24, 'hours').valueOf(),\n    },\n  ];\n  let time = _.find(timeMap, (object) => {\n    return object.time === newTime;\n  });\n  return time.date;\n};\n\nconst getAnalytics = async ({id, api}, fromDate, currentProjectDomain) => {\n  let path = `analytics/${id}/team?from=${fromDate}`;\n  if (currentProjectDomain !== \"All Projects\") {\n    path = `analytics/${id}/project/${currentProjectDomain}?from=${fromDate}`;\n  }\n  try {\n    return await api().get(path);\n  } catch (error) {\n    console.error('getAnalytics', error);\n  }\n};\n\nclass TeamAnalytics extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentTimeFrame: 'Last 2 Weeks',\n      fromDate: moment().subtract(2, 'weeks').valueOf(),\n      currentProjectDomain: 'All Projects',\n      analytics: {},\n      c3: {},\n      isGettingData: true,\n      isGettingC3: true,\n      totalRemixes: 0,\n      uniqueAppViews: 0,\n    };\n  }\n\n  updateTotals() {\n    let uniqueAppViews = 0;\n    let totalRemixes = 0;\n    this.state.analytics.buckets.forEach(bucket => {\n      uniqueAppViews += bucket.analytics.uniqueIps;\n      totalRemixes += bucket.analytics.remixes;\n    });\n    this.setState({\n      uniqueAppViews: uniqueAppViews,\n      totalRemixes: totalRemixes,\n    });\n  }\n\n  updateAnalytics() {\n    console.log ('updateAnalytics');\n    this.setState({\n      isGettingData: true,\n    });\n    getAnalytics(this.props, this.state.fromDate, this.state.currentProjectDomain).then(({data}) => {\n      this.setState({\n        isGettingData: false,\n        analytics: data,\n      }, () => {\n        this.updateTotals();\n      });\n    });\n  }\n\n  updateTimeFrame(newTime) {\n    this.setState({\n      currentTimeFrame: newTime,\n      fromDate: dateFromTime(newTime)\n    }, () => {\n      this.updateAnalytics();\n    });\n  }\n\n  updateProjectdomain(newDomain) {\n    this.setState({\n      currentProjectDomain: newDomain\n    }, () => {\n      this.updateAnalytics();\n    });\n  }\n  \n  componentDidMount() {\n    // eslint-disable-next-line\n    import(\n      /* webpackChunkName: \"c3-bundle\" */\n      \"c3\"\n    ).then(c3 => {\n      this.setState({\n        c3: c3,\n        isGettingC3: false,\n      });\n      if (this.props.currentUserOnTeam) {\n        this.updateAnalytics();\n      }\n    });\n  }\n  \n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.currentUserOnTeam === false && \n      this.props.currentUserOnTeam === true &&\n      this.state.isGettingC3 === false\n    ) {\n      this.updateAnalytics();\n    }\n  }\n  \n  render() {\n    if (!this.props.currentUserOnTeam) {\n      return null;\n    }\n    return (\n      <section className=\"team-analytics\">\n        <h2>Analytics</h2>\n        <section className=\"controls\">\n          <TeamAnalyticsProjectPop\n            updateProjectdomain = {this.updateProjectdomain.bind(this)}\n            currentProjectDomain = {this.state.currentProjectDomain}\n            projects = {this.props.projects}\n          />\n          <TeamAnalyticsTimePop \n            updateTimeFrame = {this.updateTimeFrame.bind(this)}\n            currentTimeFrame = {this.state.currentTimeFrame}\n          />\n        </section>\n        \n        <section className=\"summary\">\n          { (this.state.isGettingData) &&\n            <Loader />\n          ||\n            <TeamAnalyticsSummary\n              uniqueAppViews = {this.state.uniqueAppViews}\n              totalRemixes = {this.state.totalRemixes}\n            />\n          }\n        </section>\n        \n        <section className=\"activity\">\n          <figure id=\"chart\" className=\"c3\"/>\n          { (this.state.isGettingData || this.state.isGettingC3) && \n            <Loader /> \n          }\n          { (!this.state.isGettingC3) &&\n            <TeamAnalyticsActivity \n              c3 = {this.state.c3}\n              analytics = {this.state.analytics}\n              isGettingData = {this.state.isGettingData}\n              currentTimeFrame = {this.state.currentTimeFrame}\n            />\n          }\n        </section>\n\n        <section className=\"referrers\">\n          <h3>Referrers</h3>\n          { (this.state.isGettingData) &&\n            <Loader />\n          ||\n            <TeamAnalyticsReferrers \n              analytics = {this.state.analytics}\n              totalRemixes = {this.state.totalRemixes}\n              uniqueAppViews = {this.state.uniqueAppViews}\n            />\n          }\n        </section>\n\n        <section className=\"project-details\">\n          <h3>Project Details</h3>\n          <TeamAnalyticsProjectPop\n            updateProjectdomain = {this.updateProjectdomain.bind(this)}\n            currentProjectDomain = {this.state.currentProjectDomain}\n            projects = {this.props.projects}\n          />\n          { (this.state.currentProjectDomain === \"All Projects\") &&\n            <p>\n              <span className=\"up-arrow\"> </span>\n              Select a project for details and the latest remixes</p>\n            ||\n            <TeamAnalyticsProjectDetails\n              currentProjectDomain = {this.state.currentProjectDomain}\n              id = {this.props.id}\n              api = {this.props.api}\n            />\n          }\n        </section>\n\n      </section>\n    );\n  }\n}\n\nTeamAnalytics.propTypes = {\n  id: PropTypes.number,\n  api: PropTypes.func.isRequired,\n  projects: PropTypes.array.isRequired,\n  currentUserOnTeam: PropTypes.bool.isRequired,\n};\n\nexport default TeamAnalytics;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Thanks from '../includes/thanks.jsx';\n\nconst RemoveFromTeam = ({action}) => (\n  <section className=\"pop-over-actions danger-zone\">\n    <button className=\"button-small has-emoji button-tertiary button-on-secondary-background\" onClick={action}>\n      Remove from Team\n      <span className=\"emoji wave\" />\n    </button>\n  </section>\n);\n\nRemoveFromTeam.propTypes = {\n  action: PropTypes.func.isRequired,\n};\n\nconst UserActions = ({user}) => (\n  <section className=\"pop-over-actions\">\n    <a href={user.userLink}>\n      <button className=\"button-small has-emoji button-tertiary\">\n        <span>Profile </span>\n        <img className=\"emoji avatar\" src={user.userAvatarUrl} alt={user.login}></img>\n      </button>\n    </a>\n  </section>\n);\n\nUserActions.propTypes = {\n  user: PropTypes.shape({\n    userLink: PropTypes.string.isRequired,\n    userAvatarUrl: PropTypes.string.isRequired,\n    login: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nconst ThanksCount = ({count}) => (\n  <section className=\"pop-over-info\">\n    <Thanks count={count} />\n  </section>\n);\n\nconst UserInfoPop = ({user, currentUserIsOnTeam, removeUserFromTeam, togglePopover}) => {\n  const removeFromTeamAction = () => {\n    togglePopover();\n    removeUserFromTeam();\n  };\n  \n  return (\n    <dialog className=\"pop-over user-info-pop\">\n      <section className=\"pop-over-info\">\n        <a href={user.userLink}>\n          <img className=\"avatar\" src={user.userAvatarUrl} alt={user.login} style={user.style}/>\n        </a>\n        <div className=\"info-container\">\n          <p className=\"name\" title={user.name}>{user.name}</p>\n          <p className=\"user-login\" title={user.login}>@{user.login}</p>\n        </div>\n      </section>\n      { user.thanksCount > 0 && <ThanksCount count={user.thanksCount} /> }\n      <UserActions user={user} />\n      { currentUserIsOnTeam && <RemoveFromTeam action={removeFromTeamAction} />}\n    </dialog>\n  );\n};\n\nUserInfoPop.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string,\n    login: PropTypes.string.isRequired,\n    userAvatarUrl: PropTypes.string.isRequired,\n    userLink: PropTypes.string.isRequired,\n    thanksCount: PropTypes.number.isRequired,\n    isOnTeam: PropTypes.bool,\n  }).isRequired,\n  currentUserIsOnTeam: PropTypes.bool.isRequired,\n  removeUserFromTeam: PropTypes.func.isRequired,\n};\n\nUserInfoPop.defaultProps = {\n  user: {\n    isOnTeam: false\n  },\n  currentUserIsOnTeam: false,\n};\n\nexport default UserInfoPop;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {ThanksShort} from './thanks.jsx';\n\nconst UserResultItem = ({user, action}) => {\n  const {userAvatarUrl, name, login, thanksCount} = user;\n  \n  const handleClick = (event) => {\n    console.log('');\n    action(event);\n  };\n\n  return (\n    <button onClick={handleClick} className=\"button-unstyled result\">\n      <img className=\"avatar\" src={userAvatarUrl} alt={`User avatar for ${login}`}/>\n      <div className=\"result-name\" title={name}>{name}</div>\n      <div className=\"result-description\" title={login}>@{login}</div>\n      { thanksCount > 0 && <ThanksShort count={thanksCount} />}\n    </button>\n  );\n};\n\nUserResultItem.propTypes = {\n  user: PropTypes.shape({\n    userAvatarUrl: PropTypes.string.isRequired,\n    name: PropTypes.string,\n    login: PropTypes.string.isRequired,\n    thanksCount: PropTypes.number.isRequired,\n  }).isRequired,\n  action: PropTypes.func.isRequired,\n};\n\n\nexport default UserResultItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {debounce} from 'lodash';\n\nimport Loader from '../includes/loader.jsx';\nimport UserResultItem from '../includes/user-result-item.jsx';\n\nconst UserSearchResults = ({users, action}) => (\n  (users.length > 0) ? (\n    <ul className=\"results\">\n      {users.map(user => (\n        <li key={user.id}>\n          <UserResultItem user={user} action={() => action(user.id)} />\n        </li>\n      ))}\n    </ul>\n  ) : (\n    <p className=\"results-empty\">nothing found <span role=\"img\" aria-label=\"\"></span></p>\n  )\n);\n\nUserSearchResults.propTypes = {\n  users: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n  }).isRequired).isRequired,\n  action: PropTypes.func.isRequired,\n};\n\nclass AddTeamUserPop extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      query: '', //The actual search text\n      maybeRequest: null, //The active request promise\n      maybeResults: null, //Null means still waiting vs empty -- [jude: i suggest the 'maybe' convention for nullable fields with meaning.  'maybeResults'] --greg: i like it\n    };\n    \n    this.handleChange = this.handleChange.bind(this);\n    this.clearSearch = this.clearSearch.bind(this);\n    this.startSearch = debounce(this.startSearch.bind(this), 300);\n    this.onClick = this.onClick.bind(this);\n  }\n  \n  handleChange(evt) {\n    const query = evt.currentTarget.value.trim();\n    this.setState({ query });\n    if (query) {\n      this.startSearch();\n    } else {\n      this.clearSearch();\n    }\n  }\n  \n  clearSearch() {\n    this.setState({\n      maybeRequest: null,\n      maybeResults: null,\n    });\n  }\n  \n  startSearch() {\n    if (!this.state.query) {\n      return this.clearSearch();\n    }\n    \n    const request = this.props.search(this.state.query);\n    this.setState({ maybeRequest: request });\n    \n    request.then(results => {\n      this.setState(({ maybeRequest }) => {\n        return (request === maybeRequest) ? {\n          maybeRequest: null,\n          maybeResults: results.filter(user => !this.props.members || !this.props.members.includes(user.id)).slice(0, 5),\n        } : {};\n      });\n    });\n  }\n  \n  onClick(userId) {\n    this.props.togglePopover();\n    this.props.add(userId);\n  }\n  \n  render() {\n    const isLoading = (!!this.state.maybeRequest || !this.state.maybeResults);\n    return (\n      <dialog className=\"pop-over add-team-user-pop\">\n        <section className=\"pop-over-info\">\n          <input id=\"team-user-search\" \n            autoFocus // eslint-disable-line jsx-a11y/no-autofocus\n            value={this.state.query} onChange={this.handleChange}\n            className=\"pop-over-input search-input pop-over-search\"\n            placeholder=\"Search for a user or email\"\n          />\n        </section>\n        {!!this.state.query && <section className=\"pop-over-actions last-section results-list\">\n          {isLoading && <Loader />}\n          {!!this.state.maybeResults && <UserSearchResults users={this.state.maybeResults} action={this.onClick} />}\n        </section>}\n      </dialog>\n    );\n  }\n}\n\nAddTeamUserPop.propTypes = {\n  search: PropTypes.func.isRequired,\n  add: PropTypes.func.isRequired,\n  members: PropTypes.arrayOf(PropTypes.number.isRequired),\n  togglePopover: PropTypes.func.isRequired,\n};\n\nexport default AddTeamUserPop;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport AddTeamUserPop from '../pop-overs/add-team-user-pop.jsx';\nimport PopoverContainer from '../pop-overs/popover-container.jsx';\nimport UserInfoPop from '../pop-overs/user-info-pop.jsx';\nimport {UserPopoversList} from '../users-list.jsx';\n\nexport const TeamUsers = ({users, currentUserIsOnTeam, removeUser}) => (\n  <UserPopoversList users={users}>\n    {(user, togglePopover) => <UserInfoPop togglePopover={togglePopover} user={user} currentUserIsOnTeam={currentUserIsOnTeam} removeUserFromTeam={() => removeUser(user.id)} />}\n  </UserPopoversList>\n);\nTeamUsers.propTypes = {\n  users: PropTypes.array.isRequired,\n  currentUserIsOnTeam: PropTypes.bool.isRequired,\n  removeUser: PropTypes.func.isRequired,\n};\n\nexport const AddTeamUser = (props) => (\n  <PopoverContainer>\n    {({visible, togglePopover}) => (\n      <span className=\"add-user-container\">\n        <button onClick={togglePopover} className=\"button button-small button-tertiary add-user\">Add</button>\n        {visible && <AddTeamUserPop {...props} togglePopover={togglePopover}/>}\n      </span>\n    )}\n  </PopoverContainer>\n);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ProjectResultItem from '../includes/project-result-item.jsx';\n\nexport class AddTeamProjectPop extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {projects: []};\n    this.onClick = this.onClick.bind(this);\n    this.updateFilter = this.updateFilter.bind(this);\n  }\n  \n  updateFilter(query) {\n    const projects = this.filterProjects(query, this.props.myProjects, this.props.teamProjects);\n    this.setState({projects});\n  }\n  \n  componentDidMount() {\n    this.updateFilter(\"\");\n  }\n  \n  filterProjects(query, myProjects, teamProjects) {\n    query = query.toLowerCase().trim();\n    const teamProjectIds = teamProjects.map(({id})=>id);\n    const availableProjects = myProjects.filter(\n      ({id}) => !teamProjectIds.includes(id)\n    );\n    \n    const maxProjects = 20;\n    if(!query) {\n      return availableProjects.splice(0,maxProjects);\n    }\n    const projects = [];\n    for(let project of availableProjects) {\n      if(projects.length > maxProjects){\n        break;\n      }\n      const titleMatch = project.domain.toLowerCase().includes(query);\n      const descMatch = project.description.toLowerCase().includes(query);\n      if(titleMatch || descMatch) {\n        projects.push(project);\n      }\n    }\n    return projects;\n  }\n  \n  onClick(event, projectId) {\n    event.preventDefault();\n    this.props.togglePopover();\n    this.props.addProject(projectId);\n  }\n\n  render() {\n    const showResults = this.state.projects.length > 0;\n    return (\n      <dialog className=\"pop-over add-team-project-pop\">\n        <section className=\"pop-over-info\">\n          <input\n            onChange={(event) => {this.updateFilter(event.target.value);}}\n            id=\"team-project-search\" className=\"pop-over-input search-input pop-over-search\"\n            placeholder=\"Filter your projects\"\n            autoFocus // eslint-disable-line jsx-a11y/no-autofocus\n          />\n        </section>\n        { showResults && (\n          <section className=\"pop-over-actions results-list\">\n            <ul className=\"results\">\n              { this.state.projects.map((project) => (\n                <li key={project.id}>\n                  <ProjectResultItem \n                    action={(event) => this.onClick(event, project.id)} \n                    {...project}\n                    title={project.domain}/>\n                </li>\n              ))}\n            </ul>\n          </section>\n        )}\n      </dialog>\n    );\n  }\n}\n\nAddTeamProjectPop.propTypes = {\n  myProjects: PropTypes.array.isRequired,\n  teamProjects: PropTypes.array.isRequired,\n  addProject: PropTypes.func.isRequired,\n  togglePopover: PropTypes.func.isRequired,\n};\n\n\nexport default AddTeamProjectPop;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport AddTeamProjectPop from '../pop-overs/add-team-project-pop.jsx';\nimport PopoverContainer from '../pop-overs/popover-container.jsx';\n\nconst AddTeamProject = ({currentUserIsOnTeam, ...props}) => {\n  if(!currentUserIsOnTeam) {\n    return null;\n  }\n  \n  return (\n    <section className=\"add-project-container\">\n      <PopoverContainer>\n        {({visible, togglePopover}) => (\n          <div className=\"button-wrap\">\n            <button className=\"button add-project has-emoji opens-pop-over\" onClick={togglePopover}>\n              Add Project <span className=\"emoji bento-box\" role=\"img\" aria-label=\"\"></span>\n            </button>\n            { visible && <AddTeamProjectPop {...props} togglePopover={togglePopover} /> }\n          </div>\n        )}\n      </PopoverContainer>\n    </section>\n  );\n};\n\nAddTeamProject.propTypes = {\n  currentUserIsOnTeam: PropTypes.bool.isRequired,\n};\n\nexport default AddTeamProject;\n","export default ProgressPromise;\n\n// Extend promises with `finally`\n// From: https://github.com/domenic/promises-unwrapping/issues/18\nif (Promise.prototype.finally == null) { Promise.prototype.finally = function(callback) {\n  // We dont invoke the callback in here,\n  // because we want then() to handle its exceptions\n  return this.then(\n    // Callback fulfills: pass on predecessor settlement\n    // Callback rejects: pass on rejection (=omit 2nd arg.)\n    value =>\n      Promise.resolve(callback())\n        .then(() => value)\n    ,\n    reason =>\n      Promise.resolve(callback())\n        .then(function() { throw reason; })\n  );\n}; }\n\nif (Promise.prototype._notify == null) { Promise.prototype._notify = function(event) {\n  return this._progressHandlers.forEach(function(handler) {\n    try {\n      return handler(event);\n    } catch (error) {\n      // empty\n    }\n  });\n}; }\n\nif (Promise.prototype.progress == null) { Promise.prototype.progress = function(handler) {\n  if (this._progressHandlers == null) { this._progressHandlers = []; }\n  this._progressHandlers.push(handler);\n\n  return this;\n}; }\n\nfunction ProgressPromise(fn) {\n  var p = new Promise(function(resolve, reject) {\n    const notify = () =>\n      p._progressHandlers != null ? p._progressHandlers.forEach(function(handler) {\n        try {\n          return handler(event);\n        } catch (error) {\n          //empty\n        }\n      }) : undefined\n    ;\n\n    return fn(resolve, reject, notify);\n  });\n\n  p.then = function(onFulfilled, onRejected) {\n    const result = Promise.prototype.then.call(p, onFulfilled, onRejected);\n    // Pass progress through\n    p.progress(result._notify.bind(result));\n\n    return result;\n  };\n\n  return p;\n}\n","import ProgressPromise from './progress-promise';\n\n/* eslint-disable */\n\n/*\nS3 Uploader\n===========\n\nUpload data directly to S3 from the client.\n\nUsage\n-----\n\n>     uploader = S3.uploader(JSON.parse(localStorage.S3Policy))\n>     uploader.upload\n>       key: \"myfile.text\"\n>       blob: new Blob [\"radical\"]\n>       cacheControl: 60 # default 0\n\n\nThe uploader automatically prefixes the key with the namespace specified in the\npolicy.\n\nA promise is returned that is fulfilled with the url of the uploaded resource.\n\n>     .then (url) -> # \"https://s3.amazonaws.com/trinket/18894/myfile.txt\"\n\nThe promise is rejected with an error if the upload fails.\n\nA progress event is fired with the percentage of the upload that has completed.\n\nThe policy is a JSON object with the following keys:\n\n- `accessKey`\n- `policy`\n- `signature`\n\nSince these are all needed to create and sign the policy we keep them all\ntogether.\n\nGiving this object to the uploader method creates an uploader capable of\nasynchronously uploading files to the bucket specified in the policy.\n\nNotes\n-----\n\nThe policy must specify a `Cache-Control` header because we always try to set it.\n\nLicense\n-------\n\nThe MIT License (MIT)\n\nCopyright (c) 2014\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n*/\n\nexport default function(credentials) {\n  const {policy, signature, accessKeyId} = credentials;\n  const {acl, bucket, namespace} = extractPolicyData(policy);\n\n  const bucketUrl = `https://s3.amazonaws.com/${bucket}`;\n\n  const urlFor = function(key) {\n    const namespacedKey = `${namespace}${key}`;\n\n    return `${bucketUrl}/${namespacedKey}`;\n  };\n\n  return {\n    urlFor,\n\n    upload({key, blob, cacheControl}) {\n      console.log('upload called', key); // 2, based on user id\n      console.log('using namespace', namespace); // user-cover/2, not sure what it's based on\n      const namespacedKey = `${namespace}${key}`;\n      const url = urlFor(key);\n\n      return sendForm(bucketUrl, objectToForm({\n        key: namespacedKey,\n        \"Content-Type\": blob.type || 'binary/octet-stream',\n        \"Cache-Control\": `max-age=${cacheControl || 31536000}`,\n        AWSAccessKeyId: accessKeyId,\n        \"x-amz-security-token\": credentials.sessionToken,\n        acl,\n        policy,\n        signature,\n        file: blob,\n      })).then(() => `${bucketUrl}/${encodeURIComponent(namespacedKey)}`);\n    },\n  };\n};\n\nconst getKey = function(conditions, key) {\n  const results = conditions.filter(condition => typeof condition === \"object\").map(object => object[key])\n    .filter(value => value);\n\n  return results[0];\n};\n\nconst getNamespaceFromPolicyConditions = conditions =>\n  (conditions.filter(function(condition) {\n    if (Array.isArray(condition)) {\n      const [a, b, c] = Array.from(condition);\n      return (b === \"$key\") && ((a === \"starts-with\") || (a === \"eq\"));\n    }\n  }))[0][2]\n;\n\nvar extractPolicyData = function(policy) {\n  const policyObject = JSON.parse(atob(policy));\n\n  const { conditions } = policyObject;\n\n  return {\n    acl: getKey(conditions, \"acl\"),\n    bucket: getKey(conditions, \"bucket\"),\n    namespace: getNamespaceFromPolicyConditions(conditions),\n  };\n};\n\nconst isSuccess = request => request.status.toString()[0] === \"2\";\n\nvar sendForm = (url, formData) =>\n  new ProgressPromise(function(resolve, reject, notify) {\n    const request = new XMLHttpRequest();\n\n    request.open(\"POST\", url, true);\n\n    if (request.upload != null) {\n      request.upload.onprogress = notify;\n    }\n\n    request.onreadystatechange = function(e) {\n      if (request.readyState === 4) {\n        if (isSuccess(request)) {\n\n          return resolve(request);\n        } \n        return reject(request);\n        \n      }\n    };\n\n    return request.send(formData);\n  })\n;\n\nvar objectToForm = function(data) {\n  let formData;\n  return formData = Object.keys(data).reduce(function(formData, key) {\n    const value = data[key];\n\n    if (value) {\n      formData.append(key, value);\n    }\n\n    return formData;\n  }\n    , new FormData);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport * as assets from '../utils/assets';\n\nimport ProjectModel from '../models/project';\nimport UserModel from '../models/user';\n\nimport ErrorHandlers from './error-handlers.jsx';\nimport Uploader from './includes/uploader.jsx';\n\nclass TeamEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ...props.initialTeam,\n      _cacheAvatar: Date.now(),\n      _cacheCover: Date.now(),\n    };\n  }\n  \n  currentUserIsOnTeam() {\n    const currentUserId = this.props.currentUserModel.id();\n    return this.state.users.some(({id}) => currentUserId === id);\n  }\n  \n  async updateFields(changes) {\n    const {data} = await this.props.api.patch(`teams/${this.state.id}`, changes);\n    this.setState(data);\n  }\n  \n  async uploadAvatar(blob) {\n    const {data: policy} = await assets.getTeamAvatarImagePolicy(this.props.api, this.state.id);\n    await this.props.uploadAssetSizes(blob, policy, assets.AVATAR_SIZES);\n\n    const image = await assets.blobToImage(blob);\n    const color = assets.getDominantColor(image);\n    await this.updateFields({\n      hasAvatarImage: true,\n      backgroundColor: color,\n    });\n    this.setState({_cacheAvatar: Date.now()});\n  }\n  \n  async uploadCover(blob) {\n    const {data: policy} = await assets.getTeamCoverImagePolicy(this.props.api, this.state.id);\n    await this.props.uploadAssetSizes(blob, policy, assets.COVER_SIZES);\n\n    const image = await assets.blobToImage(blob);\n    const color = assets.getDominantColor(image);\n    await this.updateFields({\n      hasCoverImage: true,\n      coverColor: color,\n    });\n    this.setState({_cacheCover: Date.now()});\n  }\n  \n  async addUser(id) {\n    await this.props.api.post(`teams/${this.state.id}/users/${id}`);\n    this.setState(({users}) => ({\n      users: [...users, UserModel({id}).asProps()],\n    }));\n  }\n  \n  async removeUser(id) {\n    await this.props.api.delete(`teams/${this.state.id}/users/${id}`);\n    this.setState(({users}) => ({\n      users: users.filter(u => u.id !== id),\n    }));\n    if (id === this.props.currentUserModel.id()) {\n      const model = this.props.currentUserModel;\n      model.teams(model.teams().filter(({id}) => id() !== this.props.team.id));\n    }\n  }\n  \n  async addProject(id) {\n    await this.props.api.post(`teams/${this.state.id}/projects/${id}`);\n    this.setState(({projects}) => ({\n      projects: [...projects, ProjectModel({id}).asProps()],\n    }));\n  }\n  \n  async removeProject(id) {\n    await this.props.api.delete(`teams/${this.state.id}/projects/${id}`);\n    this.setState(({projects}) => ({\n      projects: projects.filter(p => p.id !== id),\n    }));\n  }\n  \n  async addPin(id) {\n    await this.props.api.post(`teams/${this.state.id}/pinned-projects/${id}`);\n    this.setState(({teamPins}) => ({\n      teamPins: [...teamPins, {projectId: id}],\n    }));\n  }\n  \n  async removePin(id) {\n    await this.props.api.delete(`teams/${this.state.id}/pinned-projects/${id}`);\n    this.setState(({teamPins}) => ({\n      teamPins: teamPins.filter(p => p.projectId !== id),\n    }));\n  }\n  \n  render() {\n    const {handleError} = this.props;\n    const funcs = {\n      updateDescription: description => this.updateFields({description}).catch(handleError),\n      addUser: id => this.addUser(id).catch(handleError),\n      removeUser: id => this.removeUser(id).catch(handleError),\n      uploadAvatar: () => assets.requestFile(blob => this.uploadAvatar(blob).catch(handleError)),\n      uploadCover: () => assets.requestFile(blob => this.uploadCover(blob).catch(handleError)),\n      clearCover: () => this.updateFields({hasCoverImage: false}).catch(handleError),\n      addProject: id => this.addProject(id).catch(handleError),\n      removeProject: id => this.removeProject(id).catch(handleError),\n      addPin: id => this.addPin(id).catch(handleError),\n      removePin: id => this.removePin(id).catch(handleError),\n    };\n    return this.props.children(this.state, funcs, this.currentUserIsOnTeam());\n  }\n}\nTeamEditor.propTypes = {\n  api: PropTypes.any.isRequired,\n  children: PropTypes.func.isRequired,\n  currentUserModel: PropTypes.object.isRequired,\n  handleError: PropTypes.func.isRequired,\n  initialTeam: PropTypes.object.isRequired,\n  uploadAssetSizes: PropTypes.func.isRequired,\n};\n\nconst TeamEditorContainer = ({api, children, currentUserModel, initialTeam}) => (\n  <ErrorHandlers>\n    {errorFuncs => (\n      <Uploader>\n        {uploadFuncs => (\n          <TeamEditor {...{api, currentUserModel, initialTeam}} {...uploadFuncs} {...errorFuncs}>\n            {children}\n          </TeamEditor>\n        )}\n      </Uploader>\n    )}\n  </ErrorHandlers>\n);\nTeamEditorContainer.propTypes = {\n  api: PropTypes.any.isRequired,\n  children: PropTypes.func.isRequired,\n  currentUserModel: PropTypes.object.isRequired,\n  initialTeam: PropTypes.object.isRequired,\n};\n\nexport default TeamEditorContainer;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TeamModel, {getAvatarStyle, getProfileStyle} from '../../models/team';\nimport UserModel from '../../models/user';\nimport Reactlet from '../reactlet';\nimport LayoutPresenter from '../layout';\nimport TeamEditor from '../team-editor.jsx';\n\nimport {AuthDescription} from '../includes/description-field.jsx';\nimport {DataLoader} from '../includes/loader.jsx';\nimport {ProfileContainer, ImageButtons} from '../includes/profile.jsx';\nimport Thanks from '../includes/thanks.jsx';\nimport NotFound from '../includes/not-found.jsx';\nimport {Notifications} from '../notifications.jsx';\n\nimport AddTeamProject from '../includes/add-team-project.jsx';\nimport {AddTeamUser, TeamUsers} from '../includes/team-users.jsx';\nimport EntityPageProjects from '../entity-page-projects.jsx';\nimport TeamAnalytics from '../includes/team-analytics.jsx';\nimport {TeamMarketing, VerifiedBadge} from '../includes/team-elements.jsx';\n\nconst TeamPage = ({\n  team: {\n    id, name, description, users,\n    projects, teamPins,\n    isVerified, verifiedImage, verifiedTooltip,\n    backgroundColor, hasAvatarImage,\n    coverColor, hasCoverImage,\n    _cacheAvatar, _cacheCover,\n  },\n  currentUserIsOnTeam, myProjects,\n  updateDescription,\n  uploadAvatar, uploadCover, clearCover,\n  addUser, removeUser,\n  addPin, removePin,\n  addProject, removeProject,\n  api, searchUsers,\n}) => (\n  <main className=\"profile-page team-page\">\n    <section>\n      <ProfileContainer\n        avatarStyle={getAvatarStyle({id, hasAvatarImage, backgroundColor, cache: _cacheAvatar})}\n        coverStyle={getProfileStyle({id, hasCoverImage, coverColor, cache: _cacheCover})}\n        avatarButtons={currentUserIsOnTeam ? <ImageButtons name=\"Avatar\" uploadImage={uploadAvatar}/> : null}\n        coverButtons={currentUserIsOnTeam ? <ImageButtons name=\"Cover\" uploadImage={uploadCover} clearImage={hasCoverImage ? clearCover : null}/> : null}\n      >\n        <h1 className=\"username\">\n          {name}\n          {isVerified && <VerifiedBadge image={verifiedImage} tooltip={verifiedTooltip}/>}\n        </h1>\n        <div className=\"users-information\">\n          <TeamUsers {...{users, currentUserIsOnTeam, removeUser}}/>\n          {currentUserIsOnTeam && <AddTeamUser search={searchUsers} add={addUser} members={users.map(({id}) => id)}/>}\n        </div>\n        <Thanks count={users.reduce((total, {thanksCount}) => total + thanksCount, 0)}/>\n        <AuthDescription authorized={currentUserIsOnTeam} description={description} update={updateDescription} placeholder=\"Tell us about your team\"/>\n      </ProfileContainer>\n    </section>\n    <AddTeamProject {...{currentUserIsOnTeam, addProject, myProjects}} teamProjects={projects}/>\n    <EntityPageProjects\n      api={api} projects={projects} pins={teamPins} isAuthorized={currentUserIsOnTeam}\n      addPin={addPin} removePin={removePin} projectOptions={{removeProjectFromTeam: removeProject}}\n    />\n    {(currentUserIsOnTeam ?\n      <TeamAnalytics api={() => api} id={id} currentUserOnTeam={currentUserIsOnTeam} projects={projects}/>\n      : <TeamMarketing/>)}\n  </main>\n);\nTeamPage.propTypes = {\n  team: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n  }).isRequired,\n  currentUserIsOnTeam: PropTypes.bool.isRequired,\n  myProjects: PropTypes.array.isRequired,\n  api: PropTypes.any.isRequired,\n};\n\nconst TeamPageLoader = ({api, get, name, currentUserModel, ...props}) => (\n  <Notifications>\n    <DataLoader get={get} renderError={() => <NotFound name={name}/>}>\n      {team => team ? (\n        <TeamEditor api={api} currentUserModel={currentUserModel} initialTeam={team}>\n          {(team, funcs, currentUserIsOnTeam) => (\n            <TeamPage api={api} team={team} {...funcs} currentUserIsOnTeam={currentUserIsOnTeam} {...props}/>\n          )}\n        </TeamEditor>\n      ) : <NotFound name={name}/>}\n    </DataLoader>\n  </Notifications>\n);\nTeamPageLoader.propTypes = {\n  get: PropTypes.func.isRequired,\n  name: PropTypes.node.isRequired,\n};\n\nexport default function(application, id, name) {\n  const props = {\n    name,\n    api: application.api(),\n    currentUserModel: application.currentUser(),\n    myProjects: application.currentUser().projects().map(({asProps}) => asProps()),\n    get: () => application.api().get(`teams/${id}`).then(({data}) => (data ? TeamModel(data).update(data).asProps() : null)),\n    searchUsers: (query) => UserModel.getSearchResultsJSON(application, query).then(users => users.map(user => UserModel(user).asProps())),\n  };\n  const content = Reactlet(TeamPageLoader, props, 'teampage');\n  return LayoutPresenter(application, content);\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {sampleSize, difference} from 'lodash';\n\nimport {DataLoader} from './loader.jsx';\nimport {CoverContainer} from './profile.jsx';\nimport {ProjectsUL} from '../projects-list.jsx';\n\nconst PROJECT_COUNT = 3;\n\nconst RelatedProjectsHeader = ({name, url}) => (\n  <h2><a href={url}>More by {name} </a></h2>\n);\nRelatedProjectsHeader.propTypes = {\n  name: PropTypes.node.isRequired,\n  url: PropTypes.string.isRequired,\n};\n\nconst RelatedProjectsBody = ({projects, coverStyle}) => (\n  projects.length ? (\n    <CoverContainer style={coverStyle} className=\"projects\">\n      <ProjectsUL projects={projects}/>\n    </CoverContainer>\n  ) : null\n);\nRelatedProjectsBody.propTypes = {\n  projects: PropTypes.array.isRequired,\n};\n\nclass RelatedProjects extends React.Component {\n  constructor(props) {\n    super(props);\n    const teams = sampleSize(props.teams, 1);\n    const users = sampleSize(props.users, 2 - teams.length);\n    this.state = {teams, users};\n  }\n  \n  getProjects(id, getPins, getProjects) {\n    return getPins(id).then(pins => {\n      const pinIds = pins.map(pin => pin.projectId);\n      const ids = sampleSize(difference(pinIds, [this.props.ignoreProjectId]), PROJECT_COUNT);\n      \n      if (ids.length < PROJECT_COUNT) {\n        return getProjects(id).then(({projects}) => {\n          const allIds = projects.map(({id}) => id);\n          const remainingIds = difference(allIds, [this.props.ignoreProjectId, ...ids]);\n          return [...ids, ...sampleSize(remainingIds, PROJECT_COUNT - ids.length)];\n        });\n      }\n      \n      return ids;\n    }).then(projectIds => (\n      projectIds.length ? this.props.getProjects(projectIds) : []\n    ));\n  }\n  \n  render() {\n    const {getTeam, getTeamPins, getUser, getUserPins} = this.props;\n    const {teams, users} = this.state;\n    if (!teams.length && !users.length) {\n      return null;\n    }\n    return (\n      <ul className=\"related-projects\">\n        {teams.map(({id, name, url, teamProfileStyle}) => (\n          <li key={id}>\n            <RelatedProjectsHeader name={name} url={url}/>\n            <DataLoader get={() => this.getProjects(id, getTeamPins, getTeam)}>\n              {projects => <RelatedProjectsBody projects={projects} coverStyle={teamProfileStyle}/>}\n            </DataLoader>\n          </li>\n        ))}\n        {users.map(({id, name, login, tooltipName, userLink, profileStyle}) => (\n          <li key={id}>\n            <RelatedProjectsHeader name={name || login || tooltipName} url={userLink}/>\n            <DataLoader get={() => this.getProjects(id, getUserPins, getUser)}>\n              {projects => <RelatedProjectsBody projects={projects} coverStyle={profileStyle}/>}\n            </DataLoader>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\nRelatedProjects.propTypes = {\n  ignoreProjectId: PropTypes.string.isRequired,\n  getTeam: PropTypes.func.isRequired,\n  getTeamPins: PropTypes.func.isRequired,\n  getUser: PropTypes.func.isRequired,\n  getUserPins: PropTypes.func.isRequired,\n  teams: PropTypes.array.isRequired,\n  users: PropTypes.array.isRequired,\n};\n\nexport default RelatedProjects;","/* global EDITOR_URL */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst showIcon = \"https://cdn.gomix.com/6ce807b5-7214-49d7-aadd-f11803bc35fd%2Fshow-app.svg\";\n\nconst showUrl = (name) => `https://${name}.glitch.me`;\nconst editUrl = (name) => `${EDITOR_URL}#!/${name}`;\nconst remixUrl = (name) => `${EDITOR_URL}#!/remix/${name}`;\n\nconst ButtonLink = ({href, children, className, onClick}) => (\n  <a\n    href={href} onClick={onClick}\n    className={`button button-link ${className}`}\n  >\n    {children}\n  </a>\n);\nButtonLink.propTypes = {\n  href: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nexport const ShowButton = ({name, className, ...props}) => (\n  <ButtonLink href={showUrl(name)} className={`has-emoji ${className}`} {...props}>\n    <img src={showIcon} alt=\"\"/>\n    {' '}Show\n  </ButtonLink>\n);\nShowButton.propTypes = {\n  name: PropTypes.string.isRequired,\n  className: PropTypes.string,\n};\n\nexport const EditButton = ({name, isMember, ...props}) => (\n  <ButtonLink href={editUrl(name)} {...props}>\n    {isMember ? 'Edit Project' : 'View Source'}\n  </ButtonLink>\n);\nEditButton.propTypes = {\n  name: PropTypes.string.isRequired,\n  isMember: PropTypes.bool,\n  className: PropTypes.string,\n};\n\nexport const RemixButton = ({name, isMember, className, ...props}) => (\n  <ButtonLink href={remixUrl(name)} className={`has-emoji ${className}`} {...props}>\n    {isMember ? 'Remix This' : 'Remix your own'}{' '}\n    <span className=\"emoji microphone\" role=\"presentation\"></span>\n  </ButtonLink>\n);\nRemixButton.propTypes = {\n  name: PropTypes.string.isRequired,\n  isMember: PropTypes.bool,\n  className: PropTypes.string,\n};\n\nexport const ReportButton = ({name, id, ...props}) => {\n  const support = \"customer-service@fogcreek.com\";\n  const subject = `[Glitch] I want to report ${name}`;\n  const body = `\\\nWhat do you think of the ${name} project? \nHow is it malicious?\n\nLet us know:\n\n\n\n\n\n--------------------\n\nThanks \n\n Glitch Team\n\n(project id: ${id})\\\n`;\n  const mailto = encodeURI(`mailto:${support}?subject=${subject}&body=${body}`);\n  return <ButtonLink href={mailto} {...props}>Report Abuse</ButtonLink>;\n};\nReportButton.propTypes = {\n  name: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  className: PropTypes.string,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Expander extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n      maxHeight: props.height,\n    };\n    this.ref = React.createRef();\n  }\n  \n  componentDidMount() {\n    // If the area is only slightly too big don't bother cutting it off\n    const maxHeight = this.props.height + 60;\n    if (this.ref.current.scrollHeight <= maxHeight) {\n      this.setState({\n        expanded: true,\n        maxHeight: undefined,\n      });\n    }\n  }\n  \n  expand() {\n    this.setState({\n      expanded: true,\n      maxHeight: this.ref.current.scrollHeight,\n    });\n  }\n  \n  onExpandEnd(evt) {\n    if (evt.propertyName === 'max-height') {\n      this.setState({maxHeight: undefined});\n    }\n  }\n  \n  render() {\n    const {expanded, maxHeight} = this.state;\n    return (\n      <div\n        className=\"expander\" style={{maxHeight}}\n        onTransitionEnd={(expanded && !!maxHeight) ? this.onExpandEnd.bind(this) : null}\n        ref={this.ref}\n      >\n        {this.props.children}\n        {!!maxHeight && (\n          <div className=\"expander-mask\">\n            {!expanded && (\n              <button\n                onClick={this.expand.bind(this)}\n                className=\"expander-button button button-small button-tertiary\"\n              >\n                Show More\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nExpander.propTypes = {\n  children: PropTypes.node.isRequired,\n  height: PropTypes.number.isRequired,\n};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ErrorHandlers from './error-handlers.jsx';\n\nclass ProjectEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ...props.initialProject\n    };\n  }\n  \n  userIsMember() {\n    const currentUserId = this.props.currentUserModel.id();\n    return this.state.users.some(({id}) => currentUserId === id);\n  }\n  \n  async updateFields(changes) {\n    await this.props.api.patch(`projects/${this.state.id}`, changes);\n    this.setState(changes);\n  }\n  \n  render() {\n    const {handleError, handleErrorForInput} = this.props;\n    const funcs = {\n      updateDomain: domain => this.updateFields({domain}).catch(handleErrorForInput),\n      updateDescription: description => this.updateFields({description}).catch(handleError),\n      updatePrivate: isPrivate => this.updateFields({private: isPrivate}).catch(handleError),\n    };\n    return this.props.children(this.state, funcs, this.userIsMember());\n  }\n}\nProjectEditor.propTypes = {\n  api: PropTypes.any.isRequired,\n  children: PropTypes.func.isRequired,\n  currentUserModel: PropTypes.object.isRequired,\n  handleError: PropTypes.func.isRequired,\n  handleErrorForInput: PropTypes.func.isRequired,\n  initialProject: PropTypes.object.isRequired,\n};\n\nconst ProjectEditorContainer = ({api, children, currentUserModel, initialProject}) => (\n  <ErrorHandlers>\n    {wrapErrors => (\n      <ProjectEditor api={api} currentUserModel={currentUserModel} initialProject={initialProject} {...wrapErrors}>\n        {children}\n      </ProjectEditor>\n    )}\n  </ErrorHandlers>\n);\nProjectEditorContainer.propTypes = {\n  api: PropTypes.any.isRequired,\n  children: PropTypes.func.isRequired,\n  currentUserModel: PropTypes.object.isRequired,\n  initialProject: PropTypes.object.isRequired,\n};\n\nexport default ProjectEditorContainer;","/* global analytics */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Project from '../../models/project';\n\nimport {DataLoader} from '../includes/loader.jsx';\nimport NotFound from '../includes/not-found.jsx';\nimport {Markdown} from '../includes/markdown.jsx';\nimport ProjectEditor from '../project-editor.jsx';\nimport Expander from '../includes/expander.jsx';\nimport EditableField from '../includes/editable-field.jsx';\nimport {AuthDescription} from '../includes/description-field.jsx';\nimport {InfoContainer, ProjectInfoContainer} from '../includes/profile.jsx';\nimport {ShowButton, EditButton, RemixButton, ReportButton} from '../includes/project-buttons.jsx';\nimport UsersList from '../users-list.jsx';\nimport RelatedProjects from '../includes/related-projects.jsx';\nimport {Notifications} from '../notifications.jsx';\n\nimport LayoutPresenter from '../layout';\nimport Reactlet from '../reactlet';\n\nfunction trackRemix(id, domain) {\n  analytics.track(\"Click Remix\", {\n    origin: \"project page\",\n    baseProjectId: id,\n    baseDomain: domain,\n  });\n}\n\nfunction syncPageToDomain(domain) {\n  history.replaceState(null, null, `/~${domain}`);\n  document.title = `~${domain}`;\n}\n\nconst PrivateTooltip = \"Only members can view code\";\nconst PublicTooltip = \"Visible to everyone\";\n\nconst PrivateBadge = () => (\n  <span className=\"private-project-badge\" aria-label={PrivateTooltip} data-tooltip={PrivateTooltip}></span>\n);\n\nconst PrivateToggle = ({isPrivate, setPrivate}) => {\n  const tooltip = isPrivate ? PrivateTooltip : PublicTooltip;\n  const classBase = \"button-tertiary button-on-secondary-background project-badge\";\n  const className = isPrivate ? 'private-project-badge' : 'public-project-badge';\n  return (\n    <span data-tooltip={tooltip}>\n      <button aria-label={tooltip}\n        onClick={() => setPrivate(!isPrivate)}\n        className={`${classBase} ${className}`}\n      />\n    </span>\n  );\n};\nPrivateToggle.propTypes = {\n  isPrivate: PropTypes.bool.isRequired,\n  setPrivate: PropTypes.func.isRequired,\n};\n\nconst Embed = ({domain}) => (\n  <div className=\"glitch-embed-wrap\">\n    <iframe title=\"embed\" src={`https://glitch.com/embed/#!/embed/${domain}?path=README.md&previewSize=100`}></iframe>\n  </div>\n);\nEmbed.propTypes = {\n  domain: PropTypes.string.isRequired,\n};\n\nconst ReadmeError = (error) => (\n  (error && error.response && error.response.status === 404)\n    ? <React.Fragment>This project would be even better with a <code>README.md</code></React.Fragment>\n    : <React.Fragment>We couldn't load the readme. Try refreshing?</React.Fragment>\n);\nconst ReadmeLoader = ({getReadme}) => (\n  <DataLoader get={getReadme} renderError={ReadmeError}>\n    {readme => <Expander height={200}><Markdown>{readme}</Markdown></Expander>}\n  </DataLoader>\n);\nReadmeLoader.propTypes = {\n  getReadme: PropTypes.func.isRequired,\n};\n\nconst ProjectPage = ({\n  project: {\n    avatar, description, domain, id, users, teams,\n    ...project // 'private' can't be used as a variable name\n  },\n  isAuthorized,\n  getReadme,\n  getTeam, getTeamPins,\n  getUser, getUserPins,\n  getProjects,\n  updateDomain,\n  updateDescription,\n  updatePrivate,\n}) => (\n  <main className=\"project-page\">\n    <section id=\"info\">\n      <InfoContainer>\n        <ProjectInfoContainer style={{backgroundImage: `url('${avatar}')`}}>\n          <h1>\n            {(isAuthorized\n              ? <EditableField value={domain} update={domain => updateDomain(domain).then(() => syncPageToDomain(domain))} placeholder=\"Name your project\"/>\n              : <React.Fragment>{domain} {project.private && <PrivateBadge/>}</React.Fragment>\n            )}\n          </h1>\n          {(isAuthorized &&\n            <div>\n              <PrivateToggle isPrivate={project.private} isMember={isAuthorized} setPrivate={updatePrivate}/>\n            </div>\n          )}\n          <UsersList users={users} />\n          <AuthDescription\n            authorized={isAuthorized} description={description}\n            update={updateDescription} placeholder=\"Tell us about your app\"\n          />\n          <p className=\"buttons\">\n            <ShowButton name={domain}/>\n            <EditButton name={domain} isMember={isAuthorized}/>\n          </p>\n        </ProjectInfoContainer>\n      </InfoContainer>\n    </section>\n    <section id=\"embed\">\n      <Embed domain={domain}/>\n      <div className=\"buttons buttons-right\">\n        <RemixButton className=\"button-small\"\n          name={domain} isMember={isAuthorized}\n          onClick={() => trackRemix(id, domain)}\n        />\n      </div>\n    </section>\n    <section id=\"readme\">\n      <ReadmeLoader getReadme={getReadme}/>\n    </section>\n    <section id=\"related\">\n      <RelatedProjects ignoreProjectId={id} {...{teams, users, getTeam, getTeamPins, getUser, getUserPins, getProjects}}/>\n    </section>\n    <section id=\"feedback\" className=\"buttons buttons-right\">\n      <ReportButton name={domain} id={id} className=\"button-small button-tertiary\"/>\n    </section>\n  </main>\n);\nProjectPage.propTypes = {\n  isAuthorized: PropTypes.bool.isRequired,\n  project: PropTypes.object.isRequired,\n};\n\nconst ProjectPageLoader = ({name, get, api, currentUserModel, ...props}) => (\n  <Notifications>\n    <DataLoader get={get} renderError={() => <NotFound name={name}/>}>\n      {project => project ? (\n        <ProjectEditor api={api} initialProject={project} currentUserModel={currentUserModel}>\n          {(project, funcs, userIsMember) => (\n            <ProjectPage project={project} {...funcs} isAuthorized={userIsMember} {...props}/>\n          )}\n        </ProjectEditor>\n      ) : <NotFound name={name}/>}\n    </DataLoader>\n  </Notifications>\n);\nProjectPageLoader.propTypes = {\n  name: PropTypes.string.isRequired,\n};\n\n// Let's keep layout in jade until all pages are react\nexport default function(application, name) {\n  const props = {\n    api: application.api(),\n    currentUserModel: application.currentUser(),\n    get: () => application.api().get(`projects/${name}`).then(({data}) => (data ? Project(data).update(data).asProps() : null)),\n    getReadme: () => application.api().get(`projects/${name}/readme`).then(({data}) => data),\n    getTeam: (id) => application.api().get(`teams/${id}`).then(({data}) => data),\n    getTeamPins: (id) => application.api().get(`teams/${id}/pinned-projects`).then(({data}) => data),\n    getUser: (id) => application.api().get(`users/${id}`).then(({data}) => data),\n    getUserPins: (id) => application.api().get(`users/${id}/pinned-projects`).then(({data}) => data),\n    getProjects: (ids) => application.api().get(`projects/byIds?ids=${ids.join(',')}`).then(({data}) => data.map(d => Project(d).update(d).asProps())),\n    name,\n  };\n  const content = Reactlet(ProjectPageLoader, props, 'projectpage');\n  return LayoutPresenter(application, content);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// This is a shim component that helps us allow observables to be\n// monitored from inside react, rather than at the jade level.\n\nexport default class Observed extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { observedProps: this.props.propsObservable() };\n  }\n  \n  componentDidMount() {\n    this.props.propsObservable.observe((props) => {\n      this.setState({observedProps: props});\n    });\n  }\n  componentWillUnmount() {\n    this.props.propsObservable.releaseDependencies();\n  }\n  \n  render() {\n    return <this.props.component {...this.state.observedProps}/>;\n  }\n}\n\nObserved.propTypes = {\n  propsObservable: PropTypes.func.isRequired,\n  component: PropTypes.func.isRequired,\n};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport LayoutPresenter from '../layout';\nimport Reactlet from '../reactlet';\nimport ProjectModel from '../../models/project';\n\nimport Loader, {DataLoader} from '../includes/loader.jsx';\nimport {ProjectsUL} from '../projects-list.jsx';\nimport ProjectsLoader from '../projects-loader.jsx';\nimport Categories from '../categories.jsx';\n\nconst CategoryPageWrap = ({category, categories, children}) => (\n  <React.Fragment>\n    <main className=\"category-page\">\n      <article className=\"projects\" style={{backgroundColor: category.backgroundColor}}>\n        <header className=\"category\">\n          <h2 className=\"category-name\">{category.name}</h2>\n          <span className=\"category-image-container\">\n            <img src={category.avatarUrl} alt=\"\"/>\n          </span>\n          <p className=\"description\">{category.description}</p>\n        </header>\n        {children}\n      </article>\n    </main>\n    <Categories categories={categories}/>\n  </React.Fragment>\n);\nCategoryPageWrap.propTypes = {\n  category: PropTypes.shape({\n    avatarUrl: PropTypes.string.isRequired,\n    backgroundColor: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n  }).isRequired,\n  categories: PropTypes.array.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nconst CategoryPageLoader = ({...props}) => (\n  <CategoryPageWrap {...props}>\n    <Loader/>\n  </CategoryPageWrap>\n);\n\nconst CategoryPageError = ({...props}) => (\n  <CategoryPageWrap {...props}>\n    Something went wrong. Try refreshing?\n  </CategoryPageWrap>\n);\n\nasync function loadCategory(api, id) {\n  const {data} = await api.get(`categories/${id}`);\n  data.projects = data.projects.map(project => ProjectModel(project).update(project).asProps());\n  return data;\n}\n\nconst CategoryPage = ({api, category, ...props}) => (\n  <DataLoader\n    get={() => loadCategory(api, category.id)}\n    renderLoader={() => <CategoryPageLoader category={category} {...props}/>}\n    renderError={() => <CategoryPageError category={category} {...props}/>}\n  >\n    {category => (\n      <CategoryPageWrap category={category} {...props}>\n        <ProjectsLoader api={api} projects={category.projects}>\n          {projects => <ProjectsUL projects={projects} categoryColor={category.color}/>}\n        </ProjectsLoader>\n      </CategoryPageWrap>\n    )}\n  </DataLoader>\n);\nCategoryPage.propTypes = {\n  api: PropTypes.any.isRequired,\n  category: PropTypes.object.isRequired,\n};\n\nexport default function(application, category) {\n  const props = {\n    api: application.api(),\n    category,\n    categories: application.categories,\n  };\n  const content = Reactlet(CategoryPage, props);\n  return LayoutPresenter(application, content);\n}","import React from 'react';\n\nconst FOUNDED = 2000;\nconst current = new Date().getFullYear();\nconst age = current - FOUNDED;\nconst logo = \"https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Ffogcreek.svg\";\n  \nconst ByFogCreek = () => (\n  <section className=\"by-fogcreek\" role=\"complementary\">\n    <h2>Made By Fog Creek</h2>\n    <img src={logo} alt=\"Fog Creek logo\"/>\n    <p>\n      You might know us for making Trello, FogBugz, and co-creating Stack Overflow. \n      We're <a href=\"https://www.fogcreek.com\">a friendly, self-funded company</a> that's\n      been helping people make stuff for over {age} years.\n    </p>\n  </section>\n);\n\nexport default ByFogCreek;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst play = \"https://cdn.hyperdev.com/6ce807b5-7214-49d7-aadd-f11803bc35fd%2Fplay.svg\";\nconst whatsGlitchWide = \"https://cdn.glitch.com/f7224274-1330-4022-a8f2-8ae09dbd68a8%2Fwhats-glitch-wide.svg?1499885209761\";\nconst whatsGlitchNarrow = \"https://cdn.glitch.com/f7224274-1330-4022-a8f2-8ae09dbd68a8%2Fwhats-glitch-narrow.svg?1499884900667\";\nconst free = \"https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Ffree.svg?1499350845981\";\n\nconst whatsGlitchAlt = \"Create a node app, or remix one. It updates as you type. Code with Friends!\";\n  \nconst WhatIsGlitch = ({isSignedIn, showVideoOverlay}) => {\n  if (isSignedIn()) {\n    return null;\n  }\n  \n  return (\n    <section className=\"what-is-glitch\">\n      <h2>How It Works</h2>\n      <span>\n        <a href=\"https://glitch.com/about\">\n          <figure title=\"How Glitch works\">\n            <img className=\"wide\" src={whatsGlitchWide} alt={whatsGlitchAlt}/>\n            <img className=\"narrow\" src={whatsGlitchNarrow} alt={whatsGlitchAlt}/>\n          </figure>\n        </a>\n        <div>\n          <span>And it's <img className=\"free\" src={free} alt=\"free\"/></span>\n          <span>. </span>\n          <button className=\"video\" onClick={showVideoOverlay}>\n            <img className=\"play-button\" src={play} alt=\"play\"/>\n            <span>How it works in 1 minute</span>\n          </button>\n        </div>\n      </span>\n    </section>\n  );\n};\n\nWhatIsGlitch.propTypes = {\n  isSignedIn: PropTypes.func.isRequired,\n  showVideoOverlay: PropTypes.func.isRequired,\n};\n\nexport default WhatIsGlitch;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {sampleSize} from 'lodash';\n\nimport ProjectModel from '../models/project';\n\nimport {ProjectsUL} from './projects-list.jsx';\n\nconst Category = ({category}) => {\n  const ulProps = {\n    projects: category.projects||[],\n    categoryColor: category.color,\n  };\n  return (\n    <article className=\"projects\" style={{backgroundColor: category.backgroundColor}}>\n      <header className=\"category\">\n        <a className=\"category-name\" href={category.url}>\n          <h2>{category.name} <span className=\"arrow\"></span></h2>\n        </a>\n        <span className=\"category-image-container\">\n          <a className=\"category-image\" href={category.url}>\n            <img  height=\"80px\" width=\"120px\" src={category.avatarUrl} alt={category.name} />\n          </a>\n        </span>\n        <p className=\"category-description\">{category.description}</p>\n      </header>\n      <ProjectsUL {...ulProps}/>\n    </article>\n  );\n};\n\nCategory.propTypes = {\n  category: PropTypes.shape({\n    avatarUrl: PropTypes.string.isRequired,\n    backgroundColor: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default class CategoryContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categories: [],\n    };\n  }\n  \n  async loadCategories() {\n    // The API gives us a json blob with all of the categories, but only\n    // the 'projects' field on 3 of them.  If the field is present,\n    // then it's an array of projects.\n    const {data} = await this.props.api.get('categories/random?numCategories=3&projectsPerCategory=3');\n    const categoriesWithProjects = data.filter(category => !!category.projects);\n    const sampledCategories = sampleSize(categoriesWithProjects, 3);\n    const categories = sampledCategories.map(({projects, ...category}) => {\n      const sampledProjects = sampleSize(projects, 3);\n      return {\n        projects: sampledProjects.map(project => ProjectModel(project).update(project).asProps()),\n        ...category,\n      };\n    });\n    this.setState({categories});\n  }\n  \n  componentDidMount() {\n    this.loadCategories();\n  }\n  \n  render() {\n    return this.state.categories.map((category) => (\n      <Category key={category.id} category={category}/>\n    ));\n  }\n}\n\nCategoryContainer.propTypes = {\n  api: PropTypes.any.isRequired,\n};\n","export default `\n<!-- Copy and Paste Me -->\n<div class=\"glitch-embed-wrap\" style=\"height: 420px; width: 100%;\">\n  <iframe src=\"https://glitch.com/embed/#!/embed/threejs-hello?path=README.md&previewSize=100&previewFirst=true&sidebarCollapsed=true\" alt=\"threejs-hello on glitch\" style=\"height: 100%; width: 100%; border: 0;\"></iframe>\n</div>\n`;\n","module.exports = function(data) {\n  \"use strict\";\n  return (function() {\n    var iconHelp, __root;\n    __root = require('jadelet')(this);\n    iconHelp = 'https://cdn.glitch.com/f7224274-1330-4022-a8f2-8ae09dbd68a8%2Fask-for-help.svg?1494954687906';\n    __root.buffer(__root.element(\"li\", this, {}, function(__root) {\n      __root.buffer(__root.element(\"img\", this, {\n        \"class\": [\"help-icon\"],\n        \"src\": iconHelp\n      }, function(__root) {}));\n      __root.buffer(__root.element(\"a\", this, {\n        \"href\": this.projectUrl\n      }, function(__root) {\n        __root.buffer(__root.element(\"div\", this, {\n          \"class\": [\"project\"],\n          style: [this.outerColor],\n          \"data-track\": \"question\",\n          \"data-track-label\": this.domain\n        }, function(__root) {\n          __root.buffer(__root.element(\"div\", this, {\n            \"class\": [\"project-container\"],\n            style: [this.innerColor]\n          }, function(__root) {\n            __root.buffer(__root.element(\"img\", this, {\n              \"class\": [\"avatar\"],\n              style: [this.userColor],\n              \"src\": this.userAvatar\n            }, function(__root) {}));\n            __root.buffer(__root.element(\"button\", this, {}, function(__root) {\n              __root.buffer(\"Help \" + (this.userLogin()));\n            }));\n            __root.buffer(__root.element(\"div\", this, {\n              \"class\": [\"description\", \"question\"],\n              \"title\": this.fullQuestion\n            }, function(__root) {\n              __root.buffer(this.filteredQuestion);\n            }));\n            __root.buffer(__root.element(\"div\", this, {\n              \"class\": [\"description\", \"tags\"]\n            }, function(__root) {\n              var context;\n              context = this;\n              this.question.tags().forEach(function(tag) {\n                var filteredTag;\n                filteredTag = context.filteredTag(tag);\n                return __root.buffer(__root.element(\"div\", this, {\n                  \"class\": [\"tag\"],\n                  \"alt\": tag\n                }, function(__root) {\n                  __root.buffer(filteredTag);\n                }));\n              });\n            }));\n          }));\n        }));\n      }));\n    }));\n    return __root.root;\n  }).call(data);\n};\n","import QuestionItemTemplate from '../templates/includes/question-item';\n\nconst MAX_QUESTION_LENGTH = 140;\nconst MAX_TAG_LENGTH = 15;\n\nexport default function(application, question) {\n  \n  const self = { \n  \n    question,\n  \n    fullQuestion() {\n      return question.question();\n    },\n\n    filteredQuestion() {\n      question = question.question();\n      if (question.length <= MAX_QUESTION_LENGTH) {\n        return question;\n      } \n      const truncated = question.substring(0, (MAX_QUESTION_LENGTH - 5));\n      return truncated + '...';\n      \n    },\n\n    filteredTag(tag) {\n      return tag.substring(0, MAX_TAG_LENGTH);\n    },\n\n    projectUrl() {\n      return question.editUrl();\n    },\n\n    domain() {\n      return question.domain();\n    },\n    \n    outerColor() {\n      return {backgroundColor: question.colorOuter()};\n    },\n    \n    innerColor() {\n      return {backgroundColor: question.colorInner()};\n    },\n\n    userAvatar() {\n      return question.userAvatar();\n    },\n\n    userColor() {\n      return question.userColor();\n    },\n\n    userLogin() {\n      return question.userLogin();\n    },\n  };\n\n    // tags: ->\n    //   console.log \"\", question.tags()\n    //   question.tags()\n\n  return QuestionItemTemplate(self);\n}","module.exports = function(data) {\n  \"use strict\";\n  return (function() {\n    var Loader, __root;\n    __root = require('jadelet')(this);\n    Loader = require(\"./loader\");\n    __root.buffer(__root.element(\"section\", this, {\n      \"class\": [\"questions\"]\n    }, function(__root) {\n      __root.buffer(__root.element(\"h2\", this, {}, function(__root) {\n        __root.buffer(__root.element(\"a\", this, {\n          \"href\": \"/questions\"\n        }, function(__root) {\n          __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n            __root.buffer(\"Help Others, Get Thanks \");\n          }));\n        }));\n        __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n          __root.buffer(\" \");\n        }));\n        __root.buffer(__root.element(\"div\", this, {\n          \"class\": [\"loader-pie\"],\n          \"title\": \"Looking for more questions...\"\n        }, function(__root) {\n          __root.buffer(__root.element(\"div\", this, {\n            \"class\": [\"left-side\"]\n          }, function(__root) {\n            __root.buffer(__root.element(\"div\", this, {\n              \"class\": [\"slice\", this.animatedUnlessLookingForQuestions]\n            }, function(__root) {}));\n          }));\n          __root.buffer(__root.element(\"div\", this, {\n            \"class\": [\"right-side\"]\n          }, function(__root) {\n            __root.buffer(__root.element(\"div\", this, {\n              \"class\": [\"slice\", this.animatedUnlessLookingForQuestions]\n            }, function(__root) {}));\n          }));\n        }));\n      }));\n      __root.buffer(__root.element(\"article\", this, {\n        \"class\": [\"projects\"]\n      }, function(__root) {\n        __root.buffer(__root.element(\"span\", this, {\n          \"class\": [this.hiddenIfQuestions]\n        }, function(__root) {\n          __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n            __root.buffer(this.kaomoji);\n          }));\n          __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n            __root.buffer(\" \");\n          }));\n          __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n            __root.buffer(\"Looks like nobody is asking for help right now.\\n\");\n            __root.buffer(__root.element(\"a\", this, {\n              \"class\": [\"general-link\"],\n              \"href\": \"/help/how-can-i-get-help-with-code-in-my-project/\"\n            }, function(__root) {\n              __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n                __root.buffer(\"Learn about helping\\n\");\n              }));\n            }));\n          }));\n        }));\n        __root.buffer(__root.element(\"span\", this, {\n          \"class\": [this.hiddenUnlessQuestions]\n        }, function(__root) {\n          __root.buffer(__root.element(\"ul\", this, {\n            \"class\": [\"projects-container\"]\n          }, function(__root) {\n            this.questions().forEach(function(question) {\n              return __root.buffer(question);\n            });\n          }));\n        }));\n      }));\n    }));\n    return __root.root;\n  }).call(data);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PopoverContainer from './popover-container.jsx';\n\nconst PopoverButton = ({onClick, text, emoji}) => (\n  <button className=\"button-small has-emoji button-tertiary\" onClick={onClick}>\n    <span>{text} </span>\n    <span className={`emoji ${emoji}`}></span>\n  </button>\n);\n\nconst ProjectOptionsPop = ({\n  projectId, projectName,\n  addPin, removePin, deleteProject, \n  leaveProject, removeProjectFromTeam,\n  togglePopover,\n}) => {\n  \n  function animate(event, className, func) {\n    const projectContainer = event.target.closest('li');\n    projectContainer.addEventListener('animationend', func, {once: true});\n    projectContainer.classList.add(className);\n    togglePopover();\n  }\n  \n  function clickAddPin(event) {\n    animate(event, 'slide-up', () => addPin(projectId));\n  }\n  \n  function clickRemovePin(event) {\n    animate(event, 'slide-down', () => removePin(projectId));\n  }\n  \n  function clickLeave(event) {\n    const prompt = `Once you leave this project, you'll lose access to it unless someone else invites you back. \\n\\n Are sure you want to leave ${projectName}?`;\n    if (window.confirm(prompt)) {\n      leaveProject(projectId, event);\n    }\n  }\n  \n  function clickDelete(event) {\n    animate(event, 'slide-down', () => deleteProject(projectId));\n  }\n  \n  return (\n    <dialog className=\"pop-over project-options-pop\">\n      <section className=\"pop-over-actions\">\n        {!!addPin && <PopoverButton onClick={clickAddPin} text=\"Pin This\" emoji=\"pushpin\"/>}\n        {!!removePin && <PopoverButton onClick={clickRemovePin} text=\"Un-Pin This\" emoji=\"pushpin\"/>}\n      </section>\n      <section className=\"pop-over-actions danger-zone last-section\">\n        {!!removeProjectFromTeam && <PopoverButton onClick={() => removeProjectFromTeam(projectId)} text=\"Remove Project\" emoji=\"thumbs_down\"/>}\n        {!!deleteProject && <PopoverButton onClick={clickDelete} text=\"Delete This\" emoji=\"bomb\"/>}\n        {!!leaveProject && <PopoverButton onClick={clickLeave} text=\"Leave This\" emoji=\"wave\"/>}\n      </section>\n    </dialog>\n  );\n};\n\nProjectOptionsPop.propTypes = {\n  projectId: PropTypes.string.isRequired,\n  projectName: PropTypes.string.isRequired,\n  togglePopover: PropTypes.func.isRequired,\n  addPin: PropTypes.func,\n  removePin: PropTypes.func,\n  deleteProject: PropTypes.func,\n  leaveProject: PropTypes.func,\n  removeProjectFromTeam: PropTypes.func,\n};\n\nexport default function ProjectOptions({projectOptions={}, project}) {\n  if(Object.keys(projectOptions).length === 0) {\n    return null;\n  }\n  \n  const popupProps = {\n    projectId: project.id,\n    projectName: project.name,\n  };\n  \n  return (\n    <PopoverContainer>\n      {({togglePopover, visible}) => (\n        <div>\n          <button className=\"project-options button-borderless opens-pop-over\" onClick={togglePopover}> \n            <div className=\"down-arrow\"></div>\n          </button>\n          { visible && <ProjectOptionsPop {...popupProps} {...projectOptions} togglePopover={togglePopover}/> }\n        </div>\n      )}\n    </PopoverContainer>\n  );\n}","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {getAvatarUrl, getLink} from '../models/project.js';\n\nimport {TruncatedMarkdown} from './includes/markdown.jsx';\nimport ProjectOptionsContainer from \"./pop-overs/project-options-pop.jsx\";\nimport UsersList from \"./users-list.jsx\";\n\nexport const ProjectItem = ({project, categoryColor, projectOptions}) => {\n  return (\n    <li>\n      <UsersList glitchTeam={project.showAsGlitchTeam} users={project.users} extraClass=\"single-line\"/>\n      <ProjectOptionsContainer project={project} projectOptions={projectOptions}></ProjectOptionsContainer>\n\n      <a href={getLink(project.domain)}>\n        <div className={['project', project.private ? 'private-project' : ''].join(' ')} \n          style={{backgroundColor: categoryColor, borderBottomColor:categoryColor}}\n          data-track=\"project\" data-track-label={project.domain}>\n          <div className=\"project-container\">\n            <img className=\"avatar\" src={getAvatarUrl(project.id)} alt={`${project.domain} avatar`}/>\n            <div className={project.isRecentProject ? \"button button-cta\" : \"button\"}>\n              <span className=\"project-badge private-project-badge\"></span>\n              <div className=\"project-name\">{project.domain}</div>\n            </div>\n            <div className=\"description\"><TruncatedMarkdown length={96}>{project.description}</TruncatedMarkdown></div>\n            <div className=\"overflow-mask\" style={{backgroundColor: categoryColor}}></div>\n          </div>\n        </div>\n      </a>\n    </li>\n  );\n};\n\nProjectItem.propTypes = {\n  project: PropTypes.shape({\n    description: PropTypes.string.isRequired,\n    domain: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    isRecentProject: PropTypes.bool,\n    private: PropTypes.bool.isRequired,\n    showAsGlitchTeam: PropTypes.bool.isRequired,\n    users: PropTypes.array.isRequired,\n  }).isRequired,\n  categoryColor: PropTypes.string,\n  projectOptions: PropTypes.object,\n};\n\n\nexport default ProjectItem;","module.exports = function(data) {\n  \"use strict\";\n  return (function() {\n    var __root;\n    __root = require('jadelet')(this);\n    __root.buffer(__root.element(\"section\", this, {\n      \"class\": [\"profile\", \"recent-projects\", this.hiddenUnlessCurrentUser]\n    }, function(__root) {\n      __root.buffer(__root.element(\"h2\", this, {}, function(__root) {\n        __root.buffer(__root.element(\"a\", this, {\n          \"href\": this.userLink\n        }, function(__root) {\n          __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n            __root.buffer(\"Your Projects \\n\");\n          }));\n        }));\n      }));\n      __root.buffer(__root.element(\"div\", this, {\n        \"class\": [\"cover-container\"],\n        style: [this.style]\n      }, function(__root) {\n        __root.buffer(__root.element(\"div\", this, {\n          \"class\": [\"profile-avatar\"]\n        }, function(__root) {\n          __root.buffer(__root.element(\"div\", this, {\n            \"class\": [\"user-avatar-container\"]\n          }, function(__root) {\n            __root.buffer(__root.element(\"a\", this, {\n              \"href\": this.userLink\n            }, function(__root) {\n              __root.buffer(__root.element(\"div\", this, {\n                \"class\": [\"user-avatar\", this.userAvatarIsAnon],\n                style: [this.userAvatarStyle],\n                \"alt\": \"Your avatar\"\n              }, function(__root) {}));\n            }));\n          }));\n          if (this.currentUser.isAnon()) {\n            __root.buffer(__root.element(\"div\", this, {\n              \"class\": [\"anon-user-sign-up\"]\n            }, function(__root) {\n              __root.buffer(this.SignInPop);\n            }));\n          }\n        }));\n        __root.buffer(__root.element(\"article\", this, {\n          \"class\": [\"projects\"]\n        }, function(__root) {\n          __root.buffer(__root.element(\"span\", this, {\n            \"class\": [this.hiddenIfUserIsFetched]\n          }, function(__root) {\n            __root.buffer(this.loader);\n          }));\n          __root.buffer(this.projects);\n        }));\n      }));\n    }));\n    return __root.root;\n  }).call(data);\n};\n","import RecentProjectsTemplate from '../templates/includes/recent-projects';\nimport Loader from '../templates/includes/loader';\n\nimport {ProjectsUL} from \"./projects-list.jsx\";\nimport SignInPop from \"./pop-overs/sign-in-pop.jsx\";\nimport Reactlet from \"./reactlet\";\n\nexport default function(application) {\n\n  const self = { \n\n    application,\n    currentUser: application.currentUser(),\n\n    style() {\n      return {\n        backgroundImage: `url('${application.currentUser().coverUrl('large')}')`,\n        backgroundColor: application.currentUser().coverColor(),\n      };\n    },\n    \n    userAvatarStyle() {\n      return {\n        backgroundColor: application.currentUser().color(),\n        backgroundImage: `url('${application.currentUser().userAvatarUrl('large')}')`,\n      };\n    },\n    \n    userAvatarUrl() {\n      return application.currentUser().userAvatarUrl('large');\n    },\n    \n    loader() {\n      return Loader(self);\n    },\n    \n    projects() {\n      const projectsObservable = application.currentUser().projects;\n      const projects = projectsObservable.slice(0,3);      \n      \n      if(projects.find(project => !project.fetched())){\n        return self.loader();\n      }\n      \n      const props = {\n        closeAllPopOvers: application.closeAllPopOvers,\n        projects: projects.map(project => project.asProps()),\n      };\n\n      return Reactlet(ProjectsUL, props);\n    },\n        \n    SignInPop() {\n      return Reactlet(SignInPop);\n    },\n    \n    userAvatarIsAnon() {\n      if (application.currentUser().isAnon()) { return 'anon-user-avatar'; }\n    },\n\n    userLink() {\n      return application.currentUser().userLink();\n    },\n\n    hiddenIfUserIsFetched() {\n      if (application.currentUser().fetched()) { return 'hidden'; }\n    },\n\n    hiddenUnlessCurrentUser() {\n      const currentAndFetched = application.currentUser().id() && application.currentUser().fetched();\n      if (!currentAndFetched) { return 'hidden'; }\n    },\n  };\n\n  return RecentProjectsTemplate(self);\n}\n","module.exports = function(data) {\n  \"use strict\";\n  return (function() {\n    var __root;\n    __root = require('jadelet')(this);\n    __root.buffer(__root.element(\"li\", this, {}, function(__root) {\n      if (this.link()) {\n        __root.buffer(__root.element(\"a\", this, {\n          \"href\": this.link\n        }, function(__root) {\n          __root.buffer(__root.element(\"div\", this, {\n            \"class\": [\"featured-container\"],\n            \"data-track\": \"featured project\",\n            \"data-track-label\": this.title\n          }, function(__root) {\n            __root.buffer(__root.element(\"img\", this, {\n              \"class\": [\"featured\"],\n              \"src\": this.src,\n              \"title\": this.imgTitle,\n              \"alt\": \"\"\n            }, function(__root) {}));\n            __root.buffer(__root.element(\"p\", this, {\n              \"class\": [\"project-name\"]\n            }, function(__root) {\n              __root.buffer(this.title);\n            }));\n          }));\n        }));\n      } else {\n        __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n          __root.buffer(__root.element(\"div\", this, {\n            \"class\": [\"featured-container\"],\n            \"data-track\": \"featured project\",\n            \"data-track-label\": this.title\n          }, function(__root) {\n            __root.buffer(__root.element(\"img\", this, {\n              \"class\": [\"featured\"],\n              \"src\": this.src,\n              \"title\": this.imgTitle,\n              \"alt\": \"\"\n            }, function(__root) {}));\n            __root.buffer(__root.element(\"p\", this, {\n              \"class\": [\"project-name\"]\n            }, function(__root) {\n              __root.buffer(this.title);\n            }));\n          }));\n        }));\n      }\n    }));\n    return __root.root;\n  }).call(data);\n};\n","import FeaturedCollectionTemplate from '../templates/includes/featured-collection';\n\nexport default function(application, collection) {\n  const self = {\n    collection,\n\n    title() {\n      return collection.title ;\n    },\n    \n    src() {\n      return collection.img;\n    },\n        \n    link() {\n      return collection.link || null;\n    },\n    \n    imgTitle() {\n      return collection.imgTitle || \"\";\n    },\n  };\n      \n  return FeaturedCollectionTemplate(self);\n}\n","module.exports = function(data) {\n  \"use strict\";\n  return (function() {\n    var __root;\n    __root = require('jadelet')(this);\n    __root.buffer(__root.element(\"span\", this, {\n      id: [this.id]\n    }, function(__root) {}));\n    return __root.root;\n  }).call(data);\n};\n","\"use strict\";\n\n// \n\nexport default function() {\n  var self = {\n\n    // equal to most newest update.id\n    totalUpdates() { \n      return self.updates()[0].id;\n    },\n    \n    /*  Example template:\n    \n     {\n          id: 3,\n          title: \"Example Title\",\n          body: `\nYour markdown body, here.\n\nAs long as you like.\n`,\n        },\n        \n        \n    */\n\n    // prepend new updates\n    updates() {\n      return [\n        {\n          id: 5,\n          title: \"What's in a @name?\",\n          body: `\n*&nbsp;&nbsp;&nbsp;&nbsp;That which we call a @user  \n&nbsp;&nbsp;&nbsp;&nbsp;Or any other w0rd if spelled in l33t;  \n&nbsp;&nbsp;&nbsp;&nbsp;So @user would, were she not @user call'd,  \n&nbsp;&nbsp;&nbsp;&nbsp;Retain that dear perfection which she owes  \n&nbsp;&nbsp;&nbsp;&nbsp;Without that title. @User, doff thy name,  \n&nbsp;&nbsp;&nbsp;&nbsp;And for that name which is no part of thee  \n&nbsp;&nbsp;&nbsp;&nbsp;rename thyself.* \n\n![](https://cdn.glitch.com/41bc522e-d971-486e-b08e-7c12034743f9%2FSpeareShaker2000.PNG?1528404038461)\n(You can now edit your @user and display names. )\n`,\n        },\n        {\n          id: 4,\n          title: \"Preview Project Apps and Code\",\n          body: `\nClicking on a project now shows you a preview of that project and its code. Find just the right [beautiful-cube](https://glitch.com/~beautiful-cubes) or [NASA logo](https://glitch.com/~nasa) for you.\n\n![](https://cdn.glitch.com/ebc03e27-d75d-42a2-9741-66496be988d9%2Fgiphy%5B1%5D.gif?1528218891010)\n`,\n        },\n        {\n          id: 3,\n          title: \"A Quicker Way to a New Project\",\n          body: `\nWe added a <code>New Projects</code> button to the header. Because sometimes you have a new web-based dream to explore  right now.\n\n![New Project button in the header](https://cdn.glitch.com/ecc11a20-0b0d-490f-85ac-edf82f8d1a53%2Fupdate-new-project.png?1526413635223)\n\nIt works just like the editor. Enjoy those hot new dreams.\n`,\n        },\n        {\n          id: 2,\n          title: \"Glitch for Teams\",\n          body: `\nSoon, well provide Glitch to teams at work, so developers, designers and anyone with an idea can create real, full-power apps incredibly easily.\n\nBut were counting on you to help us define what that offering will include. [Sign up](https://glitch.com/forteams) and let us know what you need from Glitch in the workplace, be the first to hear whats coming to Glitch for Teams, and help inform its development.\n`,\n        },\n        {\n          id: 1,\n          title: \"Deleted, but not forgotten\",\n          body:\n          `\nYou can now delete _and undelete_ projects. \n\nTidy up your profile page without fear of regret.\nThere's a new \"Delete This\" button on your project tiles that'll let you clean up \nyour old experiments and help you present a healthier, more active looking profile page. \n\n![Delete using the project's dropdown list](https://cdn.glitch.com/03736932-82dc-40e8-8dc7-93330c933143%2Fnew-stuff-delete.png?1518549490386)\n\nAll of your deleted projects are listed for you at the bottom of your profile page,\nand you can restore them to life with just one click.\n\n![Undelete projects using the new controls at the bottom of your profile page](https://cdn.glitch.com/03736932-82dc-40e8-8dc7-93330c933143%2Fnew-stuff-undelete.png?1518552423035)\n\nNo forever- here, every project has a second chance.\n`,\n        },\n      ];\n    },\n  };\n\n\n  return self;\n}\n","module.exports = function(data) {\n  \"use strict\";\n  return (function() {\n    var __root;\n    __root = require('jadelet')(this);\n    __root.buffer(__root.element(\"div\", this, {\n      \"class\": [\"new-stuff-footer\"]\n    }, function(__root) {\n      __root.buffer(__root.element(\"div\", this, {\n        \"class\": [\"new-stuff\", \"opens-pop-over\", this.hiddenUnlessNewStuffNotificationVisible],\n        \"click\": this.showNewStuffOverlay\n      }, function(__root) {\n        __root.buffer(__root.element(\"figure\", this, {\n          \"class\": [\"new-stuff-avatar\"],\n          \"data-tooltip\": \"New\",\n          \"data-tooltip-top\": true,\n          \"data-tooltip-persistent\": true\n        }, function(__root) {}));\n      }));\n      __root.buffer(__root.element(\"div\", this, {\n        \"class\": [\"overlay-background\", this.visibility]\n      }, function(__root) {\n        __root.buffer(__root.element(\"dialog\", this, {\n          \"class\": [\"pop-over\", \"overlay\", \"new-stuff-overlay\", \"overlay-narrow\"]\n        }, function(__root) {\n          __root.buffer(__root.element(\"section\", this, {\n            \"class\": [\"pop-over-info\"]\n          }, function(__root) {\n            __root.buffer(__root.element(\"figure\", this, {\n              \"class\": [\"new-stuff-avatar\"]\n            }, function(__root) {}));\n            __root.buffer(__root.element(\"div\", this, {\n              \"class\": [\"overlay-title\"]\n            }, function(__root) {\n              __root.buffer(\"New Stuff\\n\");\n            }));\n            __root.buffer(__root.element(\"div\", this, {}, function(__root) {\n              __root.buffer(__root.element(\"label\", this, {\n                \"class\": [\"button\", \"button-small\"]\n              }, function(__root) {\n                __root.buffer(__root.element(\"input\", this, {\n                  \"class\": [\"button-checkbox\"],\n                  \"type\": \"checkbox\",\n                  \"checked\": this.checked\n                }, function(__root) {}));\n                __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n                  __root.buffer(\"Keep showing me these\\n\");\n                }));\n              }));\n            }));\n          }));\n          __root.buffer(__root.element(\"section\", this, {\n            \"class\": [\"pop-over-actions\"]\n          }, function(__root) {\n            var mdToNode, updates;\n            updates = this.newStuff();\n            mdToNode = this.mdToNode;\n            updates.forEach(function(update) {\n              return __root.buffer(__root.element(\"article\", this, {}, function(__root) {\n                __root.buffer(__root.element(\"div\", this, {\n                  \"class\": [\"title\"]\n                }, function(__root) {\n                  __root.buffer(update.title);\n                }));\n                __root.buffer(__root.element(\"div\", this, {\n                  \"class\": [\"body\"]\n                }, function(__root) {\n                  __root.buffer(mdToNode(update.body));\n                }));\n                if (update.link) {\n                  __root.buffer(__root.element(\"p\", this, {}, function(__root) {\n                    __root.buffer(__root.element(\"a\", this, {\n                      \"class\": [\"link\"],\n                      \"href\": update.link\n                    }, function(__root) {\n                      __root.buffer(\"Read the blog post \\n\");\n                    }));\n                  }));\n                }\n              }));\n            });\n          }));\n        }));\n      }));\n    }));\n    return __root.root;\n  }).call(data);\n};\n","import markdownFactory from 'markdown-it';\nimport markdownSanitizer from 'markdown-it-sanitizer';\nconst markdown = markdownFactory({html: true})\n  .use(markdownSanitizer);\nimport Observable from 'o_0';\nimport OverlayNewStuffTemplate from '../../templates/overlays/new-stuff';\nimport newStuffLog from '../new-stuff-log';\n\nexport default function(application) {\n  \n  application.overlayNewStuffVisible.observe(function() {\n    if (application.overlayNewStuffVisible() === true) {\n      self.updateNewStuffRead();\n      return self.newStuffNotificationVisible(false);\n    }\n  });\n\n  var self = {\n\n    newStuffLog: newStuffLog(self),\n    \n    newStuffNotificationVisible: Observable(false),\n    newStuff: Observable([]),\n    \n    mdToNode(md) {\n      const node = document.createElement('span');\n      node.innerHTML = markdown.render(md);\n      return node;\n    },\n\n    visibility() {\n      if (!application.overlayNewStuffVisible()) { return \"hidden\"; }\n    },\n        \n    getUpdates() {\n      const MAX_UPDATES = 3;\n      const updates = self.newStuffLog.updates();\n      const newStuffReadId = application.getUserPref('newStuffReadId');\n      const totalUpdates = self.newStuffLog.totalUpdates();\n      \n      const latestStuff = updates.slice(0, MAX_UPDATES);\n      self.newStuff(latestStuff);\n\n      let hasNewStuff = true;\n      if (newStuffReadId) {\n        const unread = totalUpdates - newStuffReadId;\n        const newStuff = updates.slice(0, unread);\n        if (unread <= 0) {\n          hasNewStuff = false;\n        } else {\n          self.newStuff(newStuff);\n        }\n      }\n            \n      const isSignedIn = application.currentUser().isSignedIn();\n      const ignoreNewStuff = application.getUserPref('showNewStuff') === false;\n      const visible = isSignedIn && hasNewStuff && !ignoreNewStuff;\n      \n      return self.newStuffNotificationVisible(visible);\n    },\n\n\n    checked(event) {\n      const showNewStuff = application.getUserPref('showNewStuff');\n      if ((showNewStuff != null) && (event != null)) {\n        return application.updateUserPrefs('showNewStuff', event);\n      } else if (showNewStuff != null) {\n        return showNewStuff;\n      } \n      return application.updateUserPrefs('showNewStuff', true);\n      \n    },\n\n    updateNewStuffRead() {\n      return application.updateUserPrefs('newStuffReadId', self.newStuffLog.totalUpdates());\n    },\n      \n    hiddenUnlessNewStuffNotificationVisible() {\n      if (!self.newStuffNotificationVisible()) { return 'hidden'; }\n    },\n        \n    showNewStuffOverlay() {\n      return application.overlayNewStuffVisible(true);\n    },\n  };\n\n  self.getUpdates();\n  return OverlayNewStuffTemplate(self);\n}\n","module.exports = function(data) {\n  \"use strict\";\n  return (function() {\n    var __root;\n    __root = require('jadelet')(this);\n    __root.buffer(__root.element(\"div\", this, {\n      \"class\": [\"overlay-background\", this.hiddenUnlessOverlayVideoVisible]\n    }, function(__root) {\n      __root.buffer(__root.element(\"dialog\", this, {\n        \"class\": [\"overlay\", \"video-overlay\"],\n        \"click\": this.stopPropagation,\n        \"tabindex\": \"-1\"\n      }, function(__root) {\n        __root.buffer(__root.element(\"section\", this, {\n          \"class\": [\"pop-over-actions\"]\n        }, function(__root) {\n          __root.buffer(__root.element(\"div\", this, {\n            \"class\": [\"wistia_responsive_padding\"]\n          }, function(__root) {\n            __root.buffer(__root.element(\"div\", this, {\n              \"class\": [\"wistia_responsive_wrapper\"]\n            }, function(__root) {\n              __root.buffer(__root.element(\"div\", this, {\n                \"class\": [\"wistia_embed\", \"wistia_async_vskja9agqj\"],\n                \"videoFoam\": true\n              }, function(__root) {}));\n            }));\n          }));\n        }));\n      }));\n    }));\n    return __root.root;\n  }).call(data);\n};\n","import OverlayVideoTemplate from '../../templates/overlays/overlay-video';\n\nexport default function(application) {\n\n  const self = {     \n    application,\n    \n    hiddenUnlessOverlayVideoVisible() {\n      if (!application.overlayVideoVisible()) { return \"hidden\"; }\n    },\n\n    stopPropagation(event) {\n      return event.stopPropagation();\n    },\n  };\n\n  return OverlayVideoTemplate(self);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction FooterLine({href, track, children}) {\n  return <p><a href={href} data-track={'footer  '+track}>{children}</a></p>;\n}\nFooterLine.propTypes = {\n  href: PropTypes.string.isRequired,\n  track: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport default function Footer() {\n  const srcForPlatforms = \"https://cdn.glitch.com/be1ad2d2-68ab-404a-82f4-6d8e98d28d93%2Ffor-platforms-icon.svg?1506442305188\";\n  return (\n    <footer role=\"contentinfo\">\n      <FooterLine href=\"https://glitch.com/about\" track=\"about\">\n        About Glitch <span role=\"img\" aria-label=\"\"></span>\n      </FooterLine>\n      <FooterLine href=\"https://medium.com/glitch\" track=\"blog\">\n        Blog <span role=\"img\" aria-label=\"\"></span>\n      </FooterLine>\n      <FooterLine href=\"/help/\" track=\"faq\">\n        Help Center <span role=\"img\" aria-label=\"\"></span>\n      </FooterLine>\n      <FooterLine href=\"http://status.glitch.com/\" track=\"system status\">\n        System Status <span role=\"img\" aria-label=\"\"></span>\n      </FooterLine>\n      <FooterLine href=\"https://support.glitch.com\" track=\"support forum\">\n        Support Forum <span role=\"img\" aria-label=\"\"></span>\n      </FooterLine>\n      <FooterLine href=\"https://glitch.com/legal\" track=\"legal stuff\">\n        Legal Stuff <span role=\"img\" aria-label=\"\"></span>\n      </FooterLine>\n      <hr/>\n      <FooterLine href=\"https://glitch.com/forteams\" track=\"platforms\">\n        <img className=\"for-platforms-icon\" src={srcForPlatforms} alt=\"\"/>\n        <span className=\"for-platforms-text\">Glitch for Teams</span>\n      </FooterLine>\n    </footer>\n  );\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ProjectResultItem from '../includes/project-result-item.jsx';\nimport PopoverContainer from './popover-container.jsx';\n\nconst NewProjectPop = ({projects}) => (\n  <div className=\"pop-over new-project-pop\">\n    <section className=\"pop-over-actions results-list\">\n      <div className=\"results\">\n        { projects.map((project) => (\n          <a key={project.id} href={project.remixUrl}>\n            <ProjectResultItem {...project} action={()=>{\n              /* global analytics */\n              analytics.track(\"New Project Clicked\", {\n                baseDomain: project.domain,\n                origin: \"community new project pop\",\n              });\n            }} />\n          </a>\n        ))}\n      </div>\n    </section>\n  </div>\n);\n\nNewProjectPop.propTypes = {\n  projects: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    link: PropTypes.string.isRequired,\n  })).isRequired,\n};\n\nclass NewProjectPopContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {projects: []};\n  }\n  \n  componentDidMount() {\n    const projectIds = [\n      'a0fcd798-9ddf-42e5-8205-17158d4bf5bb', // 'hello-express'\n      'cb519589-591c-474f-8986-a513f22dbf88', // 'hello-sqlite'\n      '929980a8-32fc-4ae7-a66f-dddb3ae4912c', // 'hello-webpage'\n    ];\n    this.props.promiseProjectsByIds(projectIds).then((projects) => {\n      const projectProps = projects.map((project) => {\n        const {...props} = project.asProps();\n        //Deliberately hide the user list \n        props.users = [];\n        return props;\n      });\n      \n      this.setState({projects: projectProps});\n    });\n  }\n  \n  render() {\n    return (\n      <PopoverContainer>\n        {({visible, togglePopover}) => (\n          <div className=\"button-wrap\">\n            <button className=\"button-small\" data-track=\"open new-project pop\" onClick={togglePopover}>New Project</button>\n            {visible && <NewProjectPop projects={this.state.projects}/>}\n          </div>\n        )}\n      </PopoverContainer>\n    );\n  }\n}\n\nNewProjectPopContainer.propTypes = {\n  promiseProjectsByIds: PropTypes.func.isRequired,\n};\n\nexport default NewProjectPopContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PopoverContainer from './popover-container.jsx';\n\nconst TeamButton = ({url, name, teamAvatarUrl}) => (\n  <a className=\"button-link\" href={url}>\n    <div className=\"button button-small has-emoji button-tertiary\">\n      <span>{name} </span>\n      <img className=\"emoji avatar\" src={teamAvatarUrl} alt={`${name} team avatar`} width=\"16px\" height=\"16px\"/>\n    </div>\n  </a>\n);\n\nTeamButton.propTypes = {\n  url: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  teamAvatarUrl: PropTypes.string.isRequired,\n};\n\nconst TeamButtons = ({teams}) => {\n  const hasTeams = teams && teams.length;\n  if(!hasTeams) {\n    return null;\n  }\n  \n  return (\n    <section className=\"pop-over-actions\">\n      {teams.map((team) => (\n        <TeamButton key={team.name} {...team}/>\n      ))}\n    </section>\n  );\n};\n\nTeamButtons.propTypes = {\n  teams: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n  })),\n};\n\n\n\nconst UserOptionsPop = ({togglePopover, userLink, avatarUrl, avatarStyle, teams, showNewStuffOverlay}) => {\n  const clickNewStuff = (event) => {\n    togglePopover();\n    showNewStuffOverlay();\n    event.stopPropagation();\n  };\n  \n  const signOut = () => {\n    /* global analytics */\n    analytics.track(\"Logout\");\n    analytics.reset();\n    localStorage.removeItem('cachedUser');\n    return location.reload();\n  };\n\n  return (\n    <dialog className=\"pop-over user-options-pop\">\n      <section className=\"pop-over-actions\">\n        <a className=\"button-link\" href={userLink}>\n          <div className=\"button button-small has-emoji button-tertiary\">\n            <span>Your Profile </span>\n            <img className=\"emoji avatar\" src={avatarUrl} style={avatarStyle} alt=\"Your avatar\"></img>\n          </div>\n        </a>\n      </section>\n\n      <TeamButtons teams={teams}/>\n\n      <section className=\"pop-over-info section-has-tertiary-buttons\">      \n        <button className=\"button-small has-emoji button-tertiary button-on-secondary-background\" onClick={clickNewStuff}>\n          <span>New Stuff </span>\n          <span className=\"emoji dog-face\"></span>\n        </button>\n        <a className=\"button-link\" href=\"https://support.glitch.com\">\n          <div className=\"button button-small has-emoji button-tertiary button-on-secondary-background\">\n            <span>Support </span>\n            <span className=\"emoji ambulance\"></span>\n          </div>\n        </a>        \n        <button className=\"button-small has-emoji button-tertiary button-on-secondary-background\" onClick={signOut}>\n          <span>Sign Out</span>\n          <span className=\"emoji balloon\"></span>\n        </button>\n      </section>\n    </dialog>\n  );\n};\n\nUserOptionsPop.propTypes = {\n  togglePopover: PropTypes.func.isRequired,\n  userLink: PropTypes.string.isRequired,\n  avatarUrl: PropTypes.string.isRequired,\n  avatarStyle: PropTypes.object.isRequired,\n  showNewStuffOverlay: PropTypes.func.isRequired,\n};\n\nexport default function UserOptionsPopContainer(props) {\n  const {avatarUrl, avatarStyle} = props;\n  return (\n    <PopoverContainer>\n      {({togglePopover, visible}) => (\n        <div className=\"button user-options-pop-button\" data-tooltip=\"User options\" data-tooltip-right=\"true\">\n          <button className=\"user\" onClick={togglePopover}>\n            <img src={avatarUrl} style={avatarStyle} width=\"30px\" height=\"30px\" alt=\"User options\"/>\n            <span className=\"down-arrow icon\"/>\n          </button>\n          {visible && <UserOptionsPop {...props} togglePopover={togglePopover}/>}\n        </div>\n      )}\n    </PopoverContainer>\n  );\n}\n          \nUserOptionsPopContainer.propTypes = {\n  avatarUrl: PropTypes.string.isRequired,\n  avatarStyle: PropTypes.object.isRequired,\n};\n","import UserOptionsPop from \"./pop-overs/user-options-pop.jsx\";\nimport SignInPop from \"./pop-overs/sign-in-pop.jsx\";\nimport NewProjectPop from \"./pop-overs/new-project-pop.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport urlJoin from 'url-join';\n\nconst Logo = () => {\n  const LOGO_DAY = \"https://cdn.gomix.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Flogo-day.svg\";\n  const LOGO_SUNSET = \"https://cdn.gomix.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Flogo-sunset.svg\";\n  const LOGO_NIGHT = \"https://cdn.gomix.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Flogo-night.svg\";\n\n  let logo = LOGO_DAY;\n  const hour = (new Date()).getHours();\n  if ((hour >= 16) && (hour <= 18)) {\n    logo = LOGO_SUNSET;\n  } else if ((hour > 18) || (hour <= 8)) {\n    logo = LOGO_NIGHT;\n  }\n\n  return <img className=\"logo\" src={logo} alt=\"Glitch\" />;\n};\n\nconst ResumeCoding = () => (\n  <a className=\"button button-small button-cta\" href=\"https://glitch.com/edit/\" data-track=\"resume coding\">\n    <div className=\"\">Resume Coding</div>\n  </a>\n);\n\nconst submitSearch = (event) => {\n  if (event.target.children.q.value.trim().length === 0) {\n    return event.preventDefault();\n  }\n};\n\nconst SearchForm = ({baseUrl, onSubmit, defaultValue}) => (\n  <form action={urlJoin(baseUrl, \"search\")} method=\"get\" role=\"search\" onSubmit={onSubmit}>\n    <input className=\"search-input\" name=\"q\" placeholder=\"bots, apps, users\" defaultValue={defaultValue}/>\n  </form>\n);\n\nSearchForm.propTypes = {\n  baseUrl: PropTypes.string.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  defaultValue: PropTypes.string.isRequired,\n};\n\nconst UserOptionsPopWrapper = ({user, overlayNewStuffVisible}) => {\n  const props = {\n    teams: user.teams,\n    userLink: user.userLink,\n    avatarUrl: user.userAvatarUrl,\n    avatarStyle: {backgroundColor: user.color},\n    showNewStuffOverlay() {\n      return overlayNewStuffVisible(true);\n    }\n  };\n\n  return <UserOptionsPop {...props}/>;\n};\n\nUserOptionsPopWrapper.propTypes = {\n  user: PropTypes.shape({\n    login: PropTypes.string,\n  }).isRequired,\n  overlayNewStuffVisible: PropTypes.func.isRequired,\n};\n\nconst Header = ({baseUrl, maybeUser, searchQuery, overlayNewStuffVisible, promiseProjectsByIds}) => {\n  const signedIn = maybeUser && !!maybeUser.login;\n  return (\n    <header role=\"banner\">\n      <div className=\"header-info\">\n        <a href={baseUrl}>\n          <Logo/>\n        </a>\n      </div>\n     \n      <nav>\n        <SearchForm baseUrl={baseUrl} onSubmit={submitSearch} defaultValue={searchQuery}/>\n        <NewProjectPop promiseProjectsByIds={promiseProjectsByIds}/>\n        <ResumeCoding/>\n        { !signedIn && <SignInPop/> }\n        { maybeUser && <UserOptionsPopWrapper user={maybeUser} overlayNewStuffVisible={overlayNewStuffVisible} />}\n      </nav>\n    </header>\n  );\n};\n\nHeader.propTypes = {\n  baseUrl: PropTypes.string.isRequired,\n  maybeUser: PropTypes.object,\n};\n\nclass HeaderContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { maybeUser: null };\n  }\n  componentDidMount() {\n    this.props.userObservable.observe((maybeUser) => {\n      this.setState({maybeUser: maybeUser});\n    });\n  }\n  componentWillUnmount() {\n    this.props.userObservable.releaseDependencies();\n  }\n  render() {\n    return <Header {...this.props} maybeUser={this.state.maybeUser}/>;\n  }\n}\n\nHeaderContainer.propTypes = {\n  baseUrl: PropTypes.string.isRequired,\n  userObservable: PropTypes.func.isRequired,\n  searchQuery: PropTypes.string.isRequired,\n  overlayNewStuffVisible: PropTypes.func.isRequired,\n  promiseProjectsByIds: PropTypes.func.isRequired,\n};\n\nexport default HeaderContainer;\n","module.exports = function(data) {\n  \"use strict\";\n  return (function() {\n    var __root;\n    __root = require('jadelet')(this);\n    __root.buffer(__root.element(\"div\", this, {\n      \"class\": [\"content\"]\n    }, function(__root) {\n      __root.buffer(this.header);\n      __root.buffer(this.content);\n      __root.buffer(this.footer);\n      __root.buffer(__root.element(\"overlay\", this, {}, function(__root) {\n        __root.buffer(this.overlayProject);\n      }));\n      __root.buffer(__root.element(\"overlay\", this, {}, function(__root) {\n        __root.buffer(this.overlayVideo);\n      }));\n      __root.buffer(this.newStuff);\n    }));\n    return __root.root;\n  }).call(data);\n};\n","module.exports = function(data) {\n  \"use strict\";\n  return (function() {\n    var __root;\n    __root = require('jadelet')(this);\n    __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n      __root.buffer(__root.element(\"main\", this, {\n        \"role\": \"main\"\n      }, function(__root) {\n        __root.buffer(__root.element(\"h1\", this, {\n          \"class\": [\"headline\"]\n        }, function(__root) {\n          __root.buffer(__root.element(\"a\", this, {\n            \"href\": \"https://glitch.com\"\n          }, function(__root) {\n            __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n              __root.buffer(\"Glitch\");\n            }));\n          }));\n          __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n            __root.buffer(\" \");\n          }));\n          __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n            __root.buffer(\"is the friendly community where you'll build the app of your dreams\\n\");\n          }));\n        }));\n        if (this.currentUser().isSignedIn()) {\n          __root.buffer(this.QuestionsPresenter);\n        }\n        __root.buffer(this.RecentProjectsPresenter);\n        __root.buffer(__root.element(\"section\", this, {\n          \"class\": [\"featured\", \"featured-collections\"]\n        }, function(__root) {\n          __root.buffer(__root.element(\"h2\", this, {}, function(__root) {\n            __root.buffer(\"Check These Out\\n\");\n          }));\n          __root.buffer(__root.element(\"div\", this, {\n            \"class\": [\"community-pick-embed-container\"]\n          }, function(__root) {\n            __root.buffer(__root.element(\"img\", this, {\n              \"class\": [\"witch\"],\n              \"src\": \"https://cdn.glitch.com/180b5e22-4649-4c71-9a21-2482eb557c8c%2Fwitch-2.svg?1521578927355\",\n              \"width\": \"110px\",\n              \"height\": \"82px\"\n            }, function(__root) {}));\n            __root.buffer(this.embed());\n          }));\n          __root.buffer(__root.element(\"ul\", this, {}, function(__root) {\n            __root.buffer(this.featuredCollections);\n          }));\n        }));\n        __root.buffer(this.randomCategories);\n        __root.buffer(this.Categories);\n        __root.buffer(this.WhatIsGlitch);\n        __root.buffer(this.ByFogCreek);\n        __root.buffer(__root.element(\"section\", this, {\n          \"class\": [\"made-in-glitch\"]\n        }, function(__root) {\n          __root.buffer(__root.element(\"p\", this, {}, function(__root) {\n            __root.buffer(__root.element(\"span\", this, {}, function(__root) {\n              __root.buffer(\"Of course, this site was made on Glitch too\\n\");\n            }));\n          }));\n          __root.buffer(__root.element(\"a\", this, {\n            \"href\": \"https://glitch.com/edit/#!/community\"\n          }, function(__root) {\n            __root.buffer(__root.element(\"button\", this, {\n              \"class\": [\"has-emoji\"]\n            }, function(__root) {\n              __root.buffer(\"View Source\\n\");\n              __root.buffer(__root.element(\"div\", this, {\n                \"class\": [\"emoji\", \"carp_streamer\"]\n              }, function(__root) {}));\n            }));\n          }));\n        }));\n      }));\n      __root.buffer(__root.element(\"script\", this, {\n        \"src\": \"//fast.wistia.com/embed/medias/vskja9agqj.jsonp\",\n        \"async\": true\n      }, function(__root) {}));\n      __root.buffer(__root.element(\"script\", this, {\n        \"src\": \"//fast.wistia.com/assets/external/E-v1.js\",\n        \"async\": true\n      }, function(__root) {}));\n    }));\n    return __root.root;\n  }).call(data);\n};\n","import IndexTemplate from '../../templates/pages/index';\nimport LayoutPresenter from '../layout';\nimport FeaturedCollectionPresenter from '../featured-collection';\nimport RecentProjectsPresenter from '../recent-projects';\nimport QuestionsPresenter from '../questions';\nimport Reactlet from '../reactlet';\nimport EmbedHtml from '../../curated/embed';\n\nimport Categories from \"../categories.jsx\";\nimport RandomCategories from '../random-categories.jsx';\nimport WhatIsGlitch from \"../what-is-glitch.jsx\";\nimport ByFogCreek from \"../includes/by-fogcreek.jsx\";\n\nexport default function(application) {\n  console.log(\"Presented index\");\n\n  const self = {\n    application,\n    projects: application.projects,\n\n    user: application.user,\n\n    WhatIsGlitch() {\n\n      const props = {\n        isSignedIn() {\n          return application.currentUser().isSignedIn();\n        },\n        showVideoOverlay(event) {\n          application.overlayVideoVisible(true);\n          document.getElementsByClassName('video-overlay')[0].focus();\n          return event.stopPropagation();\n        },\n      };\n\n      return Reactlet(WhatIsGlitch, props);\n    },\n\n    currentUser: application.currentUser,\n\n    hiddenUnlessCurrentUser() {\n      if (!application.currentUser().id()) { return 'hidden'; }\n    },\n\n    featuredCollections() {\n      return application.featuredCollections.map(collection => FeaturedCollectionPresenter(application, collection));\n    },\n    \n    randomCategories() {\n      const props = {\n        api: application.api(),\n      };\n      return Reactlet(RandomCategories, props);\n    },\n\n    embed() {\n      const node = document.createElement('span');\n      node.innerHTML = EmbedHtml;\n      return node;\n    },\n\n    Categories() {\n      const props = {\n        categories: application.categories,\n      };\n      return Reactlet(Categories, props);\n    },\n\n    QuestionsPresenter() {\n      return QuestionsPresenter(application);\n    },\n\n    RecentProjectsPresenter() {\n      return RecentProjectsPresenter(application);\n    },\n\n    ByFogCreek() {\n      return Reactlet(ByFogCreek, null);\n    },\n\n  };\n\n  const content = IndexTemplate(self);\n\n  return LayoutPresenter(application, content);\n}\n","/*\nWe use a cache to keep an identity map of questions by id.\n\nWhen constructing a user model Question(...) if it has an id\nfield it will be cached based on the id. If the id already\nexists in the cache the same reference to that model will be\nreturned.\n\nIf the id property is not given the model is not cached.\n\n*/\n\n/* globals EDITOR_URL */\n\nlet Question;\nimport randomColor from 'randomcolor';\nimport Model from './model';\nconst cache = {};\n\nexport default Question = function(I, self) {\n\n  if (I == null) { I = {}; }\n  if (self == null) { self = Model(I); }\n  if (cache[I.id]) {\n    return cache[I.id];\n  }\n  \n  self.defaults(I, {\n    character: undefined,\n    colorInner: undefined,\n    colorOuter: undefined,\n    created: undefined,\n    domain: undefined,\n    line: undefined,\n    path: undefined,\n    projectId: undefined,\n    question: \"\",\n    questionId: undefined,\n    tags: [],\n    userAvatar: undefined,\n    userColor: undefined,\n    userId: undefined,\n    userLogin: undefined,\n  }\n  );\n\n  self.attrObservable(...Array.from(Object.keys(I) || []));\n\n  self.extend({\n\n    editUrl() {\n      if (I.line) {\n        return `${EDITOR_URL}#!/${I.domain}?path=${I.path}:${I.line}:${I.character}`;\n      } \n      return `${EDITOR_URL}#!/${I.domain}`;\n    },\n  });\n\n\n  if (I.questionId) {\n    cache[I.questionId] = self;\n  }\n  console.log(' question cache', cache);\n\n  return self;\n};\n\nQuestion.getQuestions = function(application) {\n  application.gettingQuestions(true);\n  return application.api().get('projects/questions')\n    .then(function({data}) {\n      application.gettingQuestions(false);\n      return data.map(function(datum) {\n        const question = JSON.parse(datum.details);\n        const colors = randomColor({\n          luminosity: 'light',\n          count: 2,\n        });\n        question.colorInner = colors[0];\n        question.colorOuter = colors[1];\n        return Question(question).update(question);\n      });\n    })\n    .catch(error => console.error(\"GET projects/questions\", error));\n};\n\n\nQuestion._cache = cache;\n\n","/*\nExample: \n{\n  // Required fields:\n  title: 'Make a Mash-up Comic',\n  img: \"https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2FWebcomicNameFeature.png?1517409070264\",\n  \n  // Optional fields:\n  link: 'https://webcomicname-mashup.glitch.me' // if absent, tile won't be a link.\n  imgTitle:  ''  // 'title' attribute on the <img>, which displays text on hover.\n},\n*/\n\nexport default [\n  {\n    title: 'It\\'s Countdown O\\'Clock',\n    img: \"https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Fcountdown-oclock.jpg?1532340065871\",\n    link: 'https://glitch.com/~countdown-oclock'\n  }\n  , {\n    title: 'Create Slick Beats',\n    img: \"https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Ftenori-off.jpg?1532340207849\",\n    link: 'https://glitch.com/~tenori-off'\n  }\n  , {\n    title: 'From Slack to Things ',\n    img: \"https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Fthings-cmd.jpg?1532340416668\",\n    link: 'https://glitch.com/edit/#!/things-cmd'\n  }  \n];\n","/* globals API_URL APP_URL EDITOR_URL analytics application Raven */\n\nimport Observable from 'o_0';\n\nimport {find} from \"lodash\";\nimport axios from 'axios';\nimport cachedCategories from './cache/categories.js';\nimport cachedTeams from './cache/teams.js';\nimport featuredCollections from './curated/featured';\nimport Model from './models/model';\nimport User from './models/user';\nimport Project from './models/project';\nimport Team from './models/team';\nimport Question from './models/question';\n\nlet cachedUser = undefined;\nif(localStorage.cachedUser) {\n  try {\n    cachedUser = JSON.parse(localStorage.cachedUser);\n    if (cachedUser.id <= 0) {\n      throw new Error('invalid id');\n    }\n  } catch (error) {\n    //Something bad happened in the past to get us here!\n    //Act natural and pretend we're logged out\n    console.warn('could not parse cachedUser', localStorage.cachedUser);\n    Raven.captureMessage('failed to parse cachedUser', {extra: {cachedUser: localStorage.cachedUser}});\n    cachedUser = undefined;\n  }\n}\n\nif (cachedUser) {\n  Raven.setUserContext({\n    id: cachedUser.id,\n    login: cachedUser.login,\n  });\n} else {\n  Raven.setUserContext();\n}\n\nvar self = Model({\n  currentUser: cachedUser,\n}).extend({\n\n  featuredCollections,\n\n  // overlays\n  overlayVideoVisible: Observable(false),\n  overlayNewStuffVisible: Observable(false),\n\n  // search - users\n  searchQuery: Observable(\"\"),\n\n  // questions\n  questions: Observable([]),\n  gettingQuestions: Observable(false),\n\n  // pages\n  pageIsTeamPage: Observable(false),\n  pageIsUserPage: Observable(false),\n  \n  normalizedBaseUrl() {\n    return \"/\";\n  },\n\n  closeAllPopOvers() {\n    $(\".overlay-background.disposable\").remove();\n    self.overlayVideoVisible(false);\n    self.overlayNewStuffVisible(false);\n  },\n  \n  api(source) {\n    const persistentToken = self.currentUser() && self.currentUser().persistentToken();\n    if (persistentToken) {\n      return axios.create({  \n        baseURL: API_URL,\n        cancelToken: (source != null ? source.token : undefined),\n        headers: {\n          Authorization: persistentToken,\n        },\n      });\n    } \n    return axios.create({\n      baseURL: API_URL,\n      cancelToken: (source != null ? source.token : undefined),\n    });\n  },\n\n  storeLocal(key, value) {\n    try {\n      return window.localStorage[key] = JSON.stringify(value);\n    } catch (error) {\n      console.warn(\"Could not save to localStorage. (localStorage is disabled in private Safari windows)\");\n      return undefined;\n    }\n  },\n\n  getLocal(key) {\n    try {\n      return JSON.parse(window.localStorage[key]);\n    } catch (error) {\n      return undefined;\n    }\n  },\n\n  getUserPrefs() {\n    return self.getLocal('community-userPrefs') || {};\n  },\n\n  getUserPref(key) {\n    return self.getUserPrefs()[key];\n  },\n\n  updateUserPrefs(key, value) {\n    const prefs = self.getUserPrefs();\n    prefs[key] = value;\n    return self.storeLocal('community-userPrefs', prefs);\n  },\n    \n  login(provider, code) {\n    let authURL;\n    console.log(provider, code);\n    if (provider === \"facebook\") {\n      // capitalize for analytics\n      provider = \"Facebook\";\n      const callbackURL = `${APP_URL}/login/facebook`;\n      authURL = `/auth/facebook/${code}?callbackURL=${encodeURIComponent(callbackURL)}`;\n    } else {\n      provider = \"GitHub\";\n      authURL = `/auth/github/${code}`;\n    }\n    return self.api().post(`${authURL}`)\n      .then(function(response) {\n        if (response.data.id <= 0) {\n          return Promise.reject(response.data);\n        }\n        analytics.track(\"Signed In\",\n          {provider});\n        console.log(\"LOGGED IN\", response.data);\n        self.currentUser(User(response.data));\n        return self.storeLocal('cachedUser', response.data);\n      });\n  },\n\n  getUserByLogin(login) {\n    User.getUserByLogin(application, login).then((user) => self.saveUser(user));\n  },\n\n  getUserById(id) {\n    User.getUserById(application, id).then((user) => self.saveUser(user));\n  },\n  \n  getCurrentUserById(id) {\n    User.getUserById(application, id).then((userData) => {\n      self.storeLocal('cachedUser', userData);\n      const user = self.loadUser(userData);\n      self.currentUser(user);\n    });\n  },\n\n  getTeamById(id) {\n    return Team.getTeamById(application, id);\n  },\n\n  // due to model caching, whenever user.id === currentuser.id, \n  // the objects will be set equal other.\n  // this means that they must share a loader,\n  // and that 'saveUser' will clobber 'getCurrentUserById'\n  // but not necessarily the other way around.\n  saveUser(userData) {\n    const user = self.loadUser(userData);\n    self.user(user);\n  },\n  \n  loadUser(userData){\n    userData.fetched = true;\n    userData.initialDescription = userData.description;\n    console.log(' user data is ', userData);\n    self.getProjects(userData.projects);\n    \n    const user = User(userData).update(userData);\n    const teams = user.teams().map(teamData => Team(teamData));\n    user.teams(teams);\n    \n    return user;\n  },\n\n  saveTeam(teamData) {\n    teamData.fetched = true;\n    console.log(' team data is ', teamData);\n    self.team(Team(teamData).update(teamData));\n    return self.getProjects(teamData.projects);\n  },\n\n  getProjects(projectsData) {\n    const projectIds = projectsData.map(project => project.id);\n    return Project.getProjectsByIds(self.api(), projectIds);\n  },\n\n  getUsers(usersData) {\n    const userIds = usersData.map(user => user.id);\n    return User.getUsersById(self.api(), userIds);\n  },\n \n  get categories() {\n    return cachedCategories;\n  },\n\n  getQuestions() {\n    return Question.getQuestions(self).then(questions => self.questions(questions));\n  },\n\n  // client.coffee routing helpers\n  // TODO?: move to utils.coffee\n  \n  removeFirstCharacter(string) {\n    // ex: ~cool to cool\n    const firstCharacterPosition = 1;\n    const end = string.length;\n    return string.substring(firstCharacterPosition, end);\n  },\n  \n  anonProfileIdFromUrl(url) {\n    return url.replace(/^(user\\/)/g, '');\n  },\n\n  getCachedTeamByUrl(url) {\n    return find(cachedTeams, team => team.url.toLowerCase() === url.toLowerCase());\n  },\n});\n\n\nself.attrModel(\"currentUser\", User);\nself.attrModel(\"question\", Question);\n\nwindow.application = self;\nwindow.API_URL = API_URL;\nwindow.EDITOR_URL = EDITOR_URL;\nwindow.User = User;\nwindow.Project = Project;\nwindow.Team = Team;\nwindow.Question = Question;\n\nexport default self;\n","/* globals EDITOR_URL Raven */\nimport application from './application';\n\nimport qs from 'querystringify';\nconst queryString = qs.parse(window.location.search);\n\nimport IndexPage from './presenters/pages/index';\nimport CategoryPage from './presenters/pages/category.jsx';\nimport ProjectPage from './presenters/pages/project.jsx';\nimport TeamPage from './presenters/pages/team.jsx';\nimport {UserPageById, UserPageByLogin} from './presenters/pages/user.jsx';\nimport QuestionsPage from './presenters/pages/questions';\nimport SearchPage from './presenters/pages/search.jsx';\nimport errorPageTemplate from './templates/pages/error';\n\nconsole.log(\"#########\");\nconsole.log(\" query strings are\", queryString);\nconsole.log(\" application is\", application);\nconsole.log(\" current user is\", application.currentUser());\nconsole.log(\" isSignedIn\", application.currentUser().isSignedIn());\nconsole.log(\"#########\");\n\n\n\n// client-side routing:\n\nfunction identifyUser(application) {\n  const currentUserId = application.currentUser().id();\n  if (currentUserId) {\n    application.getCurrentUserById(currentUserId);\n  }\n  const user = application.currentUser();\n  const analytics = window.analytics;\n  if (analytics && application.currentUser().isSignedIn()) {\n    try {\n      analytics.identify(user.id(), {\n        name: user.name(),\n        login: user.login(),\n        email: user.email(),\n        created_at: user.createdAt(),\n      });\n    } catch (error) {\n      console.error(error);\n      Raven.captureException(error);\n    }\n  }\n}\n\nfunction routePage(pageUrl, application) {\n  // index page \n  if ((pageUrl === \"index.html\") || (pageUrl === \"\")) {\n    application.getQuestions();\n    return {page: IndexPage(application)};\n  }\n\n  // questions page \n  if (pageUrl === 'questions') {\n    return {page: QuestionsPage(application), title: \"Questions\"};\n  }\n\n  // ~project overlay page \n  if (pageUrl.charAt(0) === '~') {\n    const projectDomain = application.removeFirstCharacter(pageUrl);\n    const page = ProjectPage(application, projectDomain);\n    return {page, title:decodeURI(pageUrl)};\n  }\n\n  // @user page \n  if (pageUrl.charAt(0) === '@') {\n    application.pageIsUserPage(true);\n    const userLogin = pageUrl.substring(1, pageUrl.length);\n    const page = UserPageByLogin(application, userLogin);\n    return {page, title:decodeURI(pageUrl)};\n  }\n\n  // anon user page \n  if (pageUrl.match(/^(user\\/)/g)) {\n    application.pageIsUserPage(true);\n    const userId = application.anonProfileIdFromUrl(pageUrl);\n    const page = UserPageById(application, userId);\n    return {page, title: pageUrl};\n  }\n\n  // root team page \n  if (application.getCachedTeamByUrl(pageUrl)) {\n    application.pageIsTeamPage(true);\n    const team = application.getCachedTeamByUrl(pageUrl);\n    const page = TeamPage(application, team.id, team.name);\n    return {page, title: team.name};\n  }\n\n  // search page \n  if (pageUrl === 'search' && queryString.q) {\n    const query = queryString.q;\n    application.searchQuery(query);\n    const page = SearchPage(application, query);\n    return {page, title: `Search for ${query}`};\n  }\n\n  // category page \n  if (application.categories.some(({url}) => pageUrl === url)) {\n    const category = application.categories.find(({url}) => pageUrl === url);\n    const page = CategoryPage(application, category);\n    return {page, title: category.name};\n  }\n \n  // error page \n  return {\n    page: errorPageTemplate({\n      title: \"Page Not Found\",\n      description: \"Maybe a typo? Or perhaps it's moved?\"\n    }),\n    title: \" Page not found\",\n  };\n}\n\nfunction route(location, application) {\n  let normalizedRoute = location.pathname.replace(/^\\/|\\/$/g, \"\").toLowerCase();\n  console.log(`normalizedRoute is ${normalizedRoute}`);\n\n  //\n  // Redirects\n  //\n  if (location.hash.startsWith(\"#!/\")) {\n    return window.location = EDITOR_URL + window.location.hash;\n  }\n  \n  //\n  // OAuth Handling\n  //\n  if (normalizedRoute.startsWith(\"login/\")) {\n    const provider = normalizedRoute.substring(\"login/\".length);\n    const code = queryString.code;\n   \n    return application.login(provider, code)\n      .then(() => {\n        window.location.replace(\"/\");\n      }).catch((error) => {\n        const errorData = error && error.response && error.response.data;\n        const deets = {provider, queryString, error: errorData};\n        console.error(\"OAuth login error.\", deets);\n        Raven.captureMessage(\"Oauth login error\", {extra: deets});\n\n        document.title = \"OAuth Login Error\";\n        document.body.appendChild(errorPageTemplate({\n          title: \"OAuth Login Problem\",\n          description: \"Hard to say what happened, but we couldn't log you in. Try again?\",\n        }));\n      \n      });\n  }\n  \n  //\n  // If we have a session, load it and notify our analytics:\n  //\n  identifyUser(application);\n  \n  //\n  //  Page Routing\n  //\n  const {page, title=document.title} = routePage(normalizedRoute, application);\n  document.title = title;\n  document.body.appendChild(page);\n}\n\nroute(window.location, application);\n\ndocument.addEventListener(\"click\", event => globalclick(event));\ndocument.addEventListener(\"touchend\", event => globalclick(event));\ndocument.addEventListener(\"keyup\", function(event) {\n  const escapeKey = 27;\n  const tabKey = 9;\n  if (event.keyCode === escapeKey) {\n    return application.closeAllPopOvers();\n  }\n  if (event.keyCode === tabKey) {\n    return globalclick(event);\n  }\n});\n\nvar globalclick = function(event) {\n  if (!$(event.target).closest('.pop-over, .opens-pop-over, .overlay').length) {\n    return application.closeAllPopOvers();\n  }\n};\n"],"sourceRoot":""}