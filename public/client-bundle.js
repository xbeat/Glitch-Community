!function(e){function t(t){for(var r,l,i=t[0],u=t[1],o=t[2],d=0,f=[];d<i.length;d++)l=i[d],n[l]&&f.push(n[l][0]),n[l]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(c&&c(t);f.length;)f.shift()();return s.push.apply(s,o||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var u=a[i];0!==n[u]&&(r=!1)}r&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},n={1:0},s=[];function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise(function(t,r){a=n[e]=[t,r]});t.push(a[2]=r);var s,i=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=function(e){return l.p+""+({0:"c3-bundle"}[e]||e)+".js?"+{0:"f7b0c43d3784d22fe06d"}[e]}(e),s=function(t){u.onerror=u.onload=null,clearTimeout(o);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,l=new Error("Loading chunk "+e+" failed.\n("+r+": "+s+")");l.type=r,l.request=s,a[1](l)}n[e]=void 0}};var o=setTimeout(function(){s({type:"timeout",target:u})},12e4);u.onerror=u.onload=s,i.appendChild(u)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var o=0;o<i.length;o++)t(i[o]);var c=u;s.push([138,4,2,3]),a()}([,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=t.UserLink=t.TeamLink=t.ProjectLink=t.Link=void 0;var r=o(a(1)),n=o(a(0)),s=a(16),l=a(5),i=a(13),u=a(8);function o(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}const f=Array.from(EXTERNAL_ROUTES),m=function(e){let{to:t,children:a}=e,n=d(e,["to","children"]);if("string"==typeof t){const e=new URL(window.location.href),s=new URL(t,e);if(s.origin!==e.origin||f.some(function(e){return s.pathname.startsWith(e)}))return r.default.createElement("a",c({href:t},n),a);t={pathname:s.pathname,search:s.search,hash:s.hash}}return r.default.createElement(s.Link,c({to:t},n),a)};t.Link=m,m.propTypes={to:n.default.oneOfType([n.default.string,n.default.object]).isRequired,children:n.default.node.isRequired};const p=function(e){let{project:t,children:a}=e,n=d(e,["project","children"]);return r.default.createElement(m,c({to:(0,l.getLink)(t.domain)},n),a)};t.ProjectLink=p,p.propTypes={project:n.default.object.isRequired};const h=function(e){let{team:t,children:a}=e,n=d(e,["team","children"]);return r.default.createElement(m,c({to:(0,i.getLink)(t)},n),a)};t.TeamLink=h,h.propTypes={team:n.default.object.isRequired};const g=function(e){let{user:t,children:a}=e,n=d(e,["user","children"]);return r.default.createElement(m,c({to:(0,u.getLink)(t)},n),a)};t.UserLink=g,g.propTypes={user:n.default.object.isRequired};var v=m;t.default=v},,function(e,t,a){"use strict";t.__esModule=!0,t.default=function e(t){let{teams:a,users:s}=t,l=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(t,["teams","users"]);const i=Object.assign({teams:a?a.map(function(e){return(0,r.default)(e).asProps()}):[],users:s?s.map(function(e){return(0,n.default)(e).asProps()}):[]},l);return{update:function(t){return e(t)},asProps:function(){return i}}},t.getAvatarUrl=function(e){return`${CDN_URL}/project-avatar/${e}.png`},t.getLink=function(e){return`/~${e}`},t.getShowUrl=function(e){return`//${e}.glitch.me`},t.getEditorUrl=function(e,t,a,r){if(t&&!isNaN(a)&&!isNaN(r))return`${EDITOR_URL}#!/${e}?path=${t}:${a}:${r}`;return`${EDITOR_URL}#!/${e}`},t.getRemixUrl=function(e){return`${EDITOR_URL}#!/remix/${e}`},t.FALLBACK_AVATAR_URL=void 0;var r=s(a(13)),n=s(a(8));function s(e){return e&&e.__esModule?e:{default:e}}t.FALLBACK_AVATAR_URL="https://cdn.glitch.com/c53fd895-ee00-4295-b111-7e024967a033%2Ffallback-project-avatar.svg?1528812220123"},,,function(e,t,a){"use strict";t.__esModule=!0,t.default=function e(t){let{projects:a,teams:s}=t,l=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(t,["projects","teams"]);const i=Object.assign({projects:a?a.map(function(e){return(0,r.default)(e).asProps()}):[],teams:s?s.map(function(e){return(0,n.default)(e).asProps()}):[]},l);return{update:function(t){return e(t)},asProps:function(){return i}}},t.getDisplayName=function({login:e,name:t}){if(t)return t;if(e)return`@${e}`;return"Anonymous User"},t.getLink=function({id:e,login:t}){if(t)return`/@${t}`;return`/user/${e}`},t.getAvatarUrl=function({login:e,avatarUrl:t}){if(e&&t)return t;return i},t.getAvatarThumbnailUrl=function({login:e,avatarThumbnailUrl:t}){if(e&&t)return t;return i},t.getAvatarStyle=function({avatarUrl:e,color:t}){return{backgroundColor:t,backgroundImage:`url('${e||i}')`}},t.getProfileStyle=function({id:e,hasCoverImage:t,coverColor:a,cache:r=l,size:n="large"}){const s=`${CDN_URL}/user-cover/${e}/${n}?${r}`;return{backgroundColor:a,backgroundImage:`url('${t?s:"https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-cover-wide.svg?1503518400625"}')`}},t.ANON_AVATAR_URL=void 0;var r=s(a(5)),n=s(a(13));function s(e){return e&&e.__esModule?e:{default:e}}const l=Math.floor(1e3*Math.random()),i="https://cdn.glitch.com/f6949da2-781d-4fd5-81e6-1fdd56350165%2Fanon-user-on-project-avatar.svg?1488556279399";t.ANON_AVATAR_URL=i},,function(e,t,a){"use strict";t.__esModule=!0,t.normalizeUser=E,t.normalizeUsers=y,t.normalizeProject=b,t.normalizeProjects=function(e,t){return e.map(function(e){return b(e,t)})},t.CurrentUserConsumer=t.CurrentUserProvider=void 0;var r=o(a(1)),n=o(a(0)),s=o(a(81)),l=a(29),i=o(a(8)),u=o(a(87));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}const{Provider:d,Consumer:f}=r.default.createContext();function m(e){e?(console.log("ðŸ‘€ current user is",e),console.log("ðŸŒˆ login",e.login,e.id)):console.log("ðŸ‘» logged out");try{const a=window.analytics;if(a&&e&&e.login){const t=Array.isArray(e.emails)&&e.emails.find(function(e){return e.primary}),r=t&&t.email;a.identify(e.id,{name:e.name,login:e.login,email:r,created_at:e.createdAt})}e?(0,l.configureScope)(function(t){t.setUser({id:e.id,login:e.login})}):(0,l.configureScope)(function(e){e.setUser({id:null,login:null})})}catch(t){console.error(t),(0,l.captureException)(t)}}function p(e,t){return!(!e||!t||e.id!==t.id||e.persistentToken!==t.persistentToken)||!e&&!t}class h extends r.default.Component{constructor(e){super(e),this.state={fetched:!1,working:!1}}api(){return this.props.sharedUser?s.default.create({baseURL:API_URL,headers:{Authorization:this.props.sharedUser.persistentToken}}):s.default.create({baseURL:API_URL})}async getSharedUser(){try{const{data:{user:t}}=await this.api().get("boot?latestProjectOnly=true");return t}catch(e){if(e.response&&401===e.response.status)return;throw e}}async getCachedUser(){const{sharedUser:e}=this.props;if(e){if(!e.id||!e.persistentToken)return"error";try{const{data:a}=await this.api().get(`users/${e.id}`);return p(e,a)?a:"error"}catch(t){if(t.response&&(401===t.response.status||404===t.response.status))return"error";throw t}}}async load(){if(this.state.working)return;this.setState({working:!0});const{sharedUser:e,cachedUser:t}=this.props;if(p(e,t)||this.props.setCachedUser(void 0),e){const t=await this.getCachedUser();if("error"===t){this.setState({fetched:!1});const t=await this.getSharedUser();this.props.setSharedUser(t),console.warn("Fixed shared cachedUser from",e,"to",t),(0,l.captureMessage)("Invalid cachedUser",{extra:{from:e||null,to:t||null}})}else this.props.setCachedUser(t),this.setState({fetched:!0})}else{const{data:e}=await this.api().post("users/anon");this.props.setSharedUser(e)}this.setState({working:!1})}componentDidMount(){m(this.props.cachedUser),this.load()}componentDidUpdate(e){const{cachedUser:t,sharedUser:a}=this.props;p(t,e.cachedUser)||m(t),p(t,a)&&p(a,e.sharedUser)||this.load(),window.currentUser=t,window.api=this.api()}render(){var e=this;const{children:t,sharedUser:a,cachedUser:r,setSharedUser:n,setCachedUser:s}=this.props,l=r||a;return t({api:this.api(),currentUser:l?(0,i.default)(l).asProps():null,fetched:!!r&&this.state.fetched,reload:function(){return e.load()},login:function(e){return n(e)},update:function(e){return s(Object.assign({},r,e))},clear:function(){return n(void 0)}})}}h.propTypes={sharedUser:n.default.shape({id:n.default.number.isRequired,persistentToken:n.default.string.isRequired}),cachedUser:n.default.object,setSharedUser:n.default.func.isRequired,setCachedUser:n.default.func.isRequired};const g=function({children:e}){return r.default.createElement(u.default,{name:"community-cachedUser",default:null},function(t,a,n){return r.default.createElement(u.default,{name:"cachedUser",default:null},function(s,l,i){return i&&n&&r.default.createElement(h,{sharedUser:s,setSharedUser:l,cachedUser:t,setCachedUser:a},function(t){let{api:a}=t,n=c(t,["api"]);return r.default.createElement(d,{value:n},e(a))})})})};t.CurrentUserProvider=g,g.propTypes={children:n.default.func.isRequired};const v=function({children:e}){return r.default.createElement(f,null,function(t){let{currentUser:a,fetched:r}=t,n=c(t,["currentUser","fetched"]);return e(a,r,n)})};function E(e,t){return e.id===(t&&t.id)?t:e}function y(e,t){return e.map(function(e){return E(e,t)})}function b(e,t){let{users:a}=e,r=c(e,["users"]);return Object.assign({users:a?y(a,t):[]},r)}t.CurrentUserConsumer=v,v.propTypes={children:n.default.func.isRequired}},function(e,t,a){"use strict";t.__esModule=!0,t.DataLoader=t.default=void 0;var r=s(a(1)),n=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}const l=function(){return r.default.createElement("div",{className:"loader"},r.default.createElement("div",{className:"moon"}),r.default.createElement("div",{className:"earth"}),r.default.createElement("div",{className:"asteroid"}),r.default.createElement("div",{className:"asteroid-dust"}))};var i=l;t.default=i;class u extends r.default.Component{constructor(e){super(e),this.state={maybeData:null,loaded:!1,maybeError:null}}componentDidMount(){var e=this;this.props.get().then(function(t){return e.setState({maybeData:t,loaded:!0})},function(t){console.error(t),e.setState({maybeError:t})})}render(){return this.state.loaded?this.props.children(this.state.maybeData):this.state.maybeError?this.props.renderError(this.state.maybeError):this.props.renderLoader()}}t.DataLoader=u,u.propTypes={children:n.default.func.isRequired,get:n.default.func.isRequired,renderError:n.default.func,renderLoader:n.default.func},u.defaultProps={renderError:function(){return"Something went wrong, try refreshing?"},renderLoader:l}},,function(e,t,a){"use strict";t.__esModule=!0,t.default=function e(t){let{projects:a,users:s}=t,l=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(t,["projects","users"]);const i=Object.assign({users:s?s.map(function(e){return(0,n.default)(e).asProps()}):[],projects:a?a.map(function(e){return(0,r.default)(e).asProps()}):[],features:[]},l);return{update:function(t){return e(t)},asProps:function(){return i}}},t.getProfileStyle=t.getCoverUrl=t.getAvatarStyle=t.getAvatarUrl=t.getLink=t.DEFAULT_TEAM_AVATAR=void 0;var r=s(a(5)),n=s(a(8));function s(e){return e&&e.__esModule?e:{default:e}}const l=Math.floor(1e3*Math.random()),i="https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-team-avatar.svg?1503510366819";t.DEFAULT_TEAM_AVATAR=i;t.getLink=function({url:e}){return`/@${e}`};const u=function({id:e,hasAvatarImage:t,cache:a=l,size:r="large"}){const n=`${CDN_URL}/team-avatar/${e}/${r}?${a}`;return t?n:i};t.getAvatarUrl=u;t.getAvatarStyle=function({id:e,hasAvatarImage:t,backgroundColor:a,cache:r,size:n}){const s=u({id:e,hasAvatarImage:t,cache:r,size:n});return t?{backgroundImage:`url('${s}')`}:{backgroundColor:a,backgroundImage:`url('${s}')`}};const o=function({id:e,hasCoverImage:t,cache:a=l,size:r="large"}){const n=`${CDN_URL}/team-cover/${e}/${r}?${a}`;return t?n:"https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-cover-wide.svg?1503518400625"};t.getCoverUrl=o;t.getProfileStyle=function({id:e,hasCoverImage:t,coverColor:a,cache:r,size:n}){return{backgroundColor:a,backgroundImage:`url('${o({id:e,hasCoverImage:t,cache:r,size:n})}')`}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=i(a(1)),n=i(a(0)),s=i(a(199)),l=a(200);function i(e){return e&&e.__esModule?e:{default:e}}const u=function({children:e}){return e};u.propTypes={children:n.default.element};class o extends r.default.Component{constructor(e){super(e),this.state={visible:e.startOpen},this.set=this.set.bind(this),this.toggle=this.toggle.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this);const t=this.handleClickOutside.bind(this),a={handleClickOutside:function(){return t},excludeScrollbar:!0};this.MonitoredComponent=(0,s.default)(u,a)}handleClickOutside(e){("keyup"!==e.type||["Escape","Esc"].includes(e.key))&&this.setState({visible:!1})}set(e){this.setState({visible:e})}toggle(){this.setState(function(e){return{visible:!e.visible}})}render(){const e={visible:this.state.visible,togglePopover:this.toggle,setVisible:this.set},t=this.props.children(e);(0,l.isFragment)(t)&&console.error("PopoverContainer does not support  as the top level item. Please use a different element.");const a=this.props.outer?this.props.outer(e):null;return r.default.createElement(r.default.Fragment,null,a,r.default.createElement(this.MonitoredComponent,{disableOnClickOutside:!this.state.visible,eventTypes:["mousedown","touchstart","keyup"]},t))}}t.default=o,o.propTypes={children:n.default.func.isRequired,outer:n.default.func,startOpen:n.default.bool},o.defaultProps={startOpen:!1}},,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=t.Notifications=void 0;var r,n=(r=a(1))&&r.__esModule?r:{default:r};const{Provider:s,Consumer:l}=n.default.createContext(),i=function({children:e,className:t,remove:a}){return n.default.createElement("aside",{className:`notification ${t}`,onAnimationEnd:a},e)};t.Notifications=class extends n.default.Component{constructor(e){super(e),this.state={notifications:[]}}create(e,t=""){const a={id:`${Date.now()}{Math.random()}`,className:t,content:e};return this.setState(function({notifications:e}){return{notifications:[...e,a]}}),a.id}createError(e="Something went wrong. Try refreshing?"){this.create(e,"notifyError")}createPersistent(e,t=""){var a=this;const r=this.create(e,`notifyPersistent ${t}`);return{updateNotification:function(e){a.setState(function({notifications:t}){return{notifications:t.map(function(t){return t.id===r?Object.assign({},t,{content:e}):t})}})},removeNotification:function(){a.remove(r)}}}remove(e){this.setState(function({notifications:t}){return{notifications:t.filter(function(t){return t.id!==e})}})}render(){var e=this;const t={createNotification:this.create.bind(this),createPersistentNotification:this.createPersistent.bind(this),createErrorNotification:this.createError.bind(this)},{notifications:a}=this.state;return n.default.createElement(n.default.Fragment,null,n.default.createElement(s,{value:t},this.props.children),!!a.length&&n.default.createElement("div",{className:"notifications"},a.map(function({id:t,className:a,content:r}){return n.default.createElement(i,{key:t,className:a,remove:e.remove.bind(e,t)},r)})))}};var u=l;t.default=u},,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=d(a(1)),n=d(a(0)),s=a(16),l=d(a(15)),i=d(a(196)),u=d(a(281)),o=d(a(57)),c=d(a(282));function d(e){return e&&e.__esModule?e:{default:e}}const f=function({children:e,api:t,searchQuery:a}){return r.default.createElement("div",{className:"content"},r.default.createElement(l.default,null,r.default.createElement("title",null,"Glitch")),r.default.createElement(i.default,{api:t,searchQuery:a}),r.default.createElement(o.default,null,e),r.default.createElement(u.default,null),r.default.createElement(o.default,{fallback:null},r.default.createElement(c.default,null,r.default.createElement(s.Redirect,{to:"/secret",push:!0}))))};f.propTypes={api:n.default.any.isRequired,children:n.default.node.isRequired,searchQuery:n.default.string};var m=f;t.default=m},,function(e,t,a){"use strict";t.__esModule=!0,t.default=t.TruncatedMarkdown=t.Markdown=void 0;var r=o(a(1)),n=o(a(0)),s=o(a(217)),l=o(a(218)),i=o(a(273)),u=o(a(279));function o(e){return e&&e.__esModule?e:{default:e}}const c=(0,l.default)({html:!0,breaks:!0,linkify:!0,typographer:!0}).disable("smartquotes").use(i.default).use(u.default),d=function({children:e}){return e?r.default.createElement("span",{className:"markdown-content",dangerouslySetInnerHTML:{__html:e}}):null};d.propTypes={children:n.default.string.isRequired};const f=r.default.memo(function({children:e}){const t=c.render(e||"");return r.default.createElement(d,null,t)});t.Markdown=f,f.propTypes={children:n.default.string.isRequired};const m=r.default.memo(function({children:e,length:t}){const a=c.render(e||""),n=(0,s.default)(a,t,{ellipsis:"â€¦"});return r.default.createElement(d,null,n)});t.TruncatedMarkdown=m,m.propTypes={children:n.default.string.isRequired,length:n.default.number.isRequired};var p=f;t.default=p},function(e,t,a){"use strict";t.__esModule=!0,t.default=t.ProjectsUL=t.ProjectsList=void 0;var r=l(a(1)),n=l(a(0)),s=l(a(295));function l(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const u=function({title:e,projects:t,placeholder:a,projectOptions:n}){return r.default.createElement("article",{className:"projects"},r.default.createElement("h2",null,e),!(!a||t.length)&&r.default.createElement("div",{className:"placeholder"},a),r.default.createElement(o,{projects:t,projectOptions:n}))};t.ProjectsList=u,u.propTypes={projects:n.default.array.isRequired,title:n.default.node.isRequired,placeholder:n.default.node};class o extends r.default.Component{constructor(e){super(e),this.state={expanded:!1},this.handleClick=this.handleClick.bind(this)}handleClick(){this.setState({expanded:!0})}render(){const e=this.props.maxCollapsedProjects,t=this.props.projects.length-e;let a=this.props.projects,n=!1;return this.state.expanded||(n=t>0,a=a.slice(0,e)),r.default.createElement(r.default.Fragment,null,r.default.createElement(c,{projects:a,projectOptions:this.props.projectOptions}),n&&r.default.createElement("button",{className:"button-tertiary",onClick:this.handleClick},"Show ",t," More"))}}o.propTypes={projects:n.default.array.isRequired,projectOptions:n.default.object,maxCollapsedProjects:n.default.number},o.defaultProps={maxCollapsedProjects:12};const c=function({projects:e,projectOptions:t,categoryColor:a}){return r.default.createElement("ul",{className:"projects-container"},e.map(function(e){return r.default.createElement(s.default,i({key:e.id},{project:e,projectOptions:t,categoryColor:a}))}))};t.ProjectsUL=c,c.propTypes={projects:n.default.array.isRequired};var d=u;t.default=d},function(e,t,a){"use strict";t.__esModule=!0,t.default=t.ThanksShort=t.Thanks=void 0;var r=s(a(1)),n=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}const l=function({count:e}){return 1===e?"Thanked once":2===e?"Thanked twice":`Thanked ${e} times`};l.propTypes={count:n.default.number.isRequired};const i=function({count:e}){return e>0?r.default.createElement("p",{className:"thanks"},r.default.createElement(l,{count:e}),"Â ",r.default.createElement("span",{className:"emoji sparkling_heart"})):null};t.Thanks=i,i.propTypes={count:n.default.number.isRequired};const u=function({count:e}){return r.default.createElement("p",{className:"thanks"},r.default.createElement("span",{className:"emoji sparkling_heart"}),"Â ",e)};t.ThanksShort=u,u.propTypes={count:n.default.number.isRequired};var o=i;t.default=o},,function(e,t,a){"use strict";t.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(139));Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(t[e]=r[e])});try{r.init({dsn:"https://4f1a68242b6944738df12eecc34d377c@sentry.io/1246508",environment:ENVIRONMENT,beforeSend(e){const t=JSON.stringify(e).replace(/"persistentToken":"[^"]+"/g,'"persistentToken":"****"');return JSON.parse(t)}}),r.configureScope(function(e){e.setTag("PROJECT_DOMAIN",PROJECT_DOMAIN)}),window.Sentry=r}catch(n){console.warn("Error initializing Sentry",n)}},,,,function(e,t,a){"use strict";t.__esModule=!0,t.UserPopoversList=t.default=t.PopulatedUsersList=t.StaticUsersList=void 0;var r=u(a(1)),n=u(a(0)),s=a(3),l=u(a(14)),i=a(98);function u(e){return e&&e.__esModule?e:{default:e}}const o=function({users:e,extraClass:t=""}){return r.default.createElement("ul",{className:`users ${t}`},e.map(function(e){return r.default.createElement("li",{key:e.id},r.default.createElement("span",{className:"user"},r.default.createElement(i.UserAvatar,{user:e})))}))};t.StaticUsersList=o,o.propTypes={users:n.default.array.isRequired,extraClass:n.default.string};const c=function({users:e,extraClass:t=""}){return r.default.createElement("ul",{className:`users ${t}`},e.map(function(e){return r.default.createElement("li",{key:e.id},r.default.createElement(s.UserLink,{user:e,className:"user"},r.default.createElement(i.UserAvatar,{user:e})))}))};t.PopulatedUsersList=c,c.propTypes={users:n.default.array.isRequired,extraClass:n.default.string};const d=function({extraClass:e=""}){return r.default.createElement("ul",{className:`users ${e}`},r.default.createElement("li",null,r.default.createElement("span",{className:"user made-by-glitch"},r.default.createElement(i.Avatar,{name:"Glitch Team",src:"https://cdn.gomix.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Fglitch-team-avatar.svg?1489266029267",color:"#74ecfc"}))))},f=function({glitchTeam:e=!1,users:t,extraClass:a}){return e?r.default.createElement(d,{extraClass:a}):r.default.createElement(c,{users:t,extraClass:a})};f.propTypes={glitchTeam:n.default.bool};var m=f;t.default=m;const p=function({users:e,adminIds:t,children:a}){return r.default.createElement("ul",{className:"users"},e.map(function(e){return r.default.createElement("li",{key:e.id},r.default.createElement(l.default,null,function({visible:n,togglePopover:s}){return r.default.createElement("div",{className:"button-wrap"},r.default.createElement("button",{onClick:s,className:"user button-unstyled"},r.default.createElement(i.UserAvatar,{user:e,suffix:function(e,t){return e.includes(t.id)?" (admin)":""}(t,e)})),!!n&&a(e,s))}))}))};t.UserPopoversList=p,p.propTypes={users:n.default.arrayOf(n.default.shape({id:n.default.number.isRequired})).isRequired,children:n.default.func.isRequired,adminIds:n.default.array},p.defaultProps={adminIds:[]}},function(e,t,a){"use strict";t.__esModule=!0,t.ProfileContainer=t.CoverContainer=t.InfoContainer=t.ProjectInfoContainer=t.ImageButtons=void 0;var r=s(a(1)),n=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const i=function({name:e,uploadImage:t,clearImage:a}){return r.default.createElement("div",{className:"upload-image-buttons"},!!t&&r.default.createElement("button",{className:"button button-small button-tertiary",onClick:t},"Upload ",e),!!a&&r.default.createElement("button",{className:"button button-small button-tertiary",onClick:a},"Clear ",e))};t.ImageButtons=i,i.propTypes={name:n.default.string.isRequired,uploadImage:n.default.func,clearImage:n.default.func};const u=function({style:e,children:t,buttons:a}){return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"avatar-container"},r.default.createElement("div",{className:"user-avatar",style:e}),a),r.default.createElement("div",{className:"profile-information"},t))};t.ProjectInfoContainer=u,u.propTypes={style:n.default.object.isRequired,children:n.default.node.isRequired,buttons:n.default.element};const o=function({children:e}){return r.default.createElement("div",{className:"profile-info"},e)};t.InfoContainer=o,o.propTypes={children:n.default.node.isRequired};const c=function(e){let{buttons:t,children:a,className:n}=e,s=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["buttons","children","className"]);return r.default.createElement("div",l({className:`cover-container ${n}`},s),a,t)};t.CoverContainer=c,c.propTypes={buttons:n.default.node,children:n.default.node.isRequired,className:n.default.string},c.defaultProps={className:""};t.ProfileContainer=function({avatarStyle:e,avatarButtons:t,coverStyle:a,coverButtons:n,children:s}){return r.default.createElement(c,{style:a,buttons:n},r.default.createElement(o,null,r.default.createElement("div",{className:"avatar-container"},r.default.createElement("div",{className:"user-avatar",style:e}),t),r.default.createElement("div",{className:"profile-information"},s)))}},,,,,function(e,t,a){"use strict";t.__esModule=!0,t.NestedPopoverTitle=t.default=void 0;var r=s(a(1)),n=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}const{Provider:l,Consumer:i}=r.default.createContext();class u extends r.default.Component{constructor(e){super(e),this.state={alternateContentVisible:e.startAlternateVisible},this.toggle=this.toggle.bind(this)}toggle(){this.setState(function(e){return{alternateContentVisible:!e.alternateContentVisible}})}render(){return this.state.alternateContentVisible?r.default.createElement(l,{value:this.toggle},this.props.alternateContent(this.toggle)):this.props.children(this.toggle)}}t.default=u,u.propTypes={children:n.default.func.isRequired,alternateContent:n.default.func.isRequired,startAlternateVisible:n.default.bool},u.defaultProps={startAlternateVisible:!1};const o=function({children:e}){return r.default.createElement(i,null,function(t){return r.default.createElement("button",{className:"button-unstyled pop-over-section pop-over-info clickable-label",onClick:t,"aria-label":"go back"},r.default.createElement("div",{className:"back icon"},r.default.createElement("div",{className:"left-arrow icon"})),"Â ",r.default.createElement("div",{className:"pop-title"},e))})};t.NestedPopoverTitle=o,o.propTypes={children:n.default.node.isRequired}},,function(e,t,a){"use strict";t.__esModule=!0,t.default=t.EditableField=t.PureEditableField=void 0;var r=i(a(214)),n=i(a(1)),s=i(a(0)),l=a(97);function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}class o extends n.default.Component{constructor(e){super(e),this.textInput=n.default.createRef(),this.onChange=this.onChange.bind(this)}componentDidMount(){this.props.autoFocus&&this.textInput.current.select()}onChange(e){this.props.update(e.target.value)}render(){const e=["content-editable",this.props.error?"error":""].join(" "),t={className:e,value:this.props.value,onChange:this.onChange,spellCheck:!1,autoComplete:"off",placeholder:this.props.placeholder,id:(0,r.default)("editable-field-"),autoFocus:this.props.autoFocus},a=!!this.props.error&&n.default.createElement("span",{className:"editable-field-error-icon",role:"img","aria-label":"Warning"},"ðŸš’"),s=!!this.props.error&&n.default.createElement("span",{className:"editable-field-error-message"},this.props.error),l=!!this.props.prefix&&n.default.createElement("span",{className:"content-editable-affix "+e},this.props.prefix),i=!!this.props.suffix&&n.default.createElement("span",{className:"content-editable-affix "+e},this.props.suffix);return n.default.createElement("label",{htmlFor:t.id},n.default.createElement("span",{className:"editable-field-flex"},l,n.default.createElement("input",u({},t,{ref:this.textInput})),a,i),s)}}t.PureEditableField=o,o.propTypes={value:s.default.string.isRequired,placeholder:s.default.string.isRequired,update:s.default.func.isRequired,prefix:s.default.node,suffix:s.default.node,autoFocus:s.default.bool,error:s.default.string};const c=function(e){let{value:t,update:a}=e,r=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["value","update"]);return n.default.createElement(l.OptimisticValue,{value:t,update:a,resetOnError:!1},function(e){return n.default.createElement(o,u({},r,e))})};t.EditableField=c,c.propTypes={value:s.default.string.isRequired,placeholder:s.default.string.isRequired,update:s.default.func.isRequired,prefix:s.default.node,suffix:s.default.node,autoFocus:s.default.bool};var d=c;t.default=d},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=l(a(1)),n=l(a(90)),s=l(a(3));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(){return r.default.createElement("section",{className:"categories",role:"navigation"},r.default.createElement("h2",null,"More Ideas"),r.default.createElement("ul",null,n.default.map(function({avatarUrl:e,color:t,id:a,name:n,url:l}){return r.default.createElement("li",{key:a},r.default.createElement(s.default,{className:"category-box-link",to:`/${l}`},r.default.createElement("div",{className:"category-box centered",style:{backgroundColor:t}},r.default.createElement("img",{src:e,alt:n})),r.default.createElement("div",{className:"category-box-label centered",style:{backgroundColor:t}},n)))})))};t.default=i},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=u(a(298)),n=u(a(1)),s=u(a(0)),l=u(a(5)),i=a(10);function u(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.reduce(function(e,a){return Object.assign({},e,{[a]:t})},{})}class c extends n.default.Component{constructor(e){super(e),this.state={}}async loadProjects(...e){if(!e.length)return;const{data:t}=await this.props.api.get(`projects/byIds?ids=${e.join(",")}`),a=t.map(function(e){return(0,l.default)(e).asProps()});var r;this.setState((r="id",a.reduce(function(e,t){return Object.assign({},e,{[t[r]]:t})},{})))}ensureProjects(e){var t=this;const a=e.map(function({id:e}){return e}),n=Object.keys(this.state).filter(function(e){return t.state[e]&&!a.includes(e)});n.length&&this.setState(o(n,void 0));const s=a.filter(function(e){return void 0===t.state[e]});s.length&&(this.setState(o(s,null)),(0,r.default)(s,100).forEach(function(e){return t.loadProjects(...e)}))}componentDidMount(){this.ensureProjects(this.props.projects)}componentDidUpdate(){this.ensureProjects(this.props.projects)}render(){var e=this;const{children:t,projects:a}=this.props,r=a.map(function(t){return e.state[t.id]||t});return n.default.createElement(i.CurrentUserConsumer,null,function(a){return t((0,i.normalizeProjects)(r,a),e.loadProjects.bind(e))})}}c.propTypes={api:s.default.any.isRequired,children:s.default.func.isRequired,projects:s.default.array.isRequired};var d=c;t.default=d},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=l(a(1)),n=l(a(0)),s=l(a(19));function l(e){return e&&e.__esModule?e:{default:e}}const i=function({children:e}){return r.default.createElement(s.default,null,function({createErrorNotification:t}){return e({handleError:function(e){return function(e,t){return console.error(t),e(),Promise.reject(t)}(t,e)},handleErrorForInput:function(e){return function(e,t){return t&&t.response&&t.response.data?Promise.reject(t.response.data.message):(console.error(t),e(),Promise.reject())}(t,e)}})})};i.propTypes={children:n.default.func.isRequired};var u=i;t.default=u},function(e,t,a){"use strict";t.__esModule=!0,t.AdminOnlyBadge=t.WhitelistedDomainIcon=t.VerifiedBadge=t.TeamMarketing=void 0;var r=i(a(40)),n=i(a(1)),s=i(a(0)),l=i(a(3));function i(e){return e&&e.__esModule?e:{default:e}}t.TeamMarketing=function(){return n.default.createElement("section",{className:"team-marketing"},n.default.createElement("p",null,n.default.createElement("img",{className:"for-platforms-icon",src:"https://cdn.glitch.com/be1ad2d2-68ab-404a-82f4-6d8e98d28d93%2Ffor-platforms-icon.svg?1506442305188",alt:"fishing emoji"}),"Want your own team page, complete with detailed app analytics?"),n.default.createElement(l.default,{to:"/teams",className:"button button-link has-emoji"},"About Teams ",n.default.createElement("span",{className:"emoji fishing_pole",role:"img","aria-label":"emoji"})))};t.VerifiedBadge=function(){const e="Verified to be supportive, helpful people";return n.default.createElement("span",{"data-tooltip":e},n.default.createElement("img",{className:"verified",src:"https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fverified.svg?1501783108220",alt:e}))};t.WhitelistedDomainIcon=class extends n.default.Component{constructor(e){super(e),this.state={src:null}}load(){this.setState({src:"https://favicon-fetcher.glitch.me/img/"+this.props.domain})}componentDidMount(){this.load(),this.load=(0,r.default)(this.load.bind(this),250)}componentDidUpdate(e){e.domain!==this.props.domain&&(this.setState({src:null}),this.load())}componentWillUnmount(){this.load.cancel()}render(){var e=this;const{domain:t}=this.props;return this.state.src?n.default.createElement("img",{className:"whitelisted-domain",alt:t,src:this.state.src,onError:function(){return e.setState({src:null})}}):n.default.createElement("div",{className:"whitelisted-domain","aria-label":t},t[0].toUpperCase())}};const u=function(e){let t=Object.assign({},e);return n.default.createElement(n.default.Fragment,null,!1===t.currentUserIsTeamAdmin&&n.default.createElement("div",{className:"status-badge"},n.default.createElement("span",{className:"status admin"},"Admin")))};t.AdminOnlyBadge=u,u.propTypes={currentUserIsTeamAdmin:s.default.bool.isRequired}},,,,,,,,,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=l(a(1)),n=l(a(0)),s=a(29);function l(e){return e&&e.__esModule?e:{default:e}}class i extends r.default.Component{constructor(e){super(e),this.state={error:null}}componentDidCatch(e){console.error(e),(0,s.captureException)(e),this.setState({error:e})}render(){const{children:e,fallback:t}=this.props,{error:a}=this.state;return a?t:e}}t.default=i,i.propTypes={children:n.default.node.isRequired,fallback:n.default.node},i.defaultProps={fallback:"Something went wrong, try refreshing?"}},,function(e,t,a){"use strict";t.__esModule=!0,t.default=t.UserPref=t.UserPrefsProvider=void 0;var r=l(a(1)),n=l(a(0)),s=l(a(87));function l(e){return e&&e.__esModule?e:{default:e}}const{Provider:i,Consumer:u}=r.default.createContext(),o=function({children:e}){return r.default.createElement(s.default,{name:"community-userPrefs",default:{}},function(t,a){return r.default.createElement(i,{value:{prefs:t,set:a}},e)})};t.UserPrefsProvider=o,o.propTypes={children:n.default.node.isRequired};const c=function(e){let{children:t,name:a}=e,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["children","name"]);return r.default.createElement(u,null,function({prefs:e,set:r}){return t(void 0!==e[a]?e[a]:n.default,function(t){return r(Object.assign({},e,{[a]:t}))})})};t.UserPref=c,c.propTypes={children:n.default.func.isRequired,name:n.default.string.isRequired,default:n.default.any.isRequired};var d=c;t.default=d},,,function(e,t,a){"use strict";t.__esModule=!0,t.default=function(){return r.default.createElement(l.default,null,function({togglePopover:e,visible:t}){return r.default.createElement("div",{className:"button-wrap"},r.default.createElement("button",{className:"button button-small",onClick:e},"Sign in"),t&&r.default.createElement(o,null))})},t.SignInPop=void 0;var r=i(a(1)),n=i(a(0)),s=i(a(3)),l=i(a(14));function i(e){return e&&e.__esModule?e:{default:e}}const u=function(e){return r.default.createElement(s.default,{className:"button button-small button-link has-emoji",to:e.href},"Sign in with ",e.company," ",r.default.createElement("span",{className:`emoji ${e.emoji}`}))},o=function({header:e,prompt:t,params:a}){return r.default.createElement("div",{className:"pop-over sign-in-pop"},e,r.default.createElement("section",{className:"pop-over-actions last-section"},t,r.default.createElement(u,{href:function(e){const t=new URLSearchParams;return t.append("client_id",FACEBOOK_CLIENT_ID),t.append("scope","email"),t.append("redirect_uri",`${APP_URL}/login/facebook?${e||""}`),`https://www.facebook.com/v2.9/dialog/oauth?${t}`}(a),company:"Facebook",emoji:"facebook"}),r.default.createElement(u,{href:function(e){const t=new URLSearchParams;return t.append("client_id",GITHUB_CLIENT_ID),t.append("scope","user:email"),t.append("redirect_uri",`${APP_URL}/login/github?${e||""}`),`https://github.com/login/oauth/authorize?${t}`}(a),company:"GitHub",emoji:"octocat"})))};t.SignInPop=o,o.propTypes={header:n.default.node,prompt:n.default.node,params:n.default.string}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=i(a(1)),n=i(a(0)),s=a(5),l=a(33);function i(e){return e&&e.__esModule?e:{default:e}}const u=function({id:e,domain:t,description:a,users:n,action:i,isActive:u}){var o="button-unstyled result ";return u&&(o+=" active"),r.default.createElement("button",{className:o,onClick:i},r.default.createElement("img",{className:"avatar",src:(0,s.getAvatarUrl)(e),alt:`Project avatar for ${t}`}),r.default.createElement("div",{className:"result-name",title:t},t),a.length>0&&r.default.createElement("div",{className:"result-description"},a),n.length>0&&r.default.createElement(l.StaticUsersList,{users:n}))};u.propTypes={action:n.default.func.isRequired,domain:n.default.string.isRequired,description:n.default.string.isRequired,id:n.default.string.isRequired,users:n.default.array.isRequired,isActive:n.default.bool};var o=u;t.default=o},,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=s(a(1)),n=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}const l=function({name:e}){return r.default.createElement("section",null,r.default.createElement("p",null,"we didn't find ",e),r.default.createElement("img",{src:"https://cdn.gomix.com/us-east-1%3Acba180f4-ee65-4dfc-8dd5-f143280d3c10%2Fcat.svg",alt:""}))};l.propTypes={name:n.default.string.isRequired};var i=l;t.default=i},function(e,t,a){"use strict";t.__esModule=!0,t.AuthDescription=t.StaticDescription=void 0;var r=u(a(1)),n=u(a(0)),s=u(a(308)),l=u(a(25)),i=a(97);function u(e){return e&&e.__esModule?e:{default:e}}class o extends r.default.Component{constructor(e){super(e),this.state={focused:!1},this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}onFocus(e){e.currentTarget===e.target&&this.setState({focused:!0})}onBlur(){this.setState({focused:!1})}render(){var e=this;const{description:t,placeholder:a}=this.props;return this.state.focused?r.default.createElement(s.default,{className:"description content-editable",value:t,onChange:function(t){return e.props.update(t.target.value)},onFocus:this.onFocus,onBlur:this.onBlur,placeholder:a,spellCheck:!1,autoFocus:!0}):r.default.createElement("p",{className:"description content-editable",placeholder:a,"aria-label":a,role:"textbox",tabIndex:0,onFocus:this.onFocus,onBlur:this.onBlur},r.default.createElement(l.default,null,t))}}o.propTypes={description:n.default.string.isRequired,placeholder:n.default.string,update:n.default.func.isRequired};const c=function({description:e,placeholder:t,update:a}){return r.default.createElement(i.OptimisticValue,{value:e,update:a},function({value:e,update:a}){return r.default.createElement(o,{description:e,update:a,placeholder:t})})};c.propTypes={description:n.default.string.isRequired,placeholder:n.default.string,update:n.default.func.isRequired};const d=function({description:e}){return e?r.default.createElement("p",{className:"description read-only"},r.default.createElement(l.default,null,e)):null};t.StaticDescription=d,d.propTypes={description:n.default.string.isRequired};const f=function({authorized:e,description:t,placeholder:a,update:n}){return e?r.default.createElement(c,{description:t,update:n,placeholder:a}):r.default.createElement(d,{description:t})};t.AuthDescription=f,f.propTypes={authorized:n.default.bool.isRequired,description:n.default.string.isRequired,placeholder:n.default.string,update:n.default.func.isRequired}},,function(e,t,a){"use strict";t.__esModule=!0,t.resizeImage=u,t.getDominantColor=function(e){const{width:t,height:a}=e,r=document.createElement("canvas");r.width=t,r.height=a;const s=r.getContext("2d");s.drawImage(e,0,0,t,a);let l=!1,i=[];const u=[],o=JSON.stringify([[255,255,255],[0,0,0]]);for(let n=0;n<11;n++)for(let e=0;e<11;e++){const t=s.getImageData(n,e,1,1).data,a=[t[0],t[1],t[2]],r=new RegExp(`(${a})`,"g");if(t[3]<255){l=!0;break}o.match(r)?u.push(a):i.push(a)}u.length>i.length&&(i=u);if(l)return null;const c=(0,n.default)(i,5),[d,f,m]=Array.from(c.palette()[0]);return`rgb(${d},${f},${m})`},t.requestFile=function(e){const t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=function(t){const a=t.target.files[0];console.log("â˜”ï¸â˜”ï¸â˜”ï¸ input onchange",a),e(a)},t.click(),console.log("input created: ",t)},t.getUserCoverImagePolicy=function(e,t){return e.get(`users/${t}/cover/policy`)},t.getTeamAvatarImagePolicy=function(e,t){return e.get(`teams/${t}/avatar/policy`)},t.getTeamCoverImagePolicy=function(e,t){return e.get(`teams/${t}/cover/policy`)},t.uploadAsset=o,t.uploadAssetSizes=function(e,t,a,r){const n=o(e,t,"original");n.progress(r);const s=Object.keys(a).map(function(r){return u(e,a[r]).then(function(e){return o(e,t,r)})});return Promise.all([n,...s])},t.blobToImage=t.AVATAR_SIZES=t.COVER_SIZES=void 0;var r=s(a(334)),n=s(a(336));function s(e){return e&&e.__esModule?e:{default:e}}t.COVER_SIZES={large:1e3,medium:700,small:450};t.AVATAR_SIZES={large:300,medium:150,small:60};const l=function(e){return new Promise(function(t,a){const r=new Image;return r.onload=function(){return t(r)},r.onerror=a,r.src=URL.createObjectURL(e)})};t.blobToImage=l;const i=function(e,t,a){let{width:r,height:n}=e;let s=document.createElement("canvas");for(s.width=r,s.height=n,s.getContext("2d").drawImage(e,0,0,r,n);r>a&&n>a;){r*=.75,n*=.75;const e=document.createElement("canvas"),t=e.getContext("2d");e.width=r,e.height=n,t.drawImage(s,0,0,r,n),s=e}return new Promise(function(e){return s.toBlob(function(t){return t.width=r,t.height=n,e(t)},t,.92)})};function u(e,t){return l(e).then(function(a){return e.width=a.width,e.height=a.height,a.width<t&&a.height<t?e:i(a,e.type,t)})}function o(e,t,a){return(0,r.default)(t).upload({key:a,blob:e})}},,,,,,,,,,,,,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=s(a(1)),n=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}class l extends r.default.Component{constructor(e){super(e),this.state={value:void 0,loaded:!1},this.handleStorage=this.handleStorage.bind(this)}handleStorage(){let e=void 0;try{const a=window.localStorage.getItem(this.props.name);null!==a&&(e=JSON.parse(a))}catch(t){console.error("Failed to read from localStorage!",t),e=void 0}this.setState({value:e,loaded:!0})}componentDidMount(){this.props.ignoreChanges||window.addEventListener("storage",this.handleStorage,{passive:!0}),this.handleStorage()}componentWillUnmount(){window.removeEventListener("storage",this.handleStorage,{passive:!0})}set(e){try{void 0!==e?window.localStorage.setItem(this.props.name,JSON.stringify(e)):window.localStorage.removeItem(this.props.name)}catch(t){console.error("Failed to write to localStorage!",t)}this.setState({value:e})}render(){return this.props.children(void 0!==this.state.value?this.state.value:this.props.default,this.set.bind(this),this.state.loaded)}}t.default=l,l.propTypes={children:n.default.func.isRequired,name:n.default.string.isRequired,default:n.default.any,ignoreChanges:n.default.bool}},function(e,t,a){"use strict";t.__esModule=!0,t.default=t.DevToggles=t.DevTogglesProvider=void 0;var r=l(a(1)),n=l(a(0)),s=a(59);function l(e){return e&&e.__esModule?e:{default:e}}const{Provider:i,Consumer:u}=r.default.createContext(),o=[{name:"Magic Beans",description:"I'm a placeholder for a future toggle"},{name:"Unlimited Emojis",description:"I'm a placeholder for a future toggle"},{name:"Peace of Mind",description:"I'm a placeholder for a future toggle"}].splice(0,3),c=function({children:e}){return r.default.createElement(s.UserPref,{name:"devToggles",default:[]},function(t,a){return r.default.createElement(i,{value:{enabledToggles:t,toggleData:o,setEnabledToggles:a}},e)})};t.DevTogglesProvider=c,c.propTypes={children:n.default.node.isRequired};const d=function({children:e}){return r.default.createElement(u,null,function({enabledToggles:t,toggleData:a,setEnabledToggles:r}){return e(t||[],a,r)})};t.DevToggles=d,d.propTypes={children:n.default.func.isRequired};var f=d;t.default=f},,,,,,,,,function(e,t,a){"use strict";t.__esModule=!0,t.OptimisticValue=void 0;var r=l(a(40)),n=l(a(1)),s=l(a(0));function l(e){return e&&e.__esModule?e:{default:e}}class i extends n.default.Component{constructor(e){super(e),this.state={value:null,error:null},this.onChange=this.onChange.bind(this),this.update=(0,r.default)(this.update.bind(this),500)}async update(e){try{await this.props.update(e),this.setState(function(e,t){return e.value===t.value?{value:null,error:null}:{error:null}})}catch(t){this.setState(function(a,r){return a.value!==e?{}:r.resetOnError?{error:t,value:null}:{error:t}})}}onChange(e){this.update(e.trim()),this.setState({value:e})}render(){return this.props.children({value:null!==this.state.value?this.state.value:this.props.value,error:this.state.error,update:this.onChange})}}t.OptimisticValue=i,i.propTypes={value:s.default.string.isRequired,update:s.default.func.isRequired,resetOnError:s.default.bool},i.defaultProps={resetOnError:!0}},function(e,t,a){"use strict";t.__esModule=!0,t.UserAvatar=t.TeamAvatar=t.Avatar=void 0;var r=i(a(1)),n=i(a(0)),s=a(13),l=a(8);function i(e){return e&&e.__esModule?e:{default:e}}const u=function({name:e,src:t,color:a,srcFallback:n}){return r.default.createElement("div",{"data-tooltip":e,"data-tooltip-left":"true"},r.default.createElement("img",{width:"32px",height:"32px",src:t,alt:e,style:a?{backgroundColor:a}:null,onError:n?function(e){return e.target.src=n}:null}))};t.Avatar=u,u.propTypes={name:n.default.string.isRequired,src:n.default.string.isRequired,srcFallback:n.default.string,color:n.default.string};const o=function({team:e}){return r.default.createElement(u,{name:e.name,src:(0,s.getAvatarUrl)(Object.assign({},e,{size:"small"})),srcFallback:s.DEFAULT_TEAM_AVATAR})};t.TeamAvatar=o,o.propTypes={team:n.default.shape({id:n.default.number.isRequired,name:n.default.string.isRequired,hasAvatarImage:n.default.bool.isRequired}).isRequired};const c=function({user:e,suffix:t=""}){return r.default.createElement(u,{name:(0,l.getDisplayName)(e)+t,src:(0,l.getAvatarThumbnailUrl)(e),color:e.color,srcFallback:l.ANON_AVATAR_URL})};t.UserAvatar=c,c.propTypes={user:n.default.shape({id:n.default.number.isRequired,login:n.default.string,name:n.default.string,avatarThumbnailUrl:n.default.string,color:n.default.string.isRequired}).isRequired,suffix:n.default.string}},,,,,,,,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=c(a(292)),n=c(a(1)),s=c(a(0)),l=c(a(110)),i=c(a(57)),u=c(a(3)),o=c(a(293));function c(e){return e&&e.__esModule?e:{default:e}}const d=["å…«(ï¼¾â–¡ï¼¾*)","(ãƒŽ^_^)ãƒŽ","ãƒ½(*ï¾Ÿï½°ï¾Ÿ*)ï¾‰","â™ª(â”Œãƒ»ã€‚ãƒ»)â”Œ","ãƒ½(à¹âˆ€à¹ )ï¾‰","ãƒ½(^ã€‚^)ä¸¿"],f=function({animating:e,callback:t}){return n.default.createElement("div",{className:"loader-pie",title:"Looking for more questions..."},n.default.createElement("div",{className:"left-side"},n.default.createElement("div",{className:`slice ${e?"animated":""}`,onAnimationEnd:t})),n.default.createElement("div",{className:"right-side"},n.default.createElement("div",{className:`slice ${e?"animated":""}`})))};f.propTypes={animating:s.default.bool.isRequired,callback:s.default.func.isRequired};class m extends n.default.Component{constructor(e){super(e),this.state={kaomoji:"",loading:!0,questions:[]}}async load(){this.setState({loading:!0});try{const{data:t}=await this.props.api.get("projects/questions"),a=t.map(function(e){return JSON.parse(e.details)}).filter(function(e){return!!e}).slice(0,this.props.max).map(function(e){const[t,a]=(0,l.default)({luminosity:"light",count:2});return Object.assign({colorInner:t,colorOuter:a},e)});this.setState({kaomoji:(0,r.default)(d),questions:a})}catch(e){console.error(e)}this.setState({loading:!1})}componentDidMount(){this.load()}render(){var e=this;const{kaomoji:t,loading:a,questions:r}=this.state;return n.default.createElement("section",{className:"questions"},n.default.createElement("h2",null,n.default.createElement(u.default,{to:"/questions"},"Help Others, Get Thanks â†’")," ",n.default.createElement(f,{animating:!a,callback:function(){return e.load()}})),n.default.createElement("article",{className:"projects"},r.length?n.default.createElement(i.default,null,n.default.createElement("ul",{className:"projects-container"},r.map(function(e){return n.default.createElement("li",{key:e.questionId},n.default.createElement(o.default,e))}))):n.default.createElement(n.default.Fragment,null,t," Looks like nobody is asking for help right now."," ",n.default.createElement(u.default,{className:"general-link",to:"/help/how-can-i-get-help-with-code-in-my-project/"},"Learn about helping"))))}}m.propTypes={api:s.default.any.isRequired,max:s.default.number},m.defaultProps={max:3};var p=m;t.default=p},,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=l(a(1)),n=l(a(0)),s=a(15);function l(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const u=function(e,t,a){const r=Math.random()*e.width,n=Math.random()*e.height;t.fillStyle=a,t.fillRect(r,n,2,2)};class o extends r.default.Component{constructor(e){super(e),this.state={width:0,height:0},this.canvas=r.default.createRef(),this.handleResize=this.handleResize.bind(this),this.interval=null}componentDidUpdate(){var e=this;const{width:t,height:a}=this.state,r=Math.round(t*a/15e3),n=Math.round(t*a/3500),s=this.canvas.current.getContext("2d");for(let i=0;i<r;++i)u(this.canvas.current,s,"white");let l=n-r;window.clearInterval(this.interval),this.interval=window.setInterval(function(){u(e.canvas.current,s,"#CB82C0"),--l<=0&&window.clearInterval(e.interval)},100)}handleResize(){const e=Math.max(window.innerWidth,screen.width),t=Math.max(window.innerHeight,screen.height);(e>this.state.width||t>this.state.height)&&this.setState({width:e,height:t})}componentDidMount(){window.addEventListener("resize",this.handleResize),this.handleResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),window.clearInterval(this.interval),this.interval=null}render(){return r.default.createElement("canvas",i({id:"stars"},this.state,{ref:this.canvas}))}}const c=function({title:e,description:t}){return r.default.createElement("div",{className:"content error-page"},r.default.createElement(s.Helmet,null,r.default.createElement("title",null,e)),r.default.createElement("div",{className:"container"},r.default.createElement("h1",null,e),r.default.createElement("h2",null,t),r.default.createElement("div",{className:"actions"},r.default.createElement("a",{href:"/"}," ",r.default.createElement("img",{src:"https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Fcarp.svg",width:"80px",height:"66px",alt:"Glitch"}))),r.default.createElement(o,null)))};c.propTypes={title:n.default.string.isRequired,description:n.default.string.isRequired};var d=c;t.default=d},function(e,t,a){"use strict";t.__esModule=!0,t.default=t.TeamsList=void 0;var r=i(a(1)),n=i(a(0)),s=a(3),l=a(98);function i(e){return e&&e.__esModule?e:{default:e}}const u=function({teams:e}){return r.default.createElement("ul",{className:"users"},e.map(function(e){return r.default.createElement("li",{key:e.id},r.default.createElement(s.TeamLink,{team:e,className:"user","data-tooltip":e.name,"data-tooltip-left":"true"},r.default.createElement(l.TeamAvatar,{team:e})))}))};t.TeamsList=u,u.propTypes={teams:n.default.arrayOf(n.default.shape({id:n.default.number.isRequired,name:n.default.string.isRequired,url:n.default.string.isRequired}))};var o=u;t.default=o},,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=i(a(1)),n=i(a(0)),s=a(71),l=i(a(19));function i(e){return e&&e.__esModule?e:{default:e}}const u=function({progress:e}){return r.default.createElement(r.default.Fragment,null,"Uploading asset",r.default.createElement("progress",{className:"notify-progress",value:e}))},o=function(){return"File upload failed. Try again in a few minutes?"};async function c(e,t){let a=null,n=0;const{updateNotification:s,removeNotification:l}=e.createPersistentNotification(r.default.createElement(u,{progress:n}),"notifyUploading");try{a=await t(function({lengthComputable:e,loaded:t,total:a}){n=e?t/a:(n+1)/2,s(r.default.createElement(u,{progress:n}))})}catch(i){throw e.createErrorNotification(r.default.createElement(o,null)),i}finally{l(),e.createNotification("Image uploaded!")}return a}const d=function({children:e}){return r.default.createElement(l.default,null,function(t){return e({uploadAsset:function(e,a,r){return c(t,function(t){return(0,s.uploadAsset)(e,a,r,t)})},uploadAssetSizes:function(e,a,r){return c(t,function(t){return(0,s.uploadAssetSizes)(e,a,r,t)})}})})};d.propTypes={children:n.default.func.isRequired};var f=d;t.default=f},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=i(a(348)),n=i(a(1)),s=i(a(0)),l=i(a(26));function i(e){return e&&e.__esModule?e:{default:e}}const u=function({projects:e,pins:t,isAuthorized:a,addPin:s,removePin:i,projectOptions:u}){const o=new Set(t.map(function({projectId:e}){return e})),[c,d]=(0,r.default)(e,function({id:e}){return o.has(e)}),f=(a||c.length)&&e.length,m=n.default.createElement(n.default.Fragment,null,"Pinned Projects",n.default.createElement("span",{className:"emoji pushpin emoji-in-title"}));return n.default.createElement(n.default.Fragment,null,!!f&&!!c.length&&n.default.createElement(l.default,{title:m,projects:c,projectOptions:a?Object.assign({removePin:i},u):{}}),!!d.length&&n.default.createElement(l.default,{title:"Recent Projects",projects:d,projectOptions:a?Object.assign({addPin:s},u):{}}))};u.propTypes={isAuthorized:s.default.bool.isRequired,projects:s.default.array.isRequired,pins:s.default.arrayOf(s.default.shape({projectId:s.default.string.isRequired}).isRequired).isRequired,addPin:s.default.func.isRequired,removePin:s.default.func.isRequired,projectOptions:s.default.object.isRequired};var o=u;t.default=o},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(29);a(159);var n=i(a(1)),s=a(51),l=i(a(165));function i(e){return e&&e.__esModule?e:{default:e}}!function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a])}({a:1,b:2},["a"]);const[u,...o]=[1,2,3];!function(e,...t){e(...t)}(async function(e){return await e},Promise.resolve()),new URLSearchParams,window.bootstrap=function(){if(location.hash.startsWith("#!/"))return void window.location.replace(EDITOR_URL+window.location.hash);(0,r.configureScope)(function(e){e.setTag("bootstrap","true")});const e=document.createElement("div");document.body.appendChild(e),(0,s.render)(n.default.createElement(l.default,null),e)}},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a(160),String.prototype.trimStart||(String.prototype.trimStart=String.prototype.trimLeft),String.prototype.trimEnd||(String.prototype.trimEnd=String.prototype.trimRight)},,,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=d(a(1)),n=a(16),s=d(a(57)),l=a(10),i=a(59),u=a(88),o=a(19),c=d(a(186));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){return r.default.createElement(s.default,{fallback:"Something went very wrong, try refreshing?"},r.default.createElement(n.BrowserRouter,null,r.default.createElement(o.Notifications,null,r.default.createElement(i.UserPrefsProvider,null,r.default.createElement(u.DevTogglesProvider,null,r.default.createElement(l.CurrentUserProvider,null,function(e){return r.default.createElement(c.default,{api:e})}))))))};t.default=f},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=b(a(1)),n=b(a(0)),s=a(16),l=b(a(15)),i=b(a(90)),u=b(a(194)),o=a(10),c=b(a(195)),d=a(302),f=b(a(303)),m=b(a(304)),p=b(a(305)),h=a(331),g=b(a(435)),v=b(a(439)),E=b(a(112)),y=b(a(440));function b(e){return e&&e.__esModule?e:{default:e}}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const R=function(e,t){return new URLSearchParams(e).get(t)},N=function(){return r.default.createElement(r.default.Fragment,null,r.default.createElement(E.default,{title:"Page Not Found",description:"Maybe a typo? Or perhaps it's moved?"}),r.default.createElement(l.default,null,r.default.createElement("title",null,"ðŸ‘» Page not found")," "))};class P extends r.default.Component{componentDidUpdate(e){this.props.location.key!==e.location.key&&(window.scrollTo(0,0),this.props.reloadCurrentUser())}render(){return null}}const w=(0,s.withRouter)(function({location:e}){return r.default.createElement(o.CurrentUserConsumer,null,function(t,a,{reload:n}){return r.default.createElement(P,{location:e,reloadCurrentUser:n})})}),T=function({api:e}){return r.default.createElement(r.default.Fragment,null,r.default.createElement(w,null),r.default.createElement(s.Switch,null,r.default.createElement(s.Route,{path:"/",exact:!0,render:function({location:t}){return r.default.createElement(c.default,{key:t.key,api:e})}}),r.default.createElement(s.Route,{path:"/index.html",exact:!0,strict:!0,render:function({location:t}){return r.default.createElement(c.default,{key:t.key,api:e})}}),r.default.createElement(s.Route,{path:"/login/facebook",exact:!0,render:function({location:t}){return r.default.createElement(d.FacebookLoginPage,{key:t.key,api:e,code:R(t.search,"code"),hash:R(t.search,"hash")})}}),r.default.createElement(s.Route,{path:"/login/github",exact:!0,render:function({location:t}){return r.default.createElement(d.GitHubLoginPage,{key:t.key,api:e,code:R(t.search,"code"),hash:R(t.search,"hash")})}}),r.default.createElement(s.Route,{path:"/join/@:teamUrl/:joinToken",exact:!0,render:function({match:t}){return r.default.createElement(f.default,j({key:location.key,api:e},t.params))}}),r.default.createElement(s.Route,{path:"/questions",exact:!0,render:function({location:t}){return r.default.createElement(m.default,{key:t.key,api:e})}}),r.default.createElement(s.Route,{path:"/~:name",exact:!0,render:function({location:t,match:a}){return r.default.createElement(p.default,{key:t.key,api:e,name:a.params.name})}}),r.default.createElement(s.Route,{path:"/@:name",exact:!0,render:function({location:t,match:a}){return r.default.createElement(h.TeamOrUserPage,{key:t.key,api:e,name:a.params.name})}}),r.default.createElement(s.Route,{path:"/user/:id(\\d+)",exact:!0,render:function({location:t,match:a}){return r.default.createElement(h.UserPage,{key:t.key,api:e,id:parseInt(a.params.id,10),name:`user ${a.params.id}`})}}),Object.keys(u.default).map(function(t){return r.default.createElement(s.Route,{key:t,path:`/${t}`,exact:!0,render:function({location:a}){return r.default.createElement(h.TeamPage,{key:a.key,api:e,id:u.default[t],name:t})}})}),r.default.createElement(s.Route,{path:"/search",exact:!0,render:function({location:t}){return r.default.createElement(g.default,{key:t.key,api:e,query:R(t.search,"q")})}}),i.default.map(function(t){return r.default.createElement(s.Route,{key:t.url,path:`/${t.url}`,exact:!0,render:function({location:a}){return r.default.createElement(v.default,{key:a.key,api:e,category:t})}})}),r.default.createElement(s.Route,{path:"/secret",exact:!0,render:function({location:e}){return r.default.createElement(y.default,{key:e.key})}}),r.default.createElement(s.Route,{render:function({location:e}){return r.default.createElement(N,{key:e.key})}})))};T.propTypes={api:n.default.any.isRequired};var _=T;t.default=_},,,,,,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=h(a(1)),n=h(a(0)),s=h(a(23)),l=a(5),i=a(10),u=h(a(3)),o=h(a(42)),c=h(a(286)),d=h(a(291)),f=h(a(109)),m=h(a(294)),p=h(a(297));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){const t=document.createElement("script");t.src=e,t.async=!0,document.head.appendChild(t)}class v extends r.default.Component{componentDidMount(){g("//fast.wistia.com/embed/medias/i0m98yntdb.jsonp"),g("//fast.wistia.com/assets/external/E-v1.js")}render(){const e="Create a node app, or remix one. It updates as you type. Code with Friends!";return r.default.createElement("section",{className:"what-is-glitch"},r.default.createElement("h2",null,"How It Works"),r.default.createElement("span",null,r.default.createElement(u.default,{to:"/about"},r.default.createElement("figure",{title:"How Glitch works"},r.default.createElement("img",{className:"wide",src:"https://cdn.glitch.com/f7224274-1330-4022-a8f2-8ae09dbd68a8%2Fwhats-glitch-wide.svg?1499885209761",alt:e}),r.default.createElement("img",{className:"narrow",src:"https://cdn.glitch.com/f7224274-1330-4022-a8f2-8ae09dbd68a8%2Fwhats-glitch-narrow.svg?1499884900667",alt:e}))),r.default.createElement("div",null,"And it's ",r.default.createElement("img",{className:"free",src:"https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Ffree.svg?1499350845981",alt:"free"}),"."," ",r.default.createElement(d.default,null,r.default.createElement("div",{className:"button video"},r.default.createElement("img",{className:"play-button",src:"https://cdn.hyperdev.com/6ce807b5-7214-49d7-aadd-f11803bc35fd%2Fplay.svg",alt:"play"}),r.default.createElement("span",null,"How it works in 1 minute"))))))}}const E=function(){return r.default.createElement("section",{className:"made-in-glitch"},r.default.createElement("p",null,"Of course, this site was made on Glitch too"),r.default.createElement(u.default,{to:(0,l.getEditorUrl)("community"),className:"button button-link has-emoji"},"View Source ",r.default.createElement("span",{className:"emoji carp_streamer"})))},y=function({api:e,user:t}){return r.default.createElement("main",null,r.default.createElement("h1",{className:"headline"},r.default.createElement(u.default,{to:"https://glitch.com"},"Glitch")," ","is the friendly community where everyone can discover & create the best stuff on the web"),!(!t||!t.login)&&r.default.createElement(f.default,{api:e}),!(!t||!t.projects.length)&&r.default.createElement(p.default,{api:e}),r.default.createElement(c.default,null),r.default.createElement(m.default,{api:e}),r.default.createElement(o.default,null),!(t&&t.login)&&r.default.createElement(v,null),r.default.createElement(E,null))};y.propTypes={user:n.default.shape({id:n.default.number,login:n.default.string})};var b=function({api:e}){return r.default.createElement(s.default,{api:e},r.default.createElement(i.CurrentUserConsumer,null,function(t){return r.default.createElement(y,{api:e,user:t})}))};t.default=b},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=m(a(1)),n=m(a(0)),s=a(16),l=m(a(60)),i=m(a(3)),u=m(a(198)),o=m(a(62)),c=m(a(215)),d=m(a(216)),f=a(10);function m(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}class h extends r.default.PureComponent{constructor(e){super(e),this.state={hour:(new Date).getHours()}}componentDidMount(){var e=this;this.interval=window.setInterval(function(){e.setState({hour:(new Date).getHours()})},l.default.duration(5,"minutes").asMilliseconds())}componentWillUnmount(){window.clearInterval(this.interval)}render(){const{hour:e}=this.state;let t="https://cdn.gomix.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Flogo-day.svg";return e>=16&&e<=18?t="https://cdn.gomix.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Flogo-sunset.svg":(e>18||e<=8)&&(t="https://cdn.gomix.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Flogo-night.svg"),r.default.createElement("img",{className:"logo",src:t,alt:"Glitch"})}}const g=function(){return r.default.createElement(i.default,{className:"button button-small button-cta",to:EDITOR_URL,"data-track":"resume coding"},"Resume Coding")};class v extends r.default.Component{constructor(e){super(e),this.state={value:e.defaultValue||"",submitted:!1}}onChange(e){this.setState({value:e.target.value})}onSubmit(e){e.preventDefault(),this.state.value&&this.setState({submitted:!0})}render(){const{value:e,submitted:t}=this.state;return r.default.createElement("form",{action:"/search",method:"get",role:"search",onSubmit:this.onSubmit.bind(this)},r.default.createElement("input",{className:"search-input",name:"q",placeholder:"bots, apps, users",value:e,onChange:this.onChange.bind(this)}),t&&r.default.createElement(s.Redirect,{to:`/search?q=${e}`,push:!0}))}}v.propTypes={defaultValue:n.default.string};const E=function({api:e,maybeUser:t,clearUser:a,searchQuery:n,showNewStuffOverlay:s}){return r.default.createElement("header",{role:"banner"},r.default.createElement("div",{className:"header-info"},r.default.createElement(i.default,{to:"/"},r.default.createElement(h,null))),r.default.createElement("nav",null,r.default.createElement(v,{defaultValue:n}),r.default.createElement(c.default,{api:e}),t&&!!t.projects.length&&r.default.createElement(g,null),!(t&&t.login)&&r.default.createElement(o.default,null),t&&r.default.createElement(u.default,{user:t,signOut:a,showNewStuffOverlay:s,api:e})))};E.propTypes={maybeUser:n.default.object,api:n.default.func.isRequired};var y=function(e){let t=Object.assign({},e);return r.default.createElement(f.CurrentUserConsumer,null,function(e,a,{clear:n}){return r.default.createElement(d.default,{isSignedIn:!!e&&!!e.login},function(a){return r.default.createElement(E,p({},t,{maybeUser:e,clearUser:n,showNewStuffOverlay:a}))})})};t.default=y},function(e,t,a){var r={"./locale":91,"./locale.js":91};function n(e){var t=s(e);return a(t)}function s(e){var t=r[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id=197},function(e,t,a){"use strict";t.__esModule=!0,t.default=v;var r=d(a(1)),n=d(a(0)),s=a(13),l=a(8),i=a(3),u=d(a(14)),o=d(a(39)),c=d(a(202));function d(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const m=function({showCreateTeam:e,userIsAnon:t}){return t?r.default.createElement(r.default.Fragment,null,r.default.createElement("p",{className:"description action-description"},r.default.createElement("button",{onClick:e,className:"button-unstyled link"},"Sign in")," to create teams"),r.default.createElement("button",{className:"button button-small has-emoji button-tertiary",disabled:!0},"Create Team ",r.default.createElement("span",{className:"emoji herb"}))):r.default.createElement("button",{onClick:e,className:"button button-small has-emoji button-tertiary"},"Create Team ",r.default.createElement("span",{className:"emoji herb"}))};m.propTypes={showCreateTeam:n.default.func.isRequired,userIsAnon:n.default.bool.isRequired};const p=function({teams:e,showCreateTeam:t,userIsAnon:a}){return r.default.createElement("section",{className:"pop-over-actions"},r.default.createElement(m,{showCreateTeam:t,userIsAnon:a}),e.map(function(e){return r.default.createElement(i.TeamLink,{key:e.id,team:e,className:"button button-small has-emoji button-tertiary"},e.name,"Â ",r.default.createElement("img",{className:"emoji avatar",src:(0,s.getAvatarUrl)(Object.assign({},e,{size:"small"})),alt:"",width:"16px",height:"16px"}))}))};p.propTypes={teams:n.default.arrayOf(n.default.shape({hasAvatarImage:n.default.bool.isRequired,id:n.default.number.isRequired,name:n.default.string.isRequired,url:n.default.string.isRequired})),showCreateTeam:n.default.func.isRequired,userIsAnon:n.default.bool.isRequired};const h=function({togglePopover:e,showCreateTeam:t,user:a,signOut:n,showNewStuffOverlay:s}){const u=a.name||"Anonymous",o={backgroundColor:a.color};return r.default.createElement("dialog",{className:"pop-over user-options-pop"},r.default.createElement(i.UserLink,{user:a,className:"user-info"},r.default.createElement("section",{className:"pop-over-actions user-info"},r.default.createElement("img",{className:"avatar",src:(0,l.getAvatarThumbnailUrl)(a),alt:"Your avatar",style:o}),r.default.createElement("div",{className:"info-container"},r.default.createElement("p",{className:"name",title:u},u),a.login&&r.default.createElement("p",{className:"user-login",title:a.login},"@",a.login)))),r.default.createElement(p,{teams:a.teams,showCreateTeam:t,userIsAnon:!a.login}),r.default.createElement("section",{className:"pop-over-info"},r.default.createElement("button",{onClick:function(t){e(),s(),t.stopPropagation()},className:"button-small has-emoji button-tertiary button-on-secondary-background"},"New Stuff ",r.default.createElement("span",{className:"emoji dog-face"})),r.default.createElement(i.Link,{to:"https://support.glitch.com",className:"button button-small has-emoji button-tertiary button-on-secondary-background"},"Support ",r.default.createElement("span",{className:"emoji ambulance"})),r.default.createElement("button",{onClick:function(){(a.login||window.confirm("You won't be able to sign back in under this same anonymous account.\nAre you sure you want to sign out?"))&&(analytics.track("Logout"),analytics.reset(),n())},className:"button-small has-emoji button-tertiary button-on-secondary-background"},"Sign Out ",r.default.createElement("span",{className:"emoji balloon"}))))};h.propTypes={togglePopover:n.default.func.isRequired,showCreateTeam:n.default.func.isRequired,user:n.default.object.isRequired,signOut:n.default.func.isRequired,showNewStuffOverlay:n.default.func.isRequired};class g extends r.default.Component{constructor(e){super(e),this.state={active:"#create-team"===window.location.hash}}componentDidMount(){this.setState({active:!1})}render(){return this.props.children(this.state.active)}}function v(e){const t=(0,l.getAvatarThumbnailUrl)(e.user),a={backgroundColor:e.user.color};return r.default.createElement(g,null,function(n){return r.default.createElement(u.default,{startOpen:n},function({togglePopover:s,visible:l}){return r.default.createElement("div",{className:"button user-options-pop-button","data-tooltip":"User options","data-tooltip-right":"true"},r.default.createElement("button",{className:"user",onClick:s},r.default.createElement("img",{src:t,style:a,width:"30px",height:"30px",alt:"User options"}),r.default.createElement("span",{className:"down-arrow icon"})),l&&r.default.createElement(o.default,{alternateContent:function(){return r.default.createElement(c.default,e)},startAlternateVisible:n},function(t){return r.default.createElement(h,f({},e,{togglePopover:s,showCreateTeam:t}))}))})})}v.propTypes={user:n.default.shape({avatarThumbnailUrl:n.default.string,color:n.default.string.isRequired,id:n.default.number.isRequired,login:n.default.string,teams:n.default.array.isRequired}).isRequired,api:n.default.func.isRequired}},,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=h(a(203)),n=h(a(40)),s=h(a(1)),l=h(a(0)),i=h(a(81)),u=a(16),o=a(10),c=a(13),d=h(a(11)),f=a(39),m=a(41),p=a(62);function h(e){return e&&e.__esModule?e:{default:e}}const g=i.default.create({baseURL:"https://friendly-words.glitch.me/"});class v extends s.default.Component{constructor(e){super(e),this.state={teamName:"",isLoading:!1,error:""},this.debouncedValidate=(0,n.default)(this.validate.bind(this),200),this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}async componentDidMount(){try{const{data:t}=await g.get("team-pairs");this.setState(function(e){return e.teamName?{}:{teamName:t[0]}})}catch(e){}this.validate()}async validate(){const e=this.state.teamName;if(e){const a=(0,r.default)(e);let n=null;try{const{data:e}=await this.props.api.get(`userId/byLogin/${a}`);"NOT FOUND"!==e&&(n="Name in use, try another")}catch(t){if(!t.response||404!==t.response.status)throw t}try{const{data:e}=await this.props.api.get(`teams/byUrl/${a}`);e&&(n="Team already exists, try another")}catch(t){if(!t.response||404!==t.response.status)throw t}n&&this.setState(function({teamName:t}){return e===t?{error:n}:{}})}}async handleChange(e){this.setState({teamName:e,error:""}),this.debouncedValidate()}async handleSubmit(e){e.preventDefault(),this.setState({isLoading:!0});try{let e="A team that makes things";try{const{data:a}=await g.get("predicates");e=`A ${a[0]} team that makes ${a[1]} things`}catch(t){}const{data:a}=await this.props.api.post("teams",{name:this.state.teamName,url:(0,r.default)(this.state.teamName),hasAvatarImage:!1,coverColor:"",location:"",description:e,backgroundColor:"",hasCoverImage:!1,isVerified:!1});this.props.history.push((0,c.getLink)(a))}catch(t){const e=t&&t.response&&t.response.data&&t.response.data.message;this.setState({isLoading:!1,error:e||"Something went wrong"})}}render(){return s.default.createElement("dialog",{className:"pop-over create-team-pop"},s.default.createElement(f.NestedPopoverTitle,null,"Create Team ",s.default.createElement("span",{className:"emoji herb"})),s.default.createElement("section",{className:"pop-over-info"},s.default.createElement("p",{className:"info-description"},"Showcase your projects in one place, manage collaborators, and view analytics")),s.default.createElement("section",{className:"pop-over-actions"},s.default.createElement("form",{onSubmit:this.handleSubmit},s.default.createElement(m.PureEditableField,{value:this.state.teamName,update:this.handleChange,placeholder:"Your Team Name",error:this.state.error}),s.default.createElement("p",{className:"action-description team-url-preview"},"/@",(0,r.default)(this.state.teamName||"Your Team Name")),this.state.isLoading?s.default.createElement(d.default,null):s.default.createElement("button",{type:"submit",className:"button-small has-emoji"},"Create Team ",s.default.createElement("span",{className:"emoji thumbs_up"})))),s.default.createElement("section",{className:"pop-over-info"},s.default.createElement("p",{className:"info-description"},"You can change this later")))}}v.propTypes={api:l.default.func.isRequired};const E=(0,u.withRouter)(v);var y=function({api:e}){return s.default.createElement(o.CurrentUserConsumer,null,function(t){return t&&t.login?s.default.createElement(E,{api:e}):s.default.createElement(p.SignInPop,{params:"hash=create-team",header:s.default.createElement(f.NestedPopoverTitle,null,"Sign In"),prompt:s.default.createElement("p",{className:"action-description"},"You'll need to sign in to create a team")})})};t.default=y},,,,,,,,,,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=c(a(1)),n=c(a(0)),s=c(a(3)),l=c(a(11)),i=c(a(63)),u=c(a(14)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(5));function c(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const f=function({projects:e}){return r.default.createElement("div",{className:"pop-over new-project-pop"},r.default.createElement("section",{className:"pop-over-actions results-list"},r.default.createElement("div",{className:"results"},e.length?e.map(function(e){return r.default.createElement(s.default,{key:e.id,to:(0,o.getRemixUrl)(e.domain)},r.default.createElement(i.default,d({},e,{users:[],action:function(){analytics.track("New Project Clicked",{baseDomain:e.domain,origin:"community new project pop"})}})))}):r.default.createElement(l.default,null))))};f.propTypes={projects:n.default.arrayOf(n.default.shape({id:n.default.string.isRequired,domain:n.default.string.isRequired})).isRequired};class m extends r.default.Component{constructor(e){super(e),this.state={projects:[]}}async load(){const{data:e}=await this.props.api.get(`projects/byIds?ids=${["a0fcd798-9ddf-42e5-8205-17158d4bf5bb","cb519589-591c-474f-8986-a513f22dbf88","929980a8-32fc-4ae7-a66f-dddb3ae4912c"].join(",")}`),t=e.map(function(e){return(0,o.default)(e).update(e).asProps()});this.setState({projects:t})}componentDidMount(){this.load()}render(){var e=this;return r.default.createElement(u.default,null,function({visible:t,togglePopover:a}){return r.default.createElement("div",{className:"button-wrap"},r.default.createElement("button",{className:"button-small","data-track":"open new-project pop",onClick:a},"New Project"),t&&r.default.createElement(f,{projects:e.state.projects}))})}}m.propTypes={api:n.default.any.isRequired};var p=m;t.default=p},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=c(a(1)),n=c(a(0)),s=c(a(3)),l=c(a(25)),i=c(a(14)),u=c(a(59)),o=c(a(280));function c(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const f=Math.max(...o.default.map(function({id:e}){return e})),m=function({setShowNewStuff:e,showNewStuff:t,newStuff:a}){return r.default.createElement("dialog",{className:"pop-over overlay new-stuff-overlay overlay-narrow",open:!0},r.default.createElement("section",{className:"pop-over-info"},r.default.createElement("figure",{className:"new-stuff-avatar"}),r.default.createElement("div",{className:"overlay-title"},"New Stuff"),r.default.createElement("div",null,r.default.createElement("label",{className:"button button-small",htmlFor:"showNewStuff"},r.default.createElement("input",{id:"showNewStuff",className:"button-checkbox",type:"checkbox",checked:t,onChange:function(t){return e(t.target.checked)}}),"Keep showing me these"))),r.default.createElement("section",{className:"pop-over-actions"},a.map(function({id:e,title:t,body:a,link:n}){return r.default.createElement("article",{key:e},r.default.createElement("div",{className:"title"},t),r.default.createElement("div",{className:"body"},r.default.createElement(l.default,null,a)),!!n&&r.default.createElement("p",null,r.default.createElement(s.default,{className:"link",to:n},"Read the blog post â†’")))})))};m.propTypes={setShowNewStuff:n.default.func.isRequired,showNewStuff:n.default.bool.isRequired,newStuff:n.default.arrayOf(n.default.shape({id:n.default.number.isRequired,title:n.default.string.isRequired,body:n.default.string.isRequired,link:n.default.string}).isRequired).isRequired};class p extends r.default.Component{constructor(e){super(e),this.state={log:o.default}}showNewStuff(e){var t=this;e(!0);const a=o.default.filter(function({id:e}){return e>t.props.newStuffReadId});this.setState({log:a.length?a:o.default}),this.props.setNewStuffReadId(f)}renderOuter({visible:e,setVisible:t}){var a=this;const{children:n,isSignedIn:s,showNewStuff:l,newStuffReadId:i}=this.props,u=s&&l&&i<f,o=function(){return a.showNewStuff(t)};return r.default.createElement(r.default.Fragment,null,n(o),u&&r.default.createElement("div",{className:"new-stuff-footer"},r.default.createElement("button",{className:"button-unstyled new-stuff opens-pop-over",onClick:o},r.default.createElement("figure",{className:"new-stuff-avatar","data-tooltip":"New","data-tooltip-top":"true","data-tooltip-persistent":"true",alt:"New Stuff"}))),e&&r.default.createElement("div",{className:"overlay-background",role:"presentation"}))}render(){var e=this;return r.default.createElement(i.default,{outer:this.renderOuter.bind(this)},function({visible:t}){return t?r.default.createElement(m,d({},e.props,{newStuff:e.state.log})):null})}}p.propTypes={children:n.default.func.isRequired,isSignedIn:n.default.bool.isRequired,showNewStuff:n.default.bool.isRequired,newStuffReadId:n.default.number.isRequired,setNewStuffReadId:n.default.func.isRequired};const h=function({children:e,isSignedIn:t}){return r.default.createElement(u.default,{name:"showNewStuff",default:!0},function(a,n){return r.default.createElement(u.default,{name:"newStuffReadId",default:0},function(s,l){return r.default.createElement(p,{isSignedIn:t,showNewStuff:a,newStuffReadId:s,setShowNewStuff:n,setNewStuffReadId:l},e)})})};h.propTypes={children:n.default.func.isRequired,isSignedIn:n.default.bool.isRequired};var g=h;t.default=g},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=function(){return r.default.createElement("footer",{role:"contentinfo"},r.default.createElement(i,{href:"/about",track:"about"},"About Glitch ",r.default.createElement("span",{role:"img","aria-label":""},"ðŸ”®")),r.default.createElement(i,{href:"https://medium.com/glitch",track:"blog"},"Blog ",r.default.createElement("span",{role:"img","aria-label":""},"ðŸ“°")),r.default.createElement(i,{href:"/help/",track:"faq"},"Help Center ",r.default.createElement("span",{role:"img","aria-label":""},"â˜‚ï¸")),r.default.createElement(i,{href:"http://status.glitch.com/",track:"system status"},"System Status ",r.default.createElement("span",{role:"img","aria-label":""},"ðŸš¥")),r.default.createElement(i,{href:"/legal",track:"legal stuff"},"Legal Stuff ",r.default.createElement("span",{role:"img","aria-label":""},"ðŸ‘®â€")),r.default.createElement("hr",null),r.default.createElement(i,{href:"/teams",track:"platforms"},r.default.createElement("img",{className:"for-platforms-icon",src:"https://cdn.glitch.com/be1ad2d2-68ab-404a-82f4-6d8e98d28d93%2Ffor-platforms-icon.svg?1506442305188",alt:""}),r.default.createElement("span",{className:"for-platforms-text"},"Glitch Teams")))};var r=l(a(1)),n=l(a(0)),s=l(a(3));function l(e){return e&&e.__esModule?e:{default:e}}const i=function({href:e,track:t,children:a}){return r.default.createElement("p",null,r.default.createElement(s.default,{to:e,"data-track":"footer â†’ "+t},a))};i.propTypes={href:n.default.string.isRequired,track:n.default.string.isRequired,children:n.default.node.isRequired}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=l(a(1)),n=l(a(0)),s=l(a(283));function l(e){return e&&e.__esModule?e:{default:e}}class i extends r.default.Component{constructor(e){super(e),this.state={active:!1}}render(){var e=this;return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.default,{easterEgg:function(){return e.setState({active:!0})}}),!!this.state.active&&this.props.children)}}t.default=i,i.propTypes={children:n.default.node.isRequired}},,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=o(a(67)),n=o(a(1)),s=o(a(0)),l=o(a(289)),i=o(a(290)),u=o(a(3));function o(e){return e&&e.__esModule?e:{default:e}}class c extends n.default.Component{constructor(e){super(e),this.state={posts:window.ZINE_POSTS.slice(0,4),masks:(0,r.default)([1,2,3,4,5],4)}}render(){var e=this;return this.state.posts.length?n.default.createElement("section",null,n.default.createElement("ul",{className:"zine-items"},this.state.posts.map(function({id:t,title:a,url:r,feature_image:s,primary_tag:l},i){return n.default.createElement("li",{key:t,className:"zine-item"},n.default.createElement(u.default,{to:`/culture${r}`},!!s&&n.default.createElement("div",{className:"mask-container"},n.default.createElement("img",{className:`mask mask-${e.state.masks[i]}`,src:s,alt:""})),n.default.createElement("div",{className:"zine-item-meta"},n.default.createElement("h1",{className:"zine-item-title"},a),!!l&&n.default.createElement("p",{className:"zine-item-tag"},l.name))))}))):null}}const d=function({img:e,link:t,title:a}){return n.default.createElement(u.default,{to:t,"data-track":"featured-project","data-track-label":a},n.default.createElement("div",{className:"featured-container"},n.default.createElement("img",{className:"featured",src:e,alt:""}),n.default.createElement("p",{className:"project-name"},a)))};d.propTypes={img:s.default.string.isRequired,link:s.default.string.isRequired,title:s.default.string.isRequired};const f=function({embedHtml:e,featured:t}){return n.default.createElement("section",{className:"featured featured-collections"},n.default.createElement("h2",null,"Check These Out"),n.default.createElement("div",{className:"community-pick-embed-container"},n.default.createElement("img",{className:"witch",src:"https://cdn.glitch.com/180b5e22-4649-4c71-9a21-2482eb557c8c%2Fwitch-2.svg?1521578927355",width:"110px",height:"82px",alt:""}),n.default.createElement("span",{dangerouslySetInnerHTML:{__html:e}})),n.default.createElement("section",null,n.default.createElement("ul",{className:"featured-items"},t.map(function(e){return n.default.createElement("li",{key:e.link},n.default.createElement(d,e))}))),n.default.createElement(c,null))};f.propTypes={embedHtml:s.default.string.isRequired,featured:s.default.array.isRequired};var m=function(){return n.default.createElement(f,{embedHtml:l.default,featured:i.default})};t.default=m},,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=l(a(1)),n=l(a(0)),s=l(a(14));function l(e){return e&&e.__esModule?e:{default:e}}const i=function(){return r.default.createElement("div",{className:"wistia_responsive_padding"},r.default.createElement("div",{className:"wistia_responsive_wrapper"},r.default.createElement("div",{className:"wistia_embed wistia_async_i0m98yntdb",videofoam:"true"})))},u=function({children:e}){return r.default.createElement(s.default,null,function({visible:t,setVisible:a}){return r.default.createElement("details",{onToggle:function(e){return a(e.target.open)},open:t,className:"overlay-container"},r.default.createElement("summary",null,e),r.default.createElement("dialog",{className:"overlay video-overlay"},r.default.createElement("section",{className:"pop-over-actions"},r.default.createElement(i,null))))})};u.propTypes={children:n.default.node.isRequired};var o=u;t.default=o},,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=i(a(1)),n=i(a(0)),s=a(5),l=i(a(3));function i(e){return e&&e.__esModule?e:{default:e}}const u=function({colorOuter:e,colorInner:t,domain:a,question:n,tags:i,userAvatar:u,userColor:o,userLogin:c,path:d,line:f,character:m}){return r.default.createElement(r.default.Fragment,null,r.default.createElement("img",{className:"help-icon",src:"https://cdn.glitch.com/f7224274-1330-4022-a8f2-8ae09dbd68a8%2Fask-for-help.svg?1494954687906",alt:""}),r.default.createElement(l.default,{to:(0,s.getEditorUrl)(a,d,f,m),"data-track":"question","data-track-label":a},r.default.createElement("div",{className:"project",style:{backgroundColor:e}},r.default.createElement("div",{className:"project-container",style:{backgroundColor:t}},r.default.createElement("img",{className:"avatar",src:u,style:{backgroundColor:o},alt:""}),r.default.createElement("div",{className:"button"},"Help ",c),r.default.createElement("div",{className:"description question",title:n},function(e){return e.length>140?e.substring(0,139)+"â€¦":e}(n)),r.default.createElement("div",{className:"description tags"},i.map(function(e){return r.default.createElement("div",{key:e,className:"tag",title:e},function(e){return e.substring(0,15)}(e))}))))))};u.propTypes={colorOuter:n.default.string.isRequired,colorInner:n.default.string.isRequired,domain:n.default.string.isRequired,question:n.default.string.isRequired,tags:n.default.arrayOf(n.default.string.isRequired).isRequired,userAvatar:n.default.string.isRequired,userColor:n.default.string.isRequired,userLogin:n.default.string.isRequired,path:n.default.string,line:n.default.number,character:n.default.number};var o=u;t.default=o},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=o(a(67)),n=o(a(1)),s=o(a(0)),l=o(a(5)),i=o(a(3)),u=a(26);function o(e){return e&&e.__esModule?e:{default:e}}const c=function({category:e}){const t={projects:e.projects||[],categoryColor:e.color};return n.default.createElement("article",{className:"projects",style:{backgroundColor:e.backgroundColor}},n.default.createElement("header",{className:"category"},n.default.createElement(i.default,{className:"category-name",to:e.url},n.default.createElement("h2",null,e.name," ",n.default.createElement("span",{className:"arrow"},"â†’"))),n.default.createElement("span",{className:"category-image-container"},n.default.createElement(i.default,{className:"category-image",to:e.url},n.default.createElement("img",{height:"80px",width:"120px",src:e.avatarUrl,alt:e.name}))),n.default.createElement("p",{className:"category-description"},e.description)),n.default.createElement(u.ProjectsUL,t))};c.propTypes={category:s.default.shape({avatarUrl:s.default.string.isRequired,backgroundColor:s.default.string.isRequired,description:s.default.string.isRequired,name:s.default.string.isRequired,url:s.default.string.isRequired}).isRequired};class d extends n.default.Component{constructor(e){super(e),this.state={categories:[]}}async loadCategories(){const{data:e}=await this.props.api.get("categories/random?numCategories=3&projectsPerCategory=3"),t=e.filter(function(e){return!!e.projects}),a=(0,r.default)(t,3).map(function(e){let{projects:t}=e,a=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["projects"]);const n=(0,r.default)(t,3);return Object.assign({projects:n.map(function(e){return(0,l.default)(e).update(e).asProps()})},a)});this.setState({categories:a})}componentDidMount(){this.loadCategories()}render(){return this.state.categories.map(function(e){return n.default.createElement(c,{key:e.id,category:e})})}}d.propTypes={api:s.default.any.isRequired};var f=d;t.default=f},function(e,t,a){"use strict";t.__esModule=!0,t.default=t.ProjectItem=void 0;var r=c(a(1)),n=c(a(0)),s=a(5),l=a(3),i=a(25),u=c(a(296)),o=c(a(33));function c(e){return e&&e.__esModule?e:{default:e}}const d=function({project:e,categoryColor:t,projectOptions:a}){return r.default.createElement("li",null,r.default.createElement(o.default,{glitchTeam:e.showAsGlitchTeam,users:e.users,extraClass:"single-line"}),r.default.createElement(u.default,{project:e,projectOptions:a}),r.default.createElement(l.ProjectLink,{project:e},r.default.createElement("div",{className:["project",e.private?"private-project":""].join(" "),style:{backgroundColor:t,borderBottomColor:t},"data-track":"project","data-track-label":e.domain},r.default.createElement("div",{className:"project-container"},r.default.createElement("img",{className:"avatar",src:(0,s.getAvatarUrl)(e.id),alt:`${e.domain} avatar`}),r.default.createElement("div",{className:"button"},r.default.createElement("span",{className:"project-badge private-project-badge","aria-label":"private"}),r.default.createElement("div",{className:"project-name"},e.domain)),r.default.createElement("div",{className:"description"},r.default.createElement(i.TruncatedMarkdown,{length:96},e.description)),r.default.createElement("div",{className:"overflow-mask",style:{backgroundColor:t}})))))};t.ProjectItem=d,d.propTypes={project:n.default.shape({description:n.default.string.isRequired,domain:n.default.string.isRequired,id:n.default.string.isRequired,private:n.default.bool.isRequired,showAsGlitchTeam:n.default.bool.isRequired,users:n.default.array.isRequired}).isRequired,categoryColor:n.default.string,projectOptions:n.default.object};var f=d;t.default=f},function(e,t,a){"use strict";t.__esModule=!0,t.default=d;var r=i(a(1)),n=i(a(0)),s=i(a(14)),l=a(10);function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const o=function({onClick:e,text:t,emoji:a}){return r.default.createElement("button",{className:"button-small has-emoji button-tertiary",onClick:e},r.default.createElement("span",null,t," "),r.default.createElement("span",{className:`emoji ${a}`}))},c=function(e){let t=Object.assign({},e);function a(e,a,r){const n=e.target.closest("li");n.addEventListener("animationend",r,{once:!0}),n.classList.add(a),t.togglePopover()}return r.default.createElement("dialog",{className:"pop-over project-options-pop"},r.default.createElement("section",{className:"pop-over-actions"},!!t.addPin&&r.default.createElement(o,{onClick:function(e){a(e,"slide-up",function(){return t.addPin(t.project.id)})},text:"Pin ",emoji:"pushpin"}),!!t.removePin&&r.default.createElement(o,{onClick:function(e){a(e,"slide-down",function(){return t.removePin(t.project.id)})},text:"Un-Pin ",emoji:"pushpin"})),t.joinTeamProject&&t.leaveTeamProject&&r.default.createElement("section",{className:"pop-over-actions collaborator-actions"},!t.currentUserIsOnProject&&r.default.createElement(o,{onClick:function(){t.joinTeamProject(t.project.id,t.currentUser)},text:"Join Project ",emoji:"rainbow"}),t.currentUserIsOnProject&&r.default.createElement(o,{onClick:function(){t.leaveTeamProject(t.project.id,t.currentUser.id)},text:"Leave Project ",emoji:"wave"})),t.leaveProject&&t.project.users.length>1&&r.default.createElement("section",{className:"pop-over-actions collaborator-actions"},r.default.createElement(o,{onClick:function(e){const a=`Once you leave this project, you'll lose access to it unless someone else invites you back. \n\n Are sure you want to leave ${t.project.name}?`;window.confirm(a)&&t.leaveProject(t.project.id,e)},text:"Leave Project ",emoji:"wave"})),r.default.createElement("section",{className:"pop-over-actions danger-zone last-section"},!!t.removeProjectFromTeam&&r.default.createElement(o,{onClick:function(){return t.removeProjectFromTeam(t.project.id)},text:"Remove Project ",emoji:"thumbs_down"}),!!t.deleteProject&&r.default.createElement(o,{onClick:function(e){a(e,"slide-down",function(){return t.deleteProject(t.project.id)})},text:"Delete Project ",emoji:"bomb"})))};function d({projectOptions:e={},project:t}){if(0===Object.keys(e).length)return null;return r.default.createElement(s.default,null,function({togglePopover:a,visible:n}){return r.default.createElement(l.CurrentUserConsumer,null,function(s){return r.default.createElement("div",null,r.default.createElement("button",{className:"project-options button-borderless opens-pop-over",onClick:a},r.default.createElement("div",{className:"down-arrow"})),n&&r.default.createElement(c,u({project:t},e,{togglePopover:a,currentUser:s,currentUserIsOnProject:function(e){if(t.users.map(function(e){return e.id}).includes(e.id))return!0}(s)})))})})}c.propTypes={project:n.default.shape({users:n.default.array.isRequired}),togglePopover:n.default.func.isRequired,currentUser:n.default.object.isRequired,addPin:n.default.func,removePin:n.default.func,deleteProject:n.default.func,leaveProject:n.default.func,removeProjectFromTeam:n.default.func,joinTeamProject:n.default.func,leaveTeamProject:n.default.func,currentUserIsOnProject:n.default.bool.isRequired},c.defaultProps={currentUserIsOnProject:!1},d.propTypes={project:n.default.object.isRequired}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=m(a(1)),n=m(a(0)),s=a(8),l=a(10),i=a(3),u=a(34),o=m(a(11)),c=m(a(43)),d=a(26),f=m(a(62));function m(e){return e&&e.__esModule?e:{default:e}}const p=function({children:e,user:t}){return r.default.createElement("section",{className:"profile recent-projects"},r.default.createElement("h2",null,r.default.createElement(i.UserLink,{user:t},"Your Projects â†’")),r.default.createElement(u.CoverContainer,{style:(0,s.getProfileStyle)(t)},r.default.createElement("div",{className:"profile-avatar"},r.default.createElement("div",{className:"user-avatar-container"},r.default.createElement(i.UserLink,{user:t},r.default.createElement("div",{className:`user-avatar ${t.login?"":"anon-user-avatar"}`,style:(0,s.getAvatarStyle)(t),alt:""})),!t.login&&r.default.createElement("div",{className:"anon-user-sign-up"},r.default.createElement(f.default,null)))),r.default.createElement("article",{className:"projects"},e)))};p.propTypes={children:n.default.node.isRequired,user:n.default.shape({avatarUrl:n.default.string,color:n.default.string.isRequired,coverColor:n.default.string,hasCoverImage:n.default.bool.isRequired,id:n.default.number.isRequired,login:n.default.string}).isRequired};const h=function({api:e}){return r.default.createElement(l.CurrentUserConsumer,null,function(t,a){return r.default.createElement(p,{user:t},a?r.default.createElement(c.default,{api:e,projects:t.projects.slice(0,3)},function(e){return r.default.createElement(d.ProjectsUL,{projects:e})}):r.default.createElement(o.default,null))})};h.propTypes={api:n.default.any.isRequired};var g=h;t.default=g},,,,,function(e,t,a){"use strict";t.__esModule=!0,t.GitHubLoginPage=t.FacebookLoginPage=void 0;var r=o(a(1)),n=o(a(0)),s=a(29),l=a(16),i=a(10),u=o(a(112));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}class f extends r.default.Component{constructor(e){super(e),this.state={done:!1,error:!1,errorMessage:null}}async authenticate(){const{api:e,provider:t,url:a}=this.props;try{const{data:n}=await e.post(a);if(n.id<=0)throw new Error(`Bad user id (${n.id}) after ${t} login`);console.log("LOGGED IN",n),this.props.setUser(n),this.setState({done:!0}),analytics.track("Signed In",{provider:t})}catch(r){this.setState({error:!0});const e=r&&r.response&&r.response.data;e&&e.message&&this.setState({errorMessage:e.message});const a={provider:t,error:e};console.error("OAuth login error.",a),(0,s.captureMessage)("Oauth login error",{extra:a})}}componentDidMount(){this.authenticate()}render(){if(this.state.done)return r.default.createElement(l.Redirect,{to:this.props.hash?`/#${this.props.hash}`:"/"});if(this.state.error){const e="Hard to say what happened, but we couldn't log you in. Try again?";return r.default.createElement(u.default,{title:"OAuth Login Problem",description:this.state.errorMessage||e})}return r.default.createElement("div",{className:"content"})}}f.propTypes={api:n.default.any.isRequired,url:n.default.string.isRequired,provider:n.default.string.isRequired,setUser:n.default.func.isRequired,hash:n.default.string};const m=function(e){return r.default.createElement(i.CurrentUserConsumer,null,function(t,a,{login:n}){return r.default.createElement(f,d({setUser:n},e))})};t.FacebookLoginPage=function(e){let{code:t}=e,a=c(e,["code"]);const n=`${APP_URL}/login/facebook`,s=`/auth/facebook/${t}?callbackURL=${encodeURIComponent(n)}`;return r.default.createElement(m,d({},a,{provider:"Facebook",url:s}))};t.GitHubLoginPage=function(e){let{code:t}=e,a=c(e,["code"]);const n=`/auth/github/${t}`;return r.default.createElement(m,d({},a,{provider:"GitHub",url:n}))}},function(e,t,a){"use strict";t.__esModule=!0,t.default=t.JoinTeamPage=void 0;var r=c(a(1)),n=c(a(0)),s=a(29),l=a(16),i=a(13),u=a(10),o=c(a(19));function c(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}class f extends r.default.Component{constructor(e){super(e),this.state={redirect:null}}async componentDidMount(){try{var{data:e}=await this.props.api.get(`/teams/byUrl/${this.props.teamUrl}`)}catch(t){!t||t.response&&404===t.response.status||(0,s.captureException)(t)}if(!e)return this.props.createErrorNotification("Invite failed, try asking your teammate to resend the invite"),void this.setState({redirect:(0,i.getLink)({url:this.props.teamUrl})});try{await this.props.api.post(`/teams/${e.id}/join/${this.props.joinToken}`,{},{headers:{Authorization:""}}),this.props.createNotification("Invitation accepted")}catch(t){console.log("Team invite error",t&&t.response&&t.response.data),(0,s.captureMessage)("Team invite error",{extra:{error:t}}),this.props.createErrorNotification("Invite failed, try asking your teammate to resend the invite")}await this.props.reloadCurrentUser(),this.setState({redirect:(0,i.getLink)(e)})}render(){return this.state.redirect?r.default.createElement(l.Redirect,{to:this.state.redirect}):null}}f.propTypes={api:n.default.any.isRequired,teamUrl:n.default.string.isRequired,joinToken:n.default.string.isRequired,createErrorNotification:n.default.func.isRequired,createNotification:n.default.func.isRequired,reloadCurrentUser:n.default.func.isRequired};const m=function(e){return r.default.createElement(u.CurrentUserConsumer,null,function(t,a,{reload:n}){return r.default.createElement(o.default,null,function(t){return r.default.createElement(f,d({},t,e,{reloadCurrentUser:n}))})})};t.JoinTeamPage=m;var p=m;t.default=p},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=o(a(1)),n=o(a(0)),s=o(a(15)),l=o(a(23)),i=o(a(109)),u=o(a(42));function o(e){return e&&e.__esModule?e:{default:e}}const c=function({api:e}){return r.default.createElement(l.default,{api:e},r.default.createElement(s.default,null,r.default.createElement("title",null,"Questions")),r.default.createElement("main",{className:"questions-page"},r.default.createElement(i.default,{api:e,max:12}),r.default.createElement(u.default,null)))};c.propTypes={api:n.default.any.isRequired};var d=c;t.default=d},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=b(a(1)),n=b(a(0)),s=b(a(15)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(5)),i=a(11),u=b(a(68)),o=a(25),c=b(a(306)),d=b(a(307)),f=b(a(41)),m=a(69),p=a(34),h=a(309),g=b(a(113)),v=b(a(33)),E=b(a(310)),y=b(a(23));function b(e){return e&&e.__esModule?e:{default:e}}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}const N=function(){return r.default.createElement("span",{className:"project-badge private-project-badge","aria-label":"Only members can view code","data-tooltip":"Only members can view code"})},P=function({isPrivate:e,setPrivate:t}){const a=e?"Only members can view code":"Visible to everyone",n=e?"private-project-badge":"public-project-badge";return r.default.createElement("span",{"data-tooltip":a},r.default.createElement("button",{"aria-label":a,onClick:function(){return t(!e)},className:`button-tertiary button-on-secondary-background project-badge ${n}`}))};P.propTypes={isPrivate:n.default.bool.isRequired,setPrivate:n.default.func.isRequired};const w=function({domain:e}){return r.default.createElement("div",{className:"glitch-embed-wrap"},r.default.createElement("iframe",{title:"embed",src:`https://glitch.com/embed/#!/embed/${e}?path=README.md&previewSize=100`,allow:"geolocation; microphone; camera; midi; encrypted-media"}))};w.propTypes={domain:n.default.string.isRequired};const T=function(e){return e&&e.response&&404===e.response.status?r.default.createElement(r.default.Fragment,null,"This project would be even better with a ",r.default.createElement("code",null,"README.md")):r.default.createElement(r.default.Fragment,null,"We couldn't load the readme. Try refreshing?")},_=function({api:e,domain:t}){return r.default.createElement(i.DataLoader,{get:function(){return e.get(`projects/${t}/readme`)},renderError:T},function({data:e}){return r.default.createElement(d.default,{height:250},r.default.createElement(o.Markdown,null,e))})};_.propTypes={api:n.default.any.isRequired,domain:n.default.string.isRequired};const q=function(e){let{project:{description:t,domain:a,id:n,users:s,teams:i},api:u,isAuthorized:o,updateDomain:c,updateDescription:d,updatePrivate:y}=e,b=R(e.project,["description","domain","id","users","teams"]);return r.default.createElement("main",{className:"project-page"},r.default.createElement("section",{id:"info"},r.default.createElement(p.InfoContainer,null,r.default.createElement(p.ProjectInfoContainer,{style:{backgroundImage:`url('${(0,l.getAvatarUrl)(n)}')`}},r.default.createElement("h1",null,o?r.default.createElement(f.default,{value:a,placeholder:"Name your project",update:function(e){return c(e).then(function(){return function(e){history.replaceState(null,null,`/~${e}`)}(e)})},suffix:r.default.createElement(P,{isPrivate:b.private,isMember:o,setPrivate:y})}):r.default.createElement(r.default.Fragment,null,a," ",b.private&&r.default.createElement(N,null))),r.default.createElement("div",{className:"users-information"},r.default.createElement(v.default,{users:s}),!!i.length&&r.default.createElement(g.default,{teams:i})),r.default.createElement(m.AuthDescription,{authorized:o,description:t,update:d,placeholder:"Tell us about your app"}),r.default.createElement("p",{className:"buttons"},r.default.createElement(h.ShowButton,{name:a}),r.default.createElement(h.EditButton,{name:a,isMember:o}))))),r.default.createElement("section",{id:"embed"},r.default.createElement(w,{domain:a}),r.default.createElement("div",{className:"buttons buttons-right"},r.default.createElement(h.RemixButton,{className:"button-small",name:a,isMember:o,onClick:function(){return function(e,t){analytics.track("Click Remix",{origin:"project page",baseProjectId:e,baseDomain:t})}(n,a)}}))),r.default.createElement("section",{id:"readme"},r.default.createElement(_,{api:u,domain:a})),r.default.createElement("section",{id:"related"},r.default.createElement(E.default,j({ignoreProjectId:n},{api:u,teams:i,users:s}))),r.default.createElement("section",{id:"feedback",className:"buttons buttons-right"},r.default.createElement(h.ReportButton,{name:a,id:n,className:"button-small button-tertiary"})))};q.propTypes={api:n.default.any.isRequired,isAuthorized:n.default.bool.isRequired,project:n.default.object.isRequired};const C=function(e){let{domain:t,api:a}=e,n=R(e,["domain","api"]);return r.default.createElement(i.DataLoader,{get:function(){return async function(e,t){const{data:a}=await e.get(`projects/${t}`);return a?(0,l.default)(a).update(a).asProps():null}(a,t)},renderError:function(){return r.default.createElement(u.default,{name:t})}},function(e){return e?r.default.createElement(c.default,{api:a,initialProject:e},function(e,t,l){return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.default,null,r.default.createElement("title",null,e.domain)),r.default.createElement(q,j({api:a,project:e},t,{isAuthorized:l},n)))}):r.default.createElement(u.default,{name:t})})};C.propTypes={domain:n.default.string.isRequired};var k=function({api:e,name:t}){return r.default.createElement(y.default,{api:e},r.default.createElement(C,{api:e,domain:t}))};t.default=k},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=i(a(1)),n=i(a(0)),s=a(10),l=i(a(44));function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}class o extends r.default.Component{constructor(e){super(e),this.state=Object.assign({},e.initialProject)}userIsMember(){if(!this.props.currentUser)return!1;const e=this.props.currentUser.id;return this.state.users.some(function({id:t}){return e===t})}async updateFields(e){await this.props.api.patch(`projects/${this.state.id}`,e),this.setState(e)}render(){var e=this;const{handleError:t,handleErrorForInput:a}=this.props,r={updateDomain:function(t){return e.updateFields({domain:t}).catch(a)},updateDescription:function(a){return e.updateFields({description:a}).catch(t)},updatePrivate:function(a){return e.updateFields({private:a}).catch(t)}};return this.props.children(this.state,r,this.userIsMember())}}o.propTypes={api:n.default.any.isRequired,children:n.default.func.isRequired,currentUser:n.default.object,handleError:n.default.func.isRequired,handleErrorForInput:n.default.func.isRequired,initialProject:n.default.object.isRequired};const c=function({api:e,children:t,initialProject:a}){return r.default.createElement(l.default,null,function(n){return r.default.createElement(s.CurrentUserConsumer,null,function(s){return r.default.createElement(o,u({api:e,currentUser:s,initialProject:a},n),t)})})};c.propTypes={api:n.default.any.isRequired,children:n.default.func.isRequired,initialProject:n.default.object.isRequired};var d=c;t.default=d},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=s(a(1)),n=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}class l extends r.default.Component{constructor(e){super(e),this.state={startedExpanding:!1,doneExpanding:!1,scrollHeight:1/0},this.ref=r.default.createRef(),this.updateHeight=this.updateHeight.bind(this)}componentDidMount(){this.updateHeight(),this.ref.current.addEventListener("load",this.updateHeight,{capture:!0}),window.addEventListener("resize",this.updateHeight,{passive:!0})}componentWillUnmount(){this.ref.current.removeEventListener("load",this.updateHeight,{capture:!0}),window.removeEventListener("resize",this.updateHeight,{passive:!0})}componentDidUpdate(){this.updateHeight()}updateHeight(){const e=this.ref.current.scrollHeight;e!==this.state.scrollHeight&&this.setState({scrollHeight:e})}expand(){this.updateHeight(),this.setState({startedExpanding:!0})}onExpandEnd(e){"max-height"===e.propertyName&&this.setState({doneExpanding:!0})}render(){const{startedExpanding:e,doneExpanding:t,scrollHeight:a}=this.state,n=a>this.props.height,s=n?this.props.height-this.props.minSlide:this.props.height,l=t?null:{maxHeight:e?a:s};return r.default.createElement("div",{ref:this.ref,className:"expander",style:l,onTransitionEnd:e?this.onExpandEnd.bind(this):null},this.props.children,!t&&n&&r.default.createElement("div",{className:"expander-mask"},!e&&r.default.createElement("button",{onClick:this.expand.bind(this),className:"expander-button button-small button-tertiary"},"Show More")))}}t.default=l,l.propTypes={children:n.default.node.isRequired,height:n.default.number.isRequired,minSlide:n.default.number.isRequired},l.defaultProps={minSlide:50}},,function(e,t,a){"use strict";t.__esModule=!0,t.ReportButton=t.RemixButton=t.EditButton=t.ShowButton=void 0;var r=i(a(1)),n=i(a(0)),s=a(5),l=i(a(3));function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}const c=function(e){let{href:t,children:a,className:n}=e,s=o(e,["href","children","className"]);return r.default.createElement(l.default,u({to:t,className:`button button-link ${n}`},s),a)};c.propTypes={href:n.default.string.isRequired,children:n.default.node.isRequired,className:n.default.string};const d=function(e){let{name:t,className:a}=e,n=o(e,["name","className"]);return r.default.createElement(c,u({href:(0,s.getShowUrl)(t),className:`has-emoji ${a}`},n),r.default.createElement("img",{src:"https://cdn.gomix.com/6ce807b5-7214-49d7-aadd-f11803bc35fd%2Fshow-app.svg",alt:""})," ","Show")};t.ShowButton=d,d.propTypes={name:n.default.string.isRequired,className:n.default.string};const f=function(e){let{name:t,isMember:a}=e,n=o(e,["name","isMember"]);return r.default.createElement(c,u({href:(0,s.getEditorUrl)(t)},n),a?"Edit Project":"View Source")};t.EditButton=f,f.propTypes={name:n.default.string.isRequired,isMember:n.default.bool,className:n.default.string};const m=function(e){let{name:t,isMember:a,className:n}=e,l=o(e,["name","isMember","className"]);return r.default.createElement(c,u({href:(0,s.getRemixUrl)(t),className:`has-emoji ${n}`},l),a?"Remix This":"Remix your own"," ",r.default.createElement("span",{className:"emoji microphone",role:"presentation"}))};t.RemixButton=m,m.propTypes={name:n.default.string.isRequired,isMember:n.default.bool,className:n.default.string};const p=function(e){let{name:t,id:a}=e,n=o(e,["name","id"]);const s=encodeURI(`mailto:support@glitch.com?subject=${`[Glitch] I want to report ${t}`}&body=${`What do you think of the ${t} project? \nHow is it malicious?\n\nLet us know:\n\n\n\n\n\n--------------------\n\nThanks ðŸ’–\n\nâ€“ Glitch Team\n\n(project id: ${a})`}`);return r.default.createElement(c,u({href:s},n),"Report Abuse")};t.ReportButton=p,p.propTypes={name:n.default.string.isRequired,id:n.default.string.isRequired,className:n.default.string}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=p(a(311)),n=p(a(67)),s=p(a(1)),l=p(a(0)),i=p(a(5)),u=a(13),o=a(8),c=a(11),d=a(34),f=a(3),m=a(26);function p(e){return e&&e.__esModule?e:{default:e}}const h=3,g=function({projects:e,coverStyle:t}){return e.length?s.default.createElement(d.CoverContainer,{style:t,className:"projects"},s.default.createElement(m.ProjectsUL,{projects:e})):null};g.propTypes={projects:l.default.array.isRequired};class v extends s.default.Component{constructor(e){super(e);const t=(0,n.default)(e.teams,1),a=(0,n.default)(e.users,2-t.length);this.state={teams:t,users:a}}async getProjects(e,t,a){const s=(await t(e)).map(function(e){return e.projectId});let l=(0,n.default)((0,r.default)(s,[this.props.ignoreProjectId]),h);if(l.length<h){const{projects:t}=await a(e),s=t.map(function({id:e}){return e}),i=(0,r.default)(s,[this.props.ignoreProjectId,...l]);l=[...l,...(0,n.default)(i,h-l.length)]}if(l.length){const{data:e}=await this.props.api.get(`projects/byIds?ids=${l.join(",")}`);return e.map(function(e){return(0,i.default)(e).update(e).asProps()})}return[]}render(){var e=this;const{api:t}=this.props,a=function(e){return t.get(`teams/${e}`).then(function({data:e}){return e})},r=function(e){return t.get(`teams/${e}/pinned-projects`).then(function({data:e}){return e})},n=function(e){return t.get(`users/${e}`).then(function({data:e}){return e})},l=function(e){return t.get(`users/${e}/pinned-projects`).then(function({data:e}){return e})},{teams:i,users:d}=this.state;return i.length||d.length?s.default.createElement("ul",{className:"related-projects"},i.map(function(t){return s.default.createElement("li",{key:t.id},s.default.createElement("h2",null,s.default.createElement(f.TeamLink,{team:t},"More by ",t.name," â†’")),s.default.createElement(c.DataLoader,{get:function(){return e.getProjects(t.id,r,a)}},function(e){return s.default.createElement(g,{projects:e,coverStyle:(0,u.getProfileStyle)(t)})}))}),d.map(function(t){return s.default.createElement("li",{key:t.id},s.default.createElement("h2",null,s.default.createElement(f.UserLink,{user:t},"More by ",(0,o.getDisplayName)(t)," â†’")),s.default.createElement(c.DataLoader,{get:function(){return e.getProjects(t.id,l,n)}},function(e){return s.default.createElement(g,{projects:e,coverStyle:(0,o.getProfileStyle)(t)})}))})):null}}v.propTypes={api:l.default.any.isRequired,ignoreProjectId:l.default.string.isRequired,teams:l.default.array.isRequired,users:l.default.array.isRequired};var E=v;t.default=E},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";t.__esModule=!0,t.TeamOrUserPage=t.UserPage=t.TeamPage=void 0;var r=f(a(1)),n=f(a(0)),s=f(a(13)),l=f(a(8)),i=a(11),u=f(a(68)),o=f(a(23)),c=f(a(332)),d=f(a(432));function f(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}const h=async function(e,t){try{const{data:r}=await e.get(t);return r}catch(a){if(a&&a.response&&404===a.response.status)return null;throw a}},g=async function(e,t){const a=await h(e,`/users/${t}`);return a&&(0,l.default)(a).asProps()},v=function(e){const t=e.users.filter(function(e){return 30===e.teamsUser.accessLevel});return e.adminIds=t.map(function(e){return e.id}),(0,s.default)(e).asProps()},E=function(e){let{api:t,id:a,name:n}=e,s=p(e,["api","id","name"]);return r.default.createElement(i.DataLoader,{get:function(){return async function(e,t){const a=await h(e,`/teams/${t}`);return a&&v(a)}(t,a)}},function(e){return e?r.default.createElement(c.default,m({api:t,team:e},s)):r.default.createElement(u.default,{name:n})})};E.propTypes={api:n.default.any.isRequired,id:n.default.number.isRequired,name:n.default.string.isRequired};const y=function(e){let{api:t,id:a,name:n}=e,s=p(e,["api","id","name"]);return r.default.createElement(i.DataLoader,{get:function(){return g(t,a)}},function(e){return e?r.default.createElement(d.default,m({api:t,user:e},s)):r.default.createElement(u.default,{name:n})})};y.propTypes={api:n.default.any.isRequired,id:n.default.number.isRequired,name:n.default.string.isRequired};const b=function(e){let{api:t,name:a}=e,n=p(e,["api","name"]);return r.default.createElement(i.DataLoader,{get:function(){return async function(e,t){const a=await h(e,`/teams/byUrl/${t}`);return a&&v(a)}(t,a)}},function(e){return e?r.default.createElement(c.default,m({api:t,team:e},n)):r.default.createElement(i.DataLoader,{get:function(){return async function(e,t){const a=await h(e,`/userId/byLogin/${t}`);return"NOT FOUND"===a?null:await g(e,a)}(t,a)}},function(e){return e?r.default.createElement(d.default,m({api:t,user:e},n)):r.default.createElement(u.default,{name:a})})})};b.propTypes={api:n.default.any.isRequired,name:n.default.string.isRequired};const j=function(e,t,a){return r.default.createElement(o.default,{api:e},r.default.createElement(t,m({api:e},a)))};t.TeamPage=function({api:e,id:t,name:a}){return j(e,E,{id:t,name:a})};t.UserPage=function({api:e,id:t,name:a}){return j(e,y,{id:t,name:a})};t.TeamOrUserPage=function({api:e,name:t}){return j(e,b,{name:t})}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=j(a(1)),n=j(a(0)),s=j(a(15)),l=a(10),i=j(a(333)),u=a(13),o=a(69),c=a(34),d=j(a(41)),f=j(a(27)),m=j(a(337)),p=j(a(338)),h=j(a(340)),g=a(342),v=j(a(117)),E=j(a(43)),y=j(a(352)),b=a(45);function j(e){return e&&e.__esModule?e:{default:e}}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const N=function({team:e,updateName:t,updateUrl:a}){return r.default.createElement(r.default.Fragment,null,r.default.createElement("h1",null,r.default.createElement(d.default,{value:e.name,update:t,placeholder:"What's its name?",suffix:e.isVerified?r.default.createElement(b.VerifiedBadge,null):null})),r.default.createElement("p",{className:"team-url"},r.default.createElement(d.default,{value:e.url,update:function(e){return a(e).then(function(){return function(e){history.replaceState(null,null,(0,u.getLink)({url:e}))}(e)})},placeholder:"Short url?",prefix:"@"})))};class P extends r.default.Component{constructor(e){super(e),this.state={},this.teamAdmins=this.teamAdmins.bind(this)}teamAdmins(){var e=this;return this.props.team.users.filter(function(t){return e.props.team.adminIds.includes(t.id)})}userCanJoinTeam(){const{currentUser:e,team:t}=this.props;return!(this.props.currentUserIsOnTeam||!t.whitelistedDomain||!e||!e.emails)&&e.emails.some(function({email:e,verified:a}){return a&&e.endsWith(`@${t.whitelistedDomain}`)})}render(){var e=this;return r.default.createElement("main",{className:"profile-page team-page"},r.default.createElement("section",null,this.props.currentUserIsOnTeam&&r.default.createElement("div",{className:"beta"},"Teams Beta, ",r.default.createElement("a",{href:"/teams/",target:"_blank"},"Learn More")),r.default.createElement(c.ProfileContainer,{avatarStyle:(0,u.getAvatarStyle)(Object.assign({},this.props.team,{cache:this.props.team._cacheAvatar})),coverStyle:(0,u.getProfileStyle)(Object.assign({},this.props.team,{cache:this.props.team._cacheCover})),avatarButtons:this.props.currentUserIsTeamAdmin?r.default.createElement(c.ImageButtons,{name:"Avatar",uploadImage:this.props.uploadAvatar}):null,coverButtons:this.props.currentUserIsTeamAdmin?r.default.createElement(c.ImageButtons,{name:"Cover",uploadImage:this.props.uploadCover,clearImage:this.props.team.hasCoverImage?this.props.clearCover:null}):null},this.props.currentUserIsTeamAdmin?r.default.createElement(N,{team:this.props.team,updateName:this.props.updateName,updateUrl:this.props.updateUrl}):r.default.createElement(r.default.Fragment,null,r.default.createElement("h1",null,this.props.team.name," ",this.props.team.isVerified&&r.default.createElement(b.VerifiedBadge,null)),r.default.createElement("p",{className:"team-url"},"@",this.props.team.url)),r.default.createElement("div",{className:"users-information"},r.default.createElement(g.TeamUsers,R({},this.props,{users:this.props.team.users,teamId:this.props.team.id,adminIds:this.props.team.adminIds})),!!this.props.team.whitelistedDomain&&r.default.createElement(g.WhitelistedDomain,{domain:this.props.team.whitelistedDomain,setDomain:this.props.currentUserIsTeamAdmin?this.props.updateWhitelistedDomain:null}),this.props.currentUserIsOnTeam&&r.default.createElement(g.AddTeamUser,{inviteEmail:this.props.inviteEmail,inviteUser:this.props.inviteUser,setWhitelistedDomain:this.props.currentUserIsTeamAdmin?this.props.updateWhitelistedDomain:null,members:this.props.team.users.map(function({id:e}){return e}),whitelistedDomain:this.props.team.whitelistedDomain,api:this.props.api}),this.userCanJoinTeam()&&r.default.createElement(g.JoinTeam,{onClick:this.props.joinTeam})),r.default.createElement(f.default,{count:this.props.team.users.reduce(function(e,{thanksCount:t}){return e+t},0)}),r.default.createElement(o.AuthDescription,{authorized:this.props.currentUserIsTeamAdmin,description:this.props.team.description,update:this.props.updateDescription,placeholder:"Tell us about your team"}))),r.default.createElement(p.default,R({},this.props,{teamProjects:this.props.team.projects,api:this.props.api})),r.default.createElement(v.default,{projects:this.props.team.projects,pins:this.props.team.teamPins,isAuthorized:this.props.currentUserIsOnTeam,addPin:this.props.addPin,removePin:this.props.removePin,projectOptions:{removeProjectFromTeam:this.props.removeProject,joinTeamProject:this.props.joinTeamProject,leaveTeamProject:this.props.leaveTeamProject},api:this.props.api}),0===this.props.team.projects.length&&this.props.currentUserIsOnTeam&&r.default.createElement("aside",{className:"inline-banners add-project-to-empty-team-banner"},r.default.createElement("div",{className:"description-container"},r.default.createElement("img",{className:"project-pals",src:"https://cdn.glitch.com/02ae6077-549b-429d-85bc-682e0e3ced5c%2Fcollaborate.svg?1540583258925",alt:""}),r.default.createElement("div",{className:"description"},"Add projects to share them with your team"))),this.props.currentUserIsOnTeam&&r.default.createElement(y.default,{api:this.props.api,id:this.props.team.id,currentUserIsOnTeam:this.props.currentUserIsOnTeam,projects:this.props.team.projects,addProject:this.props.addProject,myProjects:this.props.currentUser?this.props.currentUser.projects:[]}),this.props.currentUserIsTeamAdmin&&r.default.createElement(h.default,{api:function(){return e.props.api},teamId:this.props.team.id,teamName:this.props.team.name,teamAdmins:this.teamAdmins(),users:this.props.team.users}),!this.props.currentUserIsOnTeam&&r.default.createElement(b.TeamMarketing,null))}}P.propTypes={team:n.default.shape({_cacheAvatar:n.default.number.isRequired,_cacheCover:n.default.number.isRequired,adminIds:n.default.array.isRequired,backgroundColor:n.default.string.isRequired,coverColor:n.default.string.isRequired,description:n.default.string.isRequired,features:n.default.array.isRequired,hasAvatarImage:n.default.bool.isRequired,hasCoverImage:n.default.bool.isRequired,id:n.default.number.isRequired,isVerified:n.default.bool.isRequired,name:n.default.string.isRequired,projects:n.default.array.isRequired,teamPins:n.default.array.isRequired,users:n.default.array.isRequired,whitelistedDomain:n.default.string}),addPin:n.default.func.isRequired,addProject:n.default.func.isRequired,updateWhitelistedDomain:n.default.func.isRequired,inviteEmail:n.default.func.isRequired,inviteUser:n.default.func.isRequired,api:n.default.func.isRequired,clearCover:n.default.func.isRequired,currentUser:n.default.object,currentUserIsOnTeam:n.default.bool.isRequired,currentUserIsTeamAdmin:n.default.bool.isRequired,removeUserFromTeam:n.default.func.isRequired,removePin:n.default.func.isRequired,removeProject:n.default.func.isRequired,updateName:n.default.func.isRequired,updateUrl:n.default.func.isRequired,updateDescription:n.default.func.isRequired,uploadAvatar:n.default.func.isRequired,uploadCover:n.default.func.isRequired};const w=function({team:e}){return r.default.createElement(l.CurrentUserConsumer,null,function(t){return function(e,t){return!(!t||!t.login)&&t.login.toLowerCase()===e.url}(e,t)&&r.default.createElement(m.default,null)})},T=function({api:e,initialTeam:t,children:a}){return r.default.createElement(i.default,{api:e,initialTeam:t},function(t,n,...s){return r.default.createElement(E.default,{api:e,projects:t.projects},function(e,r){return a(Object.assign({},t,{projects:e}),Object.assign({},n,{removeUserFromTeam:async function(e,t){await n.removeUserFromTeam(e,t),r(...t)},joinTeamProject:async function(e){await n.joinTeamProject(e),r(e)},leaveTeamProject:async function(e){await n.leaveTeamProject(e),r(e)}}),...s)})})};var _=function(e){let{api:t,team:a}=e,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["api","team"]);return r.default.createElement(T,{api:t,initialTeam:a},function(e,a,i,u){return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.default,null,r.default.createElement("title",null,e.name)),r.default.createElement(l.CurrentUserConsumer,null,function(s){return r.default.createElement(P,R({api:t,team:e},a,{currentUser:s,currentUserIsOnTeam:i,currentUserIsTeamAdmin:u},n))}),r.default.createElement(w,{team:e}))})};t.default=_},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=c(a(1)),n=c(a(0)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(71)),l=a(10),i=c(a(44)),u=c(a(116)),o=c(a(19));function c(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const f=20,m=30;class p extends r.default.Component{constructor(e){super(e),this.state=Object.assign({},e.initialTeam,{_cacheAvatar:Date.now(),_cacheCover:Date.now()})}currentUserIsOnTeam(){if(!this.props.currentUser)return!1;const e=this.props.currentUser.id;return this.state.users.some(function({id:t}){return e===t})}async updateFields(e){var t=this;const{data:a}=await this.props.api.patch(`teams/${this.state.id}`,e);if(this.setState(a),this.props.currentUser){const e=this.props.currentUser.teams.findIndex(function({id:e}){return e===t.state.id});if(e>=0){const t=[...this.props.currentUser.teams];t[e]=this.state,this.props.updateCurrentUser({teams:t})}}}async uploadAvatar(e){const{data:t}=await s.getTeamAvatarImagePolicy(this.props.api,this.state.id);await this.props.uploadAssetSizes(e,t,s.AVATAR_SIZES);const a=await s.blobToImage(e),r=s.getDominantColor(a);await this.updateFields({hasAvatarImage:!0,backgroundColor:r}),this.setState({_cacheAvatar:Date.now()})}async uploadCover(e){const{data:t}=await s.getTeamCoverImagePolicy(this.props.api,this.state.id);await this.props.uploadAssetSizes(e,t,s.COVER_SIZES);const a=await s.blobToImage(e),r=s.getDominantColor(a);await this.updateFields({hasCoverImage:!0,coverColor:r}),this.setState({_cacheCover:Date.now()})}async joinTeam(){var e=this;if(await this.props.api.post(`teams/${this.state.id}/join`),this.setState(function({users:t}){return{users:[...t,e.props.currentUser]}}),this.props.currentUser){const e=this.props.currentUser.teams;this.props.updateCurrentUser({teams:[...e,this.state]})}}async inviteEmail(e){console.log("ðŸ’£ inviteEmail",e),await this.props.api.post(`teams/${this.state.id}/sendJoinTeamEmail`,{emailAddress:e})}async inviteUser(e){console.log("ðŸ’£ inviteUser",e),await this.props.api.post(`teams/${this.state.id}/sendJoinTeamEmail`,{userId:e.id})}async removeUserFromTeam(e,t){var a=this;if(await Promise.all(t.map(function(t){return a.props.api.delete(`projects/${t}/authorization`,{data:{targetUserId:e}})})),await this.props.api.delete(`teams/${this.state.id}/users/${e}`),this.removeUserAdmin(e),this.setState(function({users:t}){return{users:t.filter(function(t){return t.id!==e})}}),this.props.currentUser&&this.props.currentUser.id===e){const e=this.props.currentUser.teams.filter(function({id:e}){return e!==a.state.id});this.props.updateCurrentUser({teams:e})}}removeUserAdmin(e){let t=this.state.adminIds.indexOf(e);-1!==t&&this.setState(function(e){return{counter:e.adminIds.splice(t,1)}})}async updateUserPermissions(e,t){if(t===f&&this.state.adminIds.length<=1)return this.props.createErrorNotification("A team must have at least one admin"),!1;await this.props.api.patch(`teams/${this.state.id}/users/${e}`,{access_level:t}),t===m?this.setState(function(t){return{counter:t.adminIds.push(e)}}):this.removeUserAdmin(e)}async addProject(e){await this.props.api.post(`teams/${this.state.id}/projects/${e.id}`),this.setState(function({projects:t}){return{projects:[e,...t]}})}async removeProject(e){await this.props.api.delete(`teams/${this.state.id}/projects/${e}`),this.setState(function({projects:t}){return{projects:t.filter(function(t){return t.id!==e})}})}async addPin(e){await this.props.api.post(`teams/${this.state.id}/pinned-projects/${e}`),this.setState(function({teamPins:t}){return{teamPins:[...t,{projectId:e}]}})}async removePin(e){await this.props.api.delete(`teams/${this.state.id}/pinned-projects/${e}`),this.setState(function({teamPins:t}){return{teamPins:t.filter(function(t){return t.projectId!==e})}})}async joinTeamProject(e){await this.props.api.post(`/teams/${this.state.id}/projects/${e}/join`)}async leaveTeamProject(e){await this.props.api.delete(`/projects/${e}/authorization`,{data:{targetUserId:this.props.currentUser.id}})}currentUserIsTeamAdmin(){if(!this.props.currentUser)return!1;const e=this.props.currentUser.id;return!!this.state.adminIds.includes(e)}teamHasUnlimitedProjects(){return this.props.initialTeam.features.includes("unlimited projects")}teamHasBillingExposed(){return this.props.initialTeam.features.includes("billing exposed")}render(){var e=this;const{handleError:t,handleErrorForInput:a}=this.props,r={updateName:function(t){return e.updateFields({name:t}).catch(a)},updateUrl:function(t){return e.updateFields({url:t}).catch(a)},updateDescription:function(a){return e.updateFields({description:a}).catch(t)},joinTeam:function(){return e.joinTeam().catch(t)},inviteEmail:function(a){return e.inviteEmail(a).catch(t)},inviteUser:function(a){return e.inviteUser(a).catch(t)},removeUserFromTeam:function(a,r){return e.removeUserFromTeam(a,r).catch(t)},uploadAvatar:function(){return s.requestFile(function(a){return e.uploadAvatar(a).catch(t)})},uploadCover:function(){return s.requestFile(function(a){return e.uploadCover(a).catch(t)})},clearCover:function(){return e.updateFields({hasCoverImage:!1}).catch(t)},addProject:function(a){return e.addProject(a).catch(t)},removeProject:function(a){return e.removeProject(a).catch(t)},addPin:function(a){return e.addPin(a).catch(t)},removePin:function(a){return e.removePin(a).catch(t)},updateWhitelistedDomain:function(a){return e.updateFields({whitelistedDomain:a}).catch(t)},teamHasUnlimitedProjects:this.teamHasUnlimitedProjects(),teamHasBillingExposed:this.teamHasBillingExposed(),updateUserPermissions:function(a,r){return e.updateUserPermissions(a,r).catch(t)},joinTeamProject:function(a){return e.joinTeamProject(a).catch(t)},leaveTeamProject:function(a){return e.leaveTeamProject(a).catch(t)}};return this.props.children(this.state,r,this.currentUserIsOnTeam(),this.currentUserIsTeamAdmin())}}p.propTypes={api:n.default.any.isRequired,children:n.default.func.isRequired,currentUser:n.default.object,updateCurrentUser:n.default.func.isRequired,handleError:n.default.func.isRequired,initialTeam:n.default.object.isRequired,uploadAssetSizes:n.default.func.isRequired};const h=function({api:e,children:t,initialTeam:a}){return r.default.createElement(i.default,null,function(n){return r.default.createElement(u.default,null,function(s){return r.default.createElement(o.default,null,function(i){return r.default.createElement(l.CurrentUserConsumer,null,function(l,u,{update:o}){return r.default.createElement(p,d({api:e,currentUser:l,initialTeam:a},{updateCurrentUser:o},s,n,i),t)})})})})};h.propTypes={api:n.default.any.isRequired,children:n.default.func.isRequired,initialTeam:n.default.object.isRequired};var g=h;t.default=g},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){const{policy:t,signature:a,accessKeyId:r}=e,{acl:n,bucket:s,namespace:o}=l(t),c=`https://s3.amazonaws.com/${s}`,d=function(e){const t=`${o}${e}`;return`${c}/${t}`};return{urlFor:d,upload({key:s,blob:l,cacheControl:f}){console.log("upload called",s),console.log("using namespace",o);const m=`${o}${s}`;d(s);return i(c,u({key:m,"Content-Type":l.type||"binary/octet-stream","Cache-Control":`max-age=${f||31536e3}`,AWSAccessKeyId:r,"x-amz-security-token":e.sessionToken,acl:n,policy:t,signature:a,file:l})).then(function(){return`${c}/${encodeURIComponent(m)}`})}}};var r,n=(r=a(335))&&r.__esModule?r:{default:r};const s=function(e,t){return e.filter(function(e){return"object"==typeof e}).map(function(e){return e[t]}).filter(function(e){return e})[0]};var l=function(e){const t=JSON.parse(atob(e)),{conditions:a}=t;return{acl:s(a,"acl"),bucket:s(a,"bucket"),namespace:function(e){return e.filter(function(e){if(Array.isArray(e)){const[t,a,r]=Array.from(e);return"$key"===a&&("starts-with"===t||"eq"===t)}})[0][2]}(a)}};var i=function(e,t){return new n.default(function(a,r,n){const s=new XMLHttpRequest;return s.open("POST",e,!0),null!=s.upload&&(s.upload.onprogress=n),s.onreadystatechange=function(e){if(4===s.readyState)return function(e){return"2"===e.status.toString()[0]}(s)?a(s):r(s)},s.send(t)})},u=function(e){return Object.keys(e).reduce(function(t,a){const r=e[a];return r&&t.append(a,r),t},new FormData)}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){var t=new Promise(function(a,r){return e(a,r,function(){return null!=t._progressHandlers?t._progressHandlers.forEach(function(e){try{return e(event)}catch(t){}}):void 0})});return t.then=function(e,a){const r=Promise.prototype.then.call(t,e,a);return t.progress(r._notify.bind(r)),r},t};t.default=r,null==Promise.prototype.finally&&(Promise.prototype.finally=function(e){return this.then(function(t){return Promise.resolve(e()).then(function(){return t})},function(t){return Promise.resolve(e()).then(function(){throw t})})}),null==Promise.prototype._notify&&(Promise.prototype._notify=function(e){return this._progressHandlers.forEach(function(t){try{return t(e)}catch(a){}})}),null==Promise.prototype.progress&&(Promise.prototype.progress=function(e){return null==this._progressHandlers&&(this._progressHandlers=[]),this._progressHandlers.push(e),this})},,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=u(a(1)),n=u(a(0)),s=a(10),l=u(a(3)),i=u(a(19));function u(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const c=function({id:e}){return r.default.createElement(r.default.Fragment,null,r.default.createElement("p",null,"This team has your name. You should update your info to remain unique â„"),r.default.createElement(l.default,{className:"button button-small button-tertiary button-in-notification-container",to:`/user/${e}`},"Your Profile"))};c.propTypes={id:n.default.number.isRequired};class d extends r.default.Component{componentDidMount(){const e=c({id:this.props.userId});this.notification=this.props.createPersistentNotification(e)}componentWillUnmount(){this.notification.removeNotification()}render(){return null}}d.propTypes={createPersistentNotification:n.default.func.isRequired,userId:n.default.number};var f=function(){return r.default.createElement(s.CurrentUserConsumer,null,function({id:e}){return r.default.createElement(i.default,null,function(t){return r.default.createElement(d,o({userId:e},t))})})};t.default=f},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=i(a(1)),n=i(a(0)),s=i(a(339)),l=i(a(14));function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const o=function(e){let{currentUserIsOnTeam:t}=e,a=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["currentUserIsOnTeam"]);return t?r.default.createElement("section",{className:"add-project-container"},r.default.createElement(l.default,null,function({visible:e,togglePopover:t}){return r.default.createElement("div",{className:"button-wrap"},r.default.createElement("button",{className:`button add-project has-emoji opens-pop-over ${a.extraButtonClass}`,onClick:t},"Add Project ",r.default.createElement("span",{className:"emoji bento-box",role:"img","aria-label":""})),e&&r.default.createElement(s.default,u({},a,{togglePopover:t})))})):null};o.propTypes={currentUserIsOnTeam:n.default.bool.isRequired,addProject:n.default.func.isRequired,teamProjects:n.default.array.isRequired,extraButtonClass:n.default.string,api:n.default.func.isRequired};var c=o;t.default=c},function(e,t,a){"use strict";t.__esModule=!0,t.default=t.AddTeamProjectPop=void 0;var r=u(a(1)),n=u(a(0)),s=a(10),l=u(a(63)),i=u(a(5));function u(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}class c extends r.default.Component{constructor(e){super(e),this.state={templateProjects:[],filteredProjects:[],source:"my-projects",filterPlaceholder:"Filter my projects",loadingTemplates:!1,notifyTemplateIsRemixing:!1},this.onClick=this.onClick.bind(this),this.updateFilter=this.updateFilter.bind(this),this.filterInputIsBlank=this.filterInputIsBlank.bind(this),this.filterInput=r.default.createRef()}normalizeTemplateProjects(e){return e.map(function(e){return e.users=[],(0,i.default)(e).update(e).asProps()})}updateFilter(e){let t=[];t="templates"===this.state.source?this.state.templateProjects:this.props.myProjects;let a=this.filterProjects(e,t,this.props.teamProjects);this.setState({filteredProjects:a})}filterProjects(e,t,a){e=e.toLowerCase().trim();let r=a.map(function({id:e}){return e}),n=t.filter(function({id:e}){return!r.includes(e)}),s=[];if(!e)return n.splice(0,20);for(let l of n){if(s.length>20)break;let t=l.domain.toLowerCase().includes(e),a=l.description.toLowerCase().includes(e);(t||a)&&s.push(l)}return s}activeIfSourceIsTemplates(){if("templates"===this.state.source)return"active"}activeIfSourceIsMyProjects(){if("my-projects"===this.state.source)return"active"}async remixTemplate(e){let t=`projects/${e}/remix`;return await this.props.api.post(t)}async inviteUserToRemix(e){let t=`projects/${e.inviteToken}/join`;return await this.props.api.post(t)}onClick(e,t){e.preventDefault(),this.props.togglePopover(),this.props.addProject(t)}sourceIsTemplates(){this.setState({source:"templates",filterPlaceholder:"Filter templates"})}sourceIsMyProjects(){this.setState({source:"my-projects",filterPlaceholder:"Filter projects"})}getTemplateProjects(){var e=this;this.setState({loadingTemplates:!0});let t=`projects/byIds?ids=${["9cd48134-1624-48f5-beaf-6c1b68bd9217","712cc905-bfcb-454e-a47a-c729ab63c455","929980a8-32fc-4ae7-a66f-dddb3ae4912c"].join(",")}`;this.props.api.get(t).then(function({data:t}){let a=e.normalizeTemplateProjects(t);e.setState({templateProjects:a,loadingTemplates:!1}),e.updateFilter("")})}componentDidUpdate(e,t){t.source!==this.state.source&&(this.updateFilter(""),this.filterInput.current.focus())}componentDidMount(){this.getTemplateProjects(),this.filterInput.current.focus(),this.updateFilter("")}filterInputIsBlank(){if(0===this.filterInput.current.value.length)return!0}render(){var e=this;const t=this.state.filteredProjects;return r.default.createElement("dialog",{className:"pop-over add-team-project-pop"},r.default.createElement("section",{className:"pop-over-info"},r.default.createElement("input",{ref:this.filterInput,onChange:function(t){e.updateFilter(t.target.value)},id:"team-project-search",className:"pop-over-input search-input pop-over-search",placeholder:this.state.filterPlaceholder,autoFocus:!0})),r.default.createElement("section",{className:"pop-over-actions results-list","data-source":"templates"},r.default.createElement("ul",{className:"results"},t.map(function(t){return r.default.createElement("li",{key:t.id},r.default.createElement(l.default,o({action:function(a){return e.onClick(a,t)}},t,{title:t.domain})))})),0===this.state.filteredProjects.length&&this.filterInputIsBlank&&r.default.createElement("p",{className:"action-description no-projects-description"},"Create or Join projects to add them to the team")))}}t.AddTeamProjectPop=c,c.propTypes={myProjects:n.default.array.isRequired,teamProjects:n.default.array.isRequired,addProject:n.default.func.isRequired,togglePopover:n.default.func.isRequired,api:n.default.any.isRequired};var d=function(e){return r.default.createElement(s.CurrentUserConsumer,null,function(t){return r.default.createElement(c,o({myProjects:t.projects},e))})};t.default=d},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=i(a(1)),n=i(a(0)),s=i(a(341)),l=i(a(14));function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const o=function(e){let t=Object.assign({},e);return r.default.createElement("section",null,r.default.createElement(l.default,null,function({visible:e,togglePopover:a}){return r.default.createElement("div",{className:"button-wrap"},r.default.createElement("button",{className:"button button-small button-tertiary has-emoji opens-pop-over danger-zone",onClick:a},"Delete ",t.teamName,"Â ",r.default.createElement("span",{className:"emoji bomb",role:"img","aria-label":""})),e&&r.default.createElement(s.default,u({},t,{togglePopover:a})))}))};o.propTypes={api:n.default.func.isRequired,teamId:n.default.number.isRequired,teamName:n.default.string.isRequired,users:n.default.array.isRequired,teamAdmins:n.default.array.isRequired};var c=o;t.default=c},function(e,t,a){"use strict";t.__esModule=!0,t.default=t.DeleteTeamPop=void 0;var r=u(a(1)),n=u(a(0)),s=a(16),l=u(a(11)),i=u(a(19));function u(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}class c extends r.default.Component{constructor(e){super(e),this.state={teamIsDeleting:!1},this.deleteTeam=this.deleteTeam.bind(this)}async deleteTeam(){if(this.state.teamIsDeleting)return null;this.setState({teamIsDeleting:!0});try{await this.props.api().delete(`teams/${this.props.teamId}`),this.props.history.push("/")}catch(e){console.error("deleteTeam",e,e.response),this.props.createErrorNotification("Something went wrong, try refreshing?"),this.setState({teamIsDeleting:!1})}}render(){return r.default.createElement("dialog",{className:"pop-over delete-team-pop",open:!0},r.default.createElement("section",{className:"pop-over-info"},r.default.createElement("div",{className:"pop-title"},"Delete ",this.props.teamName)),r.default.createElement("section",{className:"pop-over-actions"},r.default.createElement("img",{className:"illustration",src:"https://cdn.glitch.com/c53fd895-ee00-4295-b111-7e024967a033%2Fdelete-team.svg?1531267699621","aria-label":"illustration",alt:""}),r.default.createElement("div",{className:"action-description"},"Deleting ",this.props.teamName," will remove this team page. No projects will be deleted, but only current project members will be able to edit them.")),r.default.createElement("section",{className:"pop-over-actions danger-zone"},r.default.createElement("button",{className:"button button-small has-emoji opens-pop-over",onClick:this.deleteTeam},r.default.createElement("span",null,"Delete ",this.props.teamName," "),r.default.createElement("span",{className:"emoji bomb",role:"img","aria-label":"bomb emoji"}),this.state.teamIsDeleting&&r.default.createElement(l.default,null))))}}const d=(0,s.withRouter)(function(e){return r.default.createElement(i.default,null,function(t){return r.default.createElement(c,o({},t,e))})});t.DeleteTeamPop=d,d.propTypes={api:n.default.func.isRequired,teamId:n.default.number.isRequired,teamName:n.default.string.isRequired,users:n.default.array.isRequired,teamAdmins:n.default.array.isRequired,togglePopover:n.default.func.isRequired};var f=d;t.default=f},function(e,t,a){"use strict";t.__esModule=!0,t.JoinTeam=t.AddTeamUser=t.WhitelistedDomain=t.TeamUsers=void 0;var r=d(a(1)),n=d(a(0)),s=a(8),l=a(45),i=d(a(343)),u=d(a(14)),o=d(a(346)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(33));function d(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const m=function(e){return r.default.createElement(c.UserPopoversList,{users:e.users,adminIds:e.adminIds},function(t,a){return r.default.createElement(o.default,f({userIsTeamAdmin:e.adminIds.includes(t.id),userIsTheOnlyMember:1===e.users.length,user:t,togglePopover:a},e))})};t.TeamUsers=m,m.propTypes={users:n.default.array.isRequired,currentUserIsOnTeam:n.default.bool.isRequired,removeUserFromTeam:n.default.func.isRequired,updateUserPermissions:n.default.func.isRequired,api:n.default.func.isRequired,teamId:n.default.number.isRequired,currentUserIsTeamAdmin:n.default.bool.isRequired,adminIds:n.default.array.isRequired,team:n.default.object.isRequired};const p=function({domain:e,setDomain:t}){const a=`Anyone with an @${e} email can join`;return r.default.createElement(u.default,null,function({visible:n,setVisible:s}){return r.default.createElement("details",{onToggle:function(e){return s(e.target.open)},open:n,className:"popover-container whitelisted-domain-container"},r.default.createElement("summary",{"data-tooltip":n?null:a},r.default.createElement(l.WhitelistedDomainIcon,{domain:e})),r.default.createElement("dialog",{className:"pop-over"},r.default.createElement("section",{className:"pop-over-info"},r.default.createElement("p",{className:"info-description"},a)),!!t&&r.default.createElement("section",{className:"pop-over-actions danger-zone"},r.default.createElement("button",{className:"button button-small button-tertiary button-on-secondary-background has-emoji",onClick:function(){return t(null)}},"Remove ",e," ",r.default.createElement("span",{className:"emoji bomb"})))))})};t.WhitelistedDomain=p,p.propTypes={domain:n.default.string.isRequired,setDomain:n.default.func};class h extends r.default.Component{constructor(e){super(e),this.state={invitee:"",alreadyInvited:[]},this.removeNotifyInvited=this.removeNotifyInvited.bind(this)}async setWhitelistedDomain(e,t){e(),await this.props.setWhitelistedDomain(t)}async inviteUser(e,t){e(),this.setState(function(e){return{invitee:(0,s.getDisplayName)(t),alreadyInvited:[...e.alreadyInvited,t]}}),await this.props.inviteUser(t)}async inviteEmail(e,t){e(),this.setState({invitee:t}),await this.props.inviteEmail(t)}removeNotifyInvited(){this.setState({invitee:""})}render(){var e=this;const t=this.props,{inviteEmail:a,inviteUser:n,setWhitelistedDomain:s}=t,l=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(t,["inviteEmail","inviteUser","setWhitelistedDomain"]);return r.default.createElement(u.default,null,function({visible:t,togglePopover:u}){return r.default.createElement("span",{className:"add-user-container"},!!e.state.alreadyInvited.length&&r.default.createElement(c.default,{users:e.state.alreadyInvited}),r.default.createElement("button",{onClick:u,className:"button button-small button-tertiary add-user"},"Add"),!!e.state.invitee&&r.default.createElement("div",{className:"notification notifySuccess inline-notification",onAnimationEnd:e.removeNotifyInvited},"Invited ",e.state.invitee),t&&r.default.createElement(i.default,f({},l,{setWhitelistedDomain:s?function(t){return e.setWhitelistedDomain(u,t)}:null,inviteUser:n?function(t){return e.inviteUser(u,t)}:null,inviteEmail:a?function(t){return e.inviteEmail(u,t)}:null})))})}}t.AddTeamUser=h,h.propTypes={inviteEmail:n.default.func,inviteUser:n.default.func,setWhitelistedDomain:n.default.func};t.JoinTeam=function({onClick:e}){return r.default.createElement("button",{className:"button button-small button-cta join-team-button",onClick:e},"Join Team")}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=c(a(40)),n=c(a(1)),s=c(a(0)),l=a(344),i=c(a(8)),u=c(a(11)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(345));function c(e){return e&&e.__esModule?e:{default:e}}const d=function(e,t){const a=t.toLowerCase();let r=0;const n=(e.login||"").toLowerCase(),s=e.name||"",l=s.toLowerCase();return n===a&&(r+=9e3),l===a&&(r+=50,s===t&&(r+=10)),[n,l].forEach(function(e){e.includes(a)&&(r+=10,e.startsWith(a)&&(r+=5))}),r};class f extends n.default.Component{constructor(e){super(e),this.state={query:"",maybeRequest:null,maybeResults:null},this.handleChange=this.handleChange.bind(this),this.clearSearch=this.clearSearch.bind(this),this.startSearch=(0,r.default)(this.startSearch.bind(this),300)}handleChange(e){const t=e.currentTarget.value.trimStart();this.setState({query:t}),t?this.startSearch():this.clearSearch()}clearSearch(){this.setState({maybeRequest:null,maybeResults:null})}async startSearch(){var e=this;const t=this.state.query.trim();if(!t)return this.clearSearch();const a=this.props.api.get(`users/search?q=${t}`);this.setState({maybeRequest:a});const{data:r}=await a,n=r.map(function(e){return(0,i.default)(e).asProps()}).filter(function(t){return!e.props.members.includes(t.id)}).sort(function(e,a){return d(a,t)-d(e,t)});this.setState(function({maybeRequest:e}){return a===e?{maybeRequest:null,maybeResults:n}:{}})}render(){const{inviteEmail:e,inviteUser:t,setWhitelistedDomain:a}=this.props,{maybeRequest:r,maybeResults:s,query:i}=this.state,u=!!r||!s,c=[],d=(0,l.parseOneAddress)(i);let f=null;if(d)n.default.createElement(o.InviteByEmail,{email:d.address,onClick:function(){return e(d.address)}}),f=d.domain;else{const e=(0,l.parseOneAddress)(i.replace("@","test@"));e&&e.domain.includes(".")&&(f=e.domain)}if(f){const e=this.props.whitelistedDomain;a&&e!==f&&c.push({key:"whitelist-email-domain",item:n.default.createElement(o.WhitelistEmailDomain,{domain:f,prevDomain:e,onClick:function(){return a(f)}})})}return s&&c.push(...s.map(function(e){return{key:e.id,item:n.default.createElement(o.default,{user:e,action:function(){return t(e)}})}})),n.default.createElement("dialog",{className:"pop-over add-team-user-pop"},n.default.createElement("section",{className:"pop-over-info"},n.default.createElement("input",{id:"team-user-search",autoFocus:!0,value:i,onChange:this.handleChange,className:"pop-over-input search-input pop-over-search",placeholder:"Search for a user"})),!!i&&n.default.createElement(m,{isLoading:u,results:c}),!i&&a&&n.default.createElement("aside",{className:"pop-over-info"},"You can also whitelist with @example.com"))}}f.propTypes={api:s.default.func.isRequired,inviteEmail:s.default.func.isRequired,inviteUser:s.default.func.isRequired,members:s.default.arrayOf(s.default.number.isRequired).isRequired,setWhitelistedDomain:s.default.func,whitelistedDomain:s.default.string};const m=function({results:e,isLoading:t}){return t?n.default.createElement("section",{className:"pop-over-actions last-section"},n.default.createElement(u.default,null)):0===e.length?n.default.createElement("section",{className:"pop-over-actions last-section"},"Nothing found ",n.default.createElement("span",{role:"img","aria-label":""},"ðŸ’«")):n.default.createElement("section",{className:"pop-over-actions last-section results-list"},n.default.createElement("ul",{className:"results"},e.map(function({key:e,item:t}){return n.default.createElement("li",{key:e},t)})))};m.propTypes={results:s.default.array.isRequired,isLoading:s.default.bool.isRequired};var p=f;t.default=p},,function(e,t,a){"use strict";t.__esModule=!0,t.WhitelistEmailDomain=t.InviteByEmail=t.default=void 0;var r=o(a(1)),n=o(a(0)),s=o(a(110)),l=a(8),i=a(27),u=a(45);function o(e){return e&&e.__esModule?e:{default:e}}const c=function({user:e,action:t}){const a=(0,l.getDisplayName)(e),{login:n,thanksCount:s}=e;return r.default.createElement("button",{onClick:function(e){t(e)},className:"button-unstyled result"},r.default.createElement("img",{className:"avatar",src:(0,l.getAvatarThumbnailUrl)(e),alt:""}),r.default.createElement("div",{className:"result-name",title:a},a),!!e.name&&r.default.createElement("div",{className:"result-description"},"@",n),s>0&&r.default.createElement(i.ThanksShort,{count:s}))};c.propTypes={user:n.default.shape({avatarThumbnailUrl:n.default.string,name:n.default.string,login:n.default.string.isRequired,thanksCount:n.default.number.isRequired}).isRequired,action:n.default.func.isRequired};var d=c;t.default=d;class f extends r.default.Component{constructor(e){super(e),this.state={color:(0,s.default)({luminosity:"light"})}}render(){const e={backgroundColor:this.state.color};return r.default.createElement("button",{onClick:this.props.onClick,className:"button-unstyled result"},r.default.createElement("img",{className:"avatar",src:l.ANON_AVATAR_URL,style:e,alt:""}),r.default.createElement("div",{className:"result-name"},"Invite ",this.props.email))}}t.InviteByEmail=f,f.propTypes={email:n.default.string.isRequired,onClick:n.default.func.isRequired};const m=function({domain:e,prevDomain:t,onClick:a}){return r.default.createElement("button",{onClick:a,className:"button-unstyled result"},r.default.createElement(u.WhitelistedDomainIcon,{domain:e}),r.default.createElement("div",{className:"result-name"},"Allow anyone with an @",e," email to join"),!!t&&r.default.createElement("div",{className:"result-description"},"This will replace @",t))};t.WhitelistEmailDomain=m,m.propTypes={domain:n.default.string.isRequired,prevDomain:n.default.string,onClick:n.default.func.isRequired}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=c(a(1)),n=c(a(0)),s=a(8),l=c(a(39)),i=a(3),u=c(a(27)),o=c(a(347));function c(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const f=function(e){return r.default.createElement("section",{className:"pop-over-actions danger-zone"},r.default.createElement("button",d({className:"button-small has-emoji button-tertiary button-on-secondary-background"},e),"Remove from Team ",r.default.createElement("span",{className:"emoji wave",role:"img","aria-label":""})))},m=function({user:e,userIsTeamAdmin:t,updateUserPermissions:a}){return r.default.createElement("section",{className:"pop-over-actions admin-actions"},r.default.createElement("p",{className:"action-description"},"Admins can update team info, billing, and remove users"),t?r.default.createElement("button",{className:"button-small button-tertiary has-emoji",onClick:function(){return a(e.id,20)}},"Remove Admin Status ",r.default.createElement("span",{className:"emoji fast-down"})):r.default.createElement("button",{className:"button-small button-tertiary has-emoji",onClick:function(){return a(e.id,30)}},"Make an Admin ",r.default.createElement("span",{className:"emoji fast-up"})))};m.propTypes={user:n.default.shape({id:n.default.number.isRequired}).isRequired,userIsTeamAdmin:n.default.bool.isRequired,updateUserPermissions:n.default.func.isRequired};const p=function({count:e}){return r.default.createElement("section",{className:"pop-over-info"},r.default.createElement(u.default,{count:e}))},h=function(e){let{currentUser:t,showRemove:a}=e,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["currentUser","showRemove"]);const l={backgroundColor:n.user.color},u=n.currentUserIsTeamAdmin||t&&t.id===n.user.id;return r.default.createElement("dialog",{className:"pop-over team-user-info-pop"},r.default.createElement("section",{className:"pop-over-info user-info"},r.default.createElement(i.UserLink,{user:n.user},r.default.createElement("img",{className:"avatar",src:(0,s.getAvatarThumbnailUrl)(n.user),alt:n.user.login,style:l})),r.default.createElement("div",{className:"info-container"},r.default.createElement("p",{className:"name",title:n.user.name},n.user.name||"Anonymous"),n.user.login&&r.default.createElement("p",{className:"user-login",title:n.user.login},"@",n.user.login),n.userIsTeamAdmin&&r.default.createElement("div",{className:"status-badge"},r.default.createElement("span",{className:"status admin","data-tooltip":"Can edit team info and billing"},"Team Admin")))),n.user.thanksCount>0&&r.default.createElement(p,{count:n.user.thanksCount}),n.currentUserIsTeamAdmin&&r.default.createElement(m,{user:n.user,userIsTeamAdmin:n.userIsTeamAdmin,updateUserPermissions:n.updateUserPermissions}),u&&!n.userIsTheOnlyMember&&r.default.createElement(f,{onClick:a}))},g=function(e){return r.default.createElement(l.default,{alternateContent:function(){return r.default.createElement(o.default,e)}},function(t){return r.default.createElement(h,d({},e,{showRemove:t}))})};g.propTypes={user:n.default.shape({name:n.default.string,login:n.default.string,thanksCount:n.default.number.isRequired,color:n.default.string}).isRequired,currentUserIsOnTeam:n.default.bool.isRequired,currentUserIsTeamAdmin:n.default.bool.isRequired,removeUserFromTeam:n.default.func.isRequired,userIsTeamAdmin:n.default.bool.isRequired,userIsTheOnlyMember:n.default.bool.isRequired,api:n.default.func.isRequired,teamId:n.default.number.isRequired,updateUserPermissions:n.default.func.isRequired,team:n.default.shape({projects:n.default.array.isRequired})},g.defaultProps={currentUserIsOnTeam:!1};var v=g;t.default=v},function(e,t,a){"use strict";t.__esModule=!0,t.default=t.TeamUserRemovePop=void 0;var r=c(a(1)),n=c(a(0)),s=c(a(11)),l=c(a(19)),i=a(39),u=a(8),o=a(5);function c(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}class f extends r.default.Component{constructor(e){super(e),this.state={gettingUser:!0,userTeamProjects:[],selectedProjects:new Set},this.selectAllProjects=this.selectAllProjects.bind(this),this.unselectAllProjects=this.unselectAllProjects.bind(this),this.handleCheckboxChange=this.handleCheckboxChange.bind(this),this.removeUser=this.removeUser.bind(this)}removeUser(){this.props.togglePopover(),this.props.createNotification(`${(0,u.getDisplayName)(this.props.user)} removed from Team`),this.props.removeUserFromTeam(this.props.user.id,Array.from(this.state.selectedProjects))}selectAllProjects(){this.setState(function({userTeamProjects:e}){return{selectedProjects:new Set(e.map(function(e){return e.id}))}})}unselectAllProjects(){this.setState({selectedProjects:new Set})}handleCheckboxChange(e){const{checked:t,value:a}=e.target;this.setState(function({selectedProjects:e}){return e=new Set(e),t?e.add(a):e.delete(a),{selectedProjects:e}})}async getUserWithProjects(){var e=this;const{data:t}=await this.props.api.get(`users/${this.props.user.id}`);this.setState({userTeamProjects:t.projects.filter(function(t){return e.props.team.projects.some(function(e){return e.id===t.id})}),gettingUser:!1})}componentDidMount(){this.getUserWithProjects()}render(){var e=this;const t=this.state.userTeamProjects.every(function(t){return e.state.selectedProjects.has(t.id)}),a={backgroundColor:this.props.user.color};let n=null;return this.state.gettingUser?n=r.default.createElement(s.default,null):this.state.userTeamProjects.length>0&&(n=r.default.createElement(r.default.Fragment,null,r.default.createElement("p",{className:"action-description"},"Also remove them from these projects"),r.default.createElement("div",{className:"projects-list"},this.state.userTeamProjects.map(function(t){return r.default.createElement("label",{key:t.id,htmlFor:`remove-user-project-${t.id}`},r.default.createElement("input",{className:"checkbox-project",type:"checkbox",id:`remove-user-project-${t.id}`,checked:e.state.selectedProjects.has(t.id),value:t.id,onChange:e.handleCheckboxChange}),r.default.createElement("img",{className:"avatar",src:(0,o.getAvatarUrl)(t.id),alt:""}),t.domain)})),this.state.userTeamProjects.length>1&&r.default.createElement("button",{className:"button-small",onClick:t?this.unselectAllProjects:this.selectAllProjects},t?"Unselect All":"Select All"))),r.default.createElement("dialog",{className:"pop-over team-user-info-pop team-user-remove-pop"},r.default.createElement(i.NestedPopoverTitle,null,"Remove ",(0,u.getDisplayName)(this.props.user)),r.default.createElement("section",{className:"pop-over-actions",id:"user-team-projects"},n||r.default.createElement("p",{className:"action-description"},(0,u.getDisplayName)(this.props.user)," is not a member of any projects")),r.default.createElement("section",{className:"pop-over-actions danger-zone"},r.default.createElement("button",{className:"button-small has-emoji",onClick:this.removeUser},"Remove ",r.default.createElement("img",{className:"emoji avatar",src:(0,u.getAvatarThumbnailUrl)(this.props.user),alt:this.props.user.login,style:a}))))}}f.propTypes={api:n.default.func.isRequired,user:n.default.shape({name:n.default.string,login:n.default.string,thanksCount:n.default.number.isRequired,isOnTeam:n.default.bool,color:n.default.string}).isRequired,team:n.default.shape({projects:n.default.array.isRequired}),removeUserFromTeam:n.default.func.isRequired,createNotification:n.default.func.isRequired};const m=function(e){return r.default.createElement(l.default,null,function(t){return r.default.createElement(f,d({},t,e))})};t.TeamUserRemovePop=m;var p=m;t.default=p},,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=g(a(353)),n=g(a(381)),s=g(a(1)),l=g(a(0)),i=g(a(60)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(385)),o=g(a(11)),c=g(a(386)),d=g(a(387)),f=g(a(388)),m=g(a(407)),p=g(a(430)),h=g(a(431));function g(e){return e&&e.__esModule?e:{default:e}}const v=function(e){const t=[{time:"Last 4 Weeks",date:(0,i.default)().subtract(4,"weeks").valueOf()},{time:"Last 2 Weeks",date:(0,i.default)().subtract(2,"weeks").valueOf()},{time:"Last 24 Hours",date:(0,i.default)().subtract(24,"hours").valueOf()}];return(0,n.default)(t,function(t){return t.time===e}).date},E=async function({id:e,api:t,projects:a},n,s){if(!a.length){const e=(0,r.default)(u.default);return e.buckets.forEach(function(e){e["@timestamp"]+=Date.now()-u.sampleAnalyticsTime}),e}let l=`analytics/${e}/team?from=${n}`;s&&(l=`analytics/${e}/project/${s}?from=${n}`);try{const{data:e}=await t.get(l);return e}catch(i){console.error("getAnalytics",i)}};class y extends s.default.Component{constructor(e){super(e),this.state={currentTimeFrame:"Last 2 Weeks",fromDate:(0,i.default)().subtract(2,"weeks").valueOf(),currentProjectDomain:"",analytics:{},c3:{},isGettingData:!0,isGettingC3:!0,totalRemixes:0,totalAppViews:0}}updateTotals(){let e=0,t=0;this.state.analytics.buckets.forEach(function(a){e+=a.analytics.requests,t+=a.analytics.remixes}),this.setState({totalAppViews:e,totalRemixes:t})}updateAnalytics(){var e=this;this.setState({isGettingData:!0}),E(this.props,this.state.fromDate,this.state.currentProjectDomain).then(function(t){e.setState({isGettingData:!1,analytics:t},function(){e.updateTotals()})})}updateTimeFrame(e){var t=this;this.setState({currentTimeFrame:e,fromDate:v(e)},function(){t.updateAnalytics()})}updateProjectDomain(e){var t=this;this.setState({currentProjectDomain:e},function(){t.updateAnalytics()})}componentDidMount(){var e=this;a.e(0).then(a.t.bind(null,442,7)).then(function(t){e.setState({c3:t,isGettingC3:!1}),e.props.currentUserIsOnTeam&&e.updateAnalytics()})}componentDidUpdate(e){!1===e.currentUserIsOnTeam&&!0===this.props.currentUserIsOnTeam&&!1===this.state.isGettingC3?this.updateAnalytics():e.projects.length!==this.props.projects.length&&!1===this.state.isGettingC3&&(this.updateAnalytics(),this.setState({currentProjectDomain:""}))}render(){return this.props.currentUserIsOnTeam?s.default.createElement("section",{className:"team-analytics"},s.default.createElement("h2",null,"Analytics"),!!this.props.projects.length&&s.default.createElement("section",{className:"controls"},s.default.createElement(d.default,{updateProjectDomain:this.updateProjectDomain.bind(this),currentProjectDomain:this.state.currentProjectDomain,projects:this.props.projects}),s.default.createElement(c.default,{updateTimeFrame:this.updateTimeFrame.bind(this),currentTimeFrame:this.state.currentTimeFrame})),s.default.createElement("section",{className:"summary"},this.state.isGettingData?s.default.createElement(o.default,null):s.default.createElement(f.default,{totalAppViews:this.state.totalAppViews,totalRemixes:this.state.totalRemixes})),0===this.props.projects.length&&!this.state.isGettingData&&s.default.createElement("aside",{className:"inline-banners add-project-to-analytics-banner"},"Add projects to see their stats"),s.default.createElement("section",{className:"activity"},s.default.createElement("figure",{id:"chart",className:"c3"}),(this.state.isGettingData||this.state.isGettingC3)&&s.default.createElement(o.default,null),!this.state.isGettingC3&&s.default.createElement(m.default,{c3:this.state.c3,analytics:this.state.analytics,isGettingData:this.state.isGettingData,currentTimeFrame:this.state.currentTimeFrame})),s.default.createElement("section",{className:"referrers"},s.default.createElement("h3",null,"Referrers"),this.state.isGettingData&&s.default.createElement(o.default,null)||s.default.createElement(p.default,{analytics:this.state.analytics,totalRemixes:this.state.totalRemixes,totalAppViews:this.state.totalAppViews})),this.state.currentProjectDomain&&s.default.createElement("section",{className:"project-details"},s.default.createElement("h3",null,"Project Details"),s.default.createElement(h.default,{currentProjectDomain:this.state.currentProjectDomain,id:this.props.id,api:this.props.api})),s.default.createElement("section",{className:"explanation"},s.default.createElement("p",null,"Because Glitch doesn't inject code or cookies into your projects we don't collect the data required for unique app views. You can get uniques by adding Google Analytics to your project.")),!this.props.projects.length&&s.default.createElement("div",{className:"placeholder-mask"})):null}}y.propTypes={id:l.default.number,api:l.default.any.isRequired,projects:l.default.array.isRequired,currentUserIsOnTeam:l.default.bool.isRequired,addProject:l.default.func.isRequired,myProjects:l.default.array.isRequired};var b=y;t.default=b},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=l(a(1)),n=l(a(0)),s=l(a(14));function l(e){return e&&e.__esModule?e:{default:e}}const i=function({selectTimeFrame:e,isActive:t,timeFrame:a}){let n="result button-unstyled";return t&&(n+=" active"),r.default.createElement("button",{className:n,onClick:e},r.default.createElement("div",{className:"result-container"},r.default.createElement("div",{className:"result-name"},a)))};i.propTypes={selectTimeFrame:n.default.func.isRequired,isActive:n.default.bool.isRequired,timeFrame:n.default.string.isRequired};const u=["Last 4 Weeks","Last 2 Weeks","Last 24 Hours"],o=function({updateTimeFrame:e,currentTimeFrame:t}){return r.default.createElement(s.default,null,function({visible:a,togglePopover:n}){return r.default.createElement("div",{className:"button-wrap"},r.default.createElement("button",{className:"button-small button-tertiary button-select",onClick:n},r.default.createElement("span",null,t)),a&&r.default.createElement("dialog",{className:"pop-over analytics-time-pop"},r.default.createElement("section",{className:"pop-over-actions last-section results-list"},r.default.createElement("div",{className:"results"},u.map(function(a){return r.default.createElement(i,{key:a,selectTimeFrame:function(t,a){return function(){e(t),a()}}(a,n),isActive:t===a,timeFrame:a})})))))})};o.propTypes={updateTimeFrame:n.default.func.isRequired,currentTimeFrame:n.default.string.isRequired};var c=o;t.default=c},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=i(a(1)),n=i(a(0)),s=i(a(63)),l=i(a(14));function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const o=function({currentProjectDomain:e,action:t}){let a="button-unstyled result";return e||(a+=" active"),r.default.createElement("button",{className:a,onClick:t},r.default.createElement("img",{className:"avatar",src:"https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fbento-box.png?1502469566743",alt:"Bento emoji"}),r.default.createElement("div",{className:"result-name",title:"All Projects"},"All Projects"))};o.propTypes={currentProjectDomain:n.default.string.isRequired,action:n.default.func.isRequired};const c=function({projects:e,togglePopover:t,setFilter:a,filter:n,updateProjectDomain:l,currentProjectDomain:i}){const c=function(e){t(),l(e),a("")},d=e.filter(function({domain:e}){return e.toLowerCase().includes(n.toLowerCase())});return r.default.createElement("dialog",{className:"pop-over analytics-projects-pop"},r.default.createElement("section",{className:"pop-over-info"},r.default.createElement("input",{autoFocus:!0,onChange:function(e){a(e.target.value)},id:"analytics-project-filter",className:"pop-over-input search-input pop-over-search",placeholder:"Filter projects",value:n})),r.default.createElement("section",{className:"pop-over-actions results-list"},r.default.createElement("ul",{className:"results"},r.default.createElement("li",{className:"button-unstyled"},r.default.createElement(o,{currentProjectDomain:i,action:function(){return c("")}})),d.map(function(e){return r.default.createElement("li",{key:e.id,className:"button-unstyled"},r.default.createElement(s.default,u({},e,{action:function(){return c(e.domain)},isActive:function(e,t){if(e===t.domain)return!0}(i,e)})))}))))};c.propTypes={projects:n.default.arrayOf(n.default.shape({id:n.default.string.isRequired,domain:n.default.string.isRequired,description:n.default.string.isRequired})).isRequired,togglePopover:n.default.func.isRequired,setFilter:n.default.func.isRequired,filter:n.default.string.isRequired,updateProjectDomain:n.default.func.isRequired,currentProjectDomain:n.default.string.isRequired};class d extends r.default.Component{constructor(e){super(e),this.state={filter:""},this.setFilter=this.setFilter.bind(this)}setFilter(e){this.setState({filter:e})}render(){var e=this;const{updateProjectDomain:t,currentProjectDomain:a,projects:n}=this.props;return r.default.createElement(l.default,null,function({visible:s,togglePopover:l}){return r.default.createElement("div",{className:"button-wrap"},r.default.createElement("button",{className:"button-small button-tertiary",onClick:l},"Filter: ",a||"All Projects"),s&&r.default.createElement(c,{projects:n,updateProjectDomain:t,currentProjectDomain:a,togglePopover:l,setFilter:e.setFilter,filter:e.state.filter}))})}}d.propTypes={updateProjectDomain:n.default.func.isRequired,currentProjectDomain:n.default.string.isRequired};var f=d;t.default=f},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=l(a(1)),n=l(a(0)),s=l(a(389));function l(e){return e&&e.__esModule?e:{default:e}}const i=new CustomEvent("click",{bubbles:!0,cancelable:!0}),u=new CustomEvent("mouseout",{bubbles:!0,cancelable:!0});class o extends r.default.Component{constructor(e){super(e)}toggleGraph(e){let t=document.querySelector(`.c3-legend-item-${e}`);t.dispatchEvent(i),t.dispatchEvent(u)}render(){var e=this;return r.default.createElement(r.default.Fragment,null,r.default.createElement("span",{className:"summary-item",onClick:function(){e.toggleGraph("Total-App-Views")},onKeyPress:function(){e.toggleGraph("App-Views")},role:"button",tabIndex:0},r.default.createElement("span",{className:"total app-views"},this.props.totalAppViews.toLocaleString("en"))," ",r.default.createElement(s.default,{className:"summary-label",singular:"Total App View",plural:"Total App Views",count:this.props.totalAppViews,showCount:!1})),","," ",r.default.createElement("span",{className:"summary-item",onClick:function(){e.toggleGraph("Remixes")},onKeyPress:function(){e.toggleGraph("Remixes")},role:"button",tabIndex:0},r.default.createElement("span",{className:"total remixes"},this.props.totalRemixes.toLocaleString("en"))," ",r.default.createElement(s.default,{className:"summary-label",singular:"Remix",plural:"Remixes",count:this.props.totalRemixes,showCount:!1})))}}o.propTypes={totalAppViews:n.default.number.isRequired,totalRemixes:n.default.number.isRequired};var c=o;t.default=c},,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=u(a(408)),n=u(a(1)),s=u(a(0)),l=u(a(411)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(137));function u(e){return e&&e.__esModule?e:{default:e}}const o=i.histogram().value(function(e){return e["@timestamp"]}),c=function(e,t){let a=function(e){let t=[];return(e=e||[]).forEach(function(e){let a=0,r=0,n=void 0;e.forEach(function(e){n||(n=e["@timestamp"]),r+=e.analytics.remixes,a+=e.analytics.requests}),t.push({time:n,appViews:a,remixes:r})}),t}(function(e,t){if("Last 24 Hours"===t)return o(e);let a=(0,l.default)(e,"@timestamp","day");return Object.values(a)}(e.buckets,t)),r=["x"],n=["Remixes"],s=["Total App Views"];return a.shift(),a.forEach(function(e){r.push(e.time),s.push(e.appViews),n.push(e.remixes)}),[r,s,n]},d=function(e){return"Last 24 Hours"===e?"%H:%M %p":"%b-%d"},f=function(e,t,a){let n=[];(0,r.default)(t)||(n=c(t,a));e.generate({size:{height:200},data:{x:"x",xFormat:d(a),columns:n},axis:{x:{type:"timeseries",tick:{format:d(a)}}}})};class m extends n.default.Component{constructor(e){super(e)}componentDidUpdate(e){!0===e.isGettingData&&!1===this.props.isGettingData&&f(this.props.c3,this.props.analytics,this.props.currentTimeFrame)}render(){return null}}m.propTypes={c3:s.default.object.isRequired,analytics:s.default.object.isRequired,currentTimeFrame:s.default.string.isRequired,isGettingData:s.default.bool.isRequired};var p=m;t.default=p},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=s(a(1)),n=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}const l=function(e,t){let a=0;return e.forEach(function(e){a+=e[t]}),a},i=function({count:e}){return 0===e?"none":null},u=function({count:e,total:t,description:a}){const n=Math.max(Math.round(e/t*100),3);return e<=0?null:r.default.createElement("li",null,e.toLocaleString("en")," â€“ ",a,r.default.createElement("progress",{value:n,max:"100"}))},o=function(e){let t=e.filter(function(e){return!e.self});return t=t.slice(0,4)},c=function({analytics:e,totalRemixes:t,totalAppViews:a}){const n=o(e.referrers),s=o(e.remixReferrers),c=a-l(n,"requests"),d=t-l(s,"remixes");return r.default.createElement("div",{className:"referrers-content"},r.default.createElement("article",{className:"referrers-column app-views"},r.default.createElement("h4",null,"Total App Views"),r.default.createElement("ul",null,r.default.createElement(i,{count:a}),r.default.createElement(u,{count:c,total:a,description:"direct views"}),n.map(function(e,t){return r.default.createElement(u,{key:t,count:e.requests,total:a,description:e.domain})}))),r.default.createElement("article",{className:"referrers-column remixes"},r.default.createElement("h4",null,"Remixes"),r.default.createElement("ul",null,r.default.createElement(i,{count:t}),r.default.createElement(u,{count:d,total:t,description:"direct remixes"}),s.map(function(e,a){return r.default.createElement(u,{key:a,count:e.remixes,total:t,description:e.domain})}))))};c.propTypes={analytics:n.default.object.isRequired,totalRemixes:n.default.number.isRequired,totalAppViews:n.default.number.isRequired};var d=c;t.default=d},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=o(a(1)),n=o(a(0)),s=o(a(60)),l=a(3),i=o(a(11)),u=a(5);function o(e){return e&&e.__esModule?e:{default:e}}const c=100,d=async function({id:e,api:t,currentProjectDomain:a}){let r=`analytics/${e}/project/${a}/overview`;try{return await t.get(r)}catch(n){console.error("getProjectDetails",n)}},f=function(e){e.target.src=u.FALLBACK_AVATAR_URL},m=function({project:e,className:t=""}){return r.default.createElement("img",{src:(0,u.getAvatarUrl)(e.id),className:`avatar ${t}`,alt:e.domain,onError:f})};m.propTypes={project:n.default.shape({domain:n.default.string.isRequired,id:n.default.string.isRequired}).isRequired,className:n.default.string};const p=function({projectDetails:e}){return r.default.createElement("article",{className:"project-details"},r.default.createElement(l.ProjectLink,{project:e},r.default.createElement(m,{project:e})),r.default.createElement("table",null,r.default.createElement("tbody",null,r.default.createElement("tr",null,r.default.createElement("td",{className:"label"},"Created"),r.default.createElement("td",null,(0,s.default)(e.createdAt).fromNow())),r.default.createElement("tr",null,r.default.createElement("td",{className:"label"},"Last code view"),r.default.createElement("td",null,(0,s.default)(e.lastAccess).fromNow())),r.default.createElement("tr",null,r.default.createElement("td",{className:"label"},"Last edited"),r.default.createElement("td",null,(0,s.default)(e.lastEditedAt).fromNow())),r.default.createElement("tr",null,r.default.createElement("td",{className:"label"},"Last remixed"),r.default.createElement("td",null,e.lastRemixedAt?(0,s.default)(e.lastRemixedAt).fromNow():"never")),r.default.createElement("tr",null,r.default.createElement("td",{className:"label"},"Total app views"),r.default.createElement("td",null,e.numAppVisits)),r.default.createElement("tr",null,r.default.createElement("td",{className:"label"},"Total code views"),r.default.createElement("td",null,e.numUniqueEditorVisits)),r.default.createElement("tr",null,r.default.createElement("td",{className:"label"},"Total direct remixes"),r.default.createElement("td",null,e.numDirectRemixes)),r.default.createElement("tr",null,r.default.createElement("td",{className:"label"},"Total remixes"),r.default.createElement("td",null,e.numTotalRemixes)),e.baseProject.domain&&r.default.createElement("tr",null,r.default.createElement("td",{className:"label"},"Originally remixed from"),r.default.createElement("td",null,r.default.createElement(l.ProjectLink,{project:e.baseProject},r.default.createElement(m,{project:e.baseProject,className:"baseproject-avatar"}),e.baseProject.domain))))))},h=function({remix:e}){return r.default.createElement(l.ProjectLink,{project:e},r.default.createElement("span",{"data-tooltip":e.domain,"data-tooltip-left":"true"},r.default.createElement(m,{project:e})))};class g extends r.default.Component{constructor(e){super(e),this.state={isGettingData:!0,projectDetails:{},projectRemixes:[]}}updateProjectDetails(){var e=this;this.setState({isGettingData:!0}),d(this.props).then(function({data:t}){e.setState({isGettingData:!1,projectDetails:t,projectRemixes:t.remixes.slice(0,c)})})}componentDidMount(){this.updateProjectDetails()}componentDidUpdate(e){this.props.currentProjectDomain!==e.currentProjectDomain&&this.updateProjectDetails()}render(){return this.state.isGettingData?r.default.createElement(i.default,null):r.default.createElement(r.default.Fragment,null,r.default.createElement(p,{projectDetails:this.state.projectDetails}),r.default.createElement("article",{className:"project-remixes"},r.default.createElement("h4",null,"Latest Remixes"),0===this.state.projectRemixes.length&&r.default.createElement("p",null,"No remixes yet (ï¼_^)ï¼ â—"),this.state.projectRemixes.map(function(e){return r.default.createElement(h,{key:e.id,remix:e})})))}}g.propTypes={currentProjectDomain:n.default.string.isRequired,id:n.default.number.isRequired,api:n.default.any.isRequired};var v=g;t.default=v},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=g(a(1)),n=g(a(0)),s=g(a(15)),l=a(8),i=a(69),u=g(a(41)),o=g(a(433)),c=g(a(27)),d=g(a(434)),f=g(a(117)),m=a(34),p=g(a(43)),h=g(a(113));function g(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const E=function({name:e,login:t,isAuthorized:a,updateName:n,updateLogin:s}){return t?a?r.default.createElement(r.default.Fragment,null,r.default.createElement("h1",{className:"username"},r.default.createElement(u.default,{value:e||"",update:n,placeholder:"What's your name?"})),r.default.createElement("h2",{className:"login"},r.default.createElement(u.default,{value:t,update:s,prefix:"@",placeholder:"Nickname?"}))):e?r.default.createElement(r.default.Fragment,null,r.default.createElement("h1",{className:"username"},e),r.default.createElement("h2",{className:"login"},"@",t)):r.default.createElement("h1",{className:"login"},"@",t):r.default.createElement("h1",{className:"login"},"Anonymous")};E.propTypes={name:n.default.string,login:n.default.string,isAuthorized:n.default.bool.isRequired,updateName:n.default.func,updateLogin:n.default.func};const y=function({user:{id:e,login:t,name:a,description:n,thanksCount:s,avatarUrl:u,color:o,hasCoverImage:p,coverColor:g,pins:y,projects:b,_deletedProjects:j,teams:R,_cacheCover:N},api:P,isAuthorized:w,updateDescription:T,updateName:_,updateLogin:q,uploadCover:C,clearCover:k,uploadAvatar:O,addPin:U,removePin:S,leaveProject:A,deleteProject:I,undeleteProject:M,setDeletedProjects:x}){return r.default.createElement("main",{className:"profile-page user-page"},r.default.createElement("section",null,r.default.createElement(m.ProfileContainer,{avatarStyle:(0,l.getAvatarStyle)({avatarUrl:u,color:o}),coverStyle:(0,l.getProfileStyle)({id:e,hasCoverImage:p,coverColor:g,cache:N}),coverButtons:w&&!!t&&r.default.createElement(m.ImageButtons,{name:"Cover",uploadImage:C,clearImage:p?k:null}),avatarButtons:w&&!!t&&r.default.createElement(m.ImageButtons,{name:"Avatar",uploadImage:O})},r.default.createElement(E,v({name:a,login:t,isAuthorized:w,updateName:_},{updateLogin:function(e){return q(e).then(function(){return function(e){history.replaceState(null,null,`/@${e}`)}(e)})}})),!!R.length&&r.default.createElement("div",{className:"users-information"},r.default.createElement(h.default,{teams:R})),!!s&&r.default.createElement(c.default,{count:s}),r.default.createElement(i.AuthDescription,{authorized:w&&!!t,description:n,update:T,placeholder:"Tell us about yourself"}))),r.default.createElement(f.default,{projects:b,pins:y,isAuthorized:w,api:P,addPin:U,removePin:S,projectOptions:{leaveProject:A,deleteProject:I}}),w&&r.default.createElement(d.default,{api:P,setDeletedProjects:x,deletedProjects:j,undelete:M}))};y.propTypes={isAuthorized:n.default.bool.isRequired,user:n.default.shape({name:n.default.string,login:n.default.string,id:n.default.number.isRequired,thanksCount:n.default.number.isRequired,hasCoverImage:n.default.bool.isRequired,avatarUrl:n.default.string,color:n.default.string.isRequired,coverColor:n.default.string,_cacheCover:n.default.number.isRequired,_deletedProjects:n.default.array.isRequired}).isRequired,uploadAvatar:n.default.func.isRequired,uploadCover:n.default.func.isRequired,clearCover:n.default.func.isRequired,leaveProject:n.default.func.isRequired};var b=function({api:e,user:t}){return r.default.createElement(o.default,{api:e,initialUser:t},function(t,a,n){return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.default,null,r.default.createElement("title",null,t.name||(t.login?`@${t.login}`:`User ${t.id}`))),r.default.createElement(p.default,{api:e,projects:t.projects},function(s){return r.default.createElement(y,v({api:e,user:Object.assign({},t,{projects:s})},a,{isAuthorized:n}))}))})};t.default=b},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=o(a(1)),n=o(a(0)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(71)),l=a(10),i=o(a(44)),u=o(a(116));function o(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}class d extends r.default.Component{constructor(e){super(e),this.state=Object.assign({},e.initialUser,{_deletedProjects:[],_cacheCover:Date.now()})}isCurrentUser(){return!!this.props.currentUser&&this.state.id===this.props.currentUser.id}async updateFields(e){const{data:t}=await this.props.api.patch(`users/${this.state.id}`,e);this.setState(t),this.isCurrentUser()&&this.props.updateCurrentUser(t)}async uploadAvatar(e){const{data:t}=await s.getUserCoverImagePolicy(this.props.api,this.state.id),a=await this.props.uploadAsset(e,t,"temporary-user-avatar"),r=await s.blobToImage(e),n=s.getDominantColor(r);await this.updateFields({avatarUrl:a,color:n})}async uploadCover(e){const{data:t}=await s.getUserCoverImagePolicy(this.props.api,this.state.id);await this.props.uploadAssetSizes(e,t,s.COVER_SIZES);const a=await s.blobToImage(e),r=s.getDominantColor(a);await this.updateFields({hasCoverImage:!0,coverColor:r}),this.setState({_cacheCover:Date.now()})}async addPin(e){await this.props.api.post(`users/${this.state.id}/pinned-projects/${e}`),this.setState(function({pins:t}){return{pins:[...t,{projectId:e}]}})}async removePin(e){await this.props.api.delete(`users/${this.state.id}/pinned-projects/${e}`),this.setState(function({pins:t}){return{pins:t.filter(function(t){return t.projectId!==e})}})}async leaveProject(e){await this.props.api.delete(`/projects/${e}/authorization`,{data:{targetUserId:this.state.id}}),this.setState(function({projects:t}){return{projects:t.filter(function(t){return t.id!==e})}})}async deleteProject(e){await this.props.api.delete(`/projects/${e}`);const{data:t}=await this.props.api.get(`projects/${e}?showDeleted=true`);this.setState(function({projects:a,_deletedProjects:r}){return{projects:a.filter(function(t){return t.id!==e}),_deletedProjects:[t,...r]}})}async undeleteProject(e){await this.props.api.post(`/projects/${e}/undelete`);const{data:t}=await this.props.api.get(`projects/${e}`);if(t.domain.endsWith("-deleted"))try{const r=t.domain.replace(/-deleted$/,"");await this.props.api.patch(`/projects/${e}`,{domain:r}),t.domain=r}catch(a){console.warn("failed to rename project on undelete",a)}this.setState(function({projects:a,_deletedProjects:r}){return{projects:[...a,t],_deletedProjects:r.filter(function(t){return t.id!==e})}})}render(){var e=this;const{handleError:t,handleErrorForInput:a}=this.props,r={updateName:function(t){return e.updateFields({name:t}).catch(a)},updateLogin:function(t){return e.updateFields({login:t}).catch(a)},updateDescription:function(a){return e.updateFields({description:a}).catch(t)},uploadAvatar:function(){return s.requestFile(function(a){return e.uploadAvatar(a).catch(t)})},uploadCover:function(){return s.requestFile(function(a){return e.uploadCover(a).catch(t)})},clearCover:function(){return e.updateFields({hasCoverImage:!1}).catch(t)},addPin:function(a){return e.addPin(a).catch(t)},removePin:function(a){return e.removePin(a).catch(t)},leaveProject:function(a){return e.leaveProject(a).catch(t)},deleteProject:function(a){return e.deleteProject(a).catch(t)},undeleteProject:function(a){return e.undeleteProject(a).catch(t)},setDeletedProjects:function(t){return e.setState({_deletedProjects:t})}};return this.props.children(this.state,r,this.isCurrentUser())}}d.propTypes={api:n.default.any.isRequired,children:n.default.func.isRequired,currentUser:n.default.object,updateCurrentUser:n.default.func.isRequired,handleError:n.default.func.isRequired,handleErrorForInput:n.default.func.isRequired,initialUser:n.default.shape({id:n.default.number.isRequired}).isRequired,uploadAsset:n.default.func.isRequired,uploadAssetSizes:n.default.func.isRequired};const f=function({api:e,children:t,initialUser:a}){return r.default.createElement(i.default,null,function(n){return r.default.createElement(u.default,null,function(s){return r.default.createElement(l.CurrentUserConsumer,null,function(l,i,{update:u}){return r.default.createElement(d,c({api:e,currentUser:l,initialUser:a},{updateCurrentUser:u},s,n),t)})})})};f.propTypes={api:n.default.any.isRequired,children:n.default.func.isRequired,initialUser:n.default.object.isRequired};var m=f;t.default=m},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=i(a(1)),n=i(a(0)),s=a(5),l=i(a(11));function i(e){return e&&e.__esModule?e:{default:e}}const u=function({id:e,domain:t,onClick:a}){return r.default.createElement("button",{className:"button-unstyled",onClick:function(e){return function(e,t){const a=e.target.closest("li");a.addEventListener("animationend",t,{once:!0}),a.classList.add("slide-up")}(e,a)}},r.default.createElement("div",{className:"deleted-project"},r.default.createElement("img",{className:"avatar",src:(0,s.getAvatarUrl)(e),alt:""}),r.default.createElement("div",{className:"deleted-project-name"},t),r.default.createElement("div",{className:"button button-small"},"Undelete")))};u.propTypes={id:n.default.string.isRequired,domain:n.default.string.isRequired,onClick:n.default.func.isRequired};const o=function({deletedProjects:e,undelete:t}){return r.default.createElement("ul",{className:"deleted-projects-container"},e.map(function({id:e,domain:a}){return r.default.createElement("li",{key:e,className:"deleted-project-container"},r.default.createElement(u,{id:e,domain:a,onClick:function(){return t(e)}}))}))};o.propTypes={deletedProjects:n.default.array.isRequired,undelete:n.default.func.isRequired};class c extends r.default.Component{constructor(e){super(e),this.state={shown:!1,loaded:!1},this.clickShow=this.clickShow.bind(this),this.clickHide=this.clickHide.bind(this)}clickHide(){this.setState({shown:!1,loaded:!1})}async clickShow(){this.setState({shown:!0});try{const{data:t}=await this.props.api.get("user/deleted-projects");this.props.setDeletedProjects(t),this.setState({loaded:!0})}catch(e){this.setState({shown:!1})}}renderContents(){return this.state.shown?this.state.loaded?this.props.deletedProjects.length?r.default.createElement(r.default.Fragment,null,r.default.createElement(o,this.props),r.default.createElement("button",{className:"button button-tertiary",onClick:this.clickHide},"Hide Deleted Projects")):"nothing found":r.default.createElement(l.default,null):r.default.createElement("button",{className:"button button-tertiary",onClick:this.clickShow},"Show")}render(){return r.default.createElement("article",{className:"deleted-projects"},r.default.createElement("h2",null,"Deleted Projects ",r.default.createElement("span",{className:"emoji bomb emoji-in-title"})),this.renderContents())}}t.default=c,c.propTypes={api:n.default.any.isRequired,deletedProjects:n.default.array.isRequired,setDeletedProjects:n.default.func.isRequired}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=v(a(1)),n=v(a(0)),s=v(a(15)),l=v(a(23)),i=v(a(5)),u=v(a(13)),o=v(a(8)),c=v(a(44)),d=v(a(42)),f=v(a(11)),m=v(a(68)),p=v(a(26)),h=v(a(436)),g=v(a(438));function v(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const y=function({teams:e}){return r.default.createElement("article",null,r.default.createElement("h2",null,"Teams"),r.default.createElement("ul",{className:"teams-container"},e?e.map(function(e){return r.default.createElement("li",{key:e.id},r.default.createElement(h.default,{team:e}))}):r.default.createElement(f.default,null)))},b=function({users:e}){return r.default.createElement("article",null,r.default.createElement("h2",null,"Users"),r.default.createElement("ul",{className:"users-container"},e?e.map(function(e){return r.default.createElement("li",{key:e.id},r.default.createElement(g.default,{user:e}))}):r.default.createElement(f.default,null)))},j=function({projects:e}){return e?r.default.createElement(p.default,{title:"Projects",projects:e}):r.default.createElement("article",null,r.default.createElement("h2",null,"Projects"),r.default.createElement(f.default,null))},R=20,N=function(e){return!e||!!e.length};class P extends r.default.Component{constructor(e){super(e),this.state={teams:null,users:null,projects:null}}async searchTeams(){const{api:e,query:t}=this.props,{data:a}=await e.get(`teams/search?q=${t}`);this.setState({teams:a.slice(0,R).map(function(e){return(0,u.default)(e).update(e).asProps()})})}async searchUsers(){const{api:e,query:t}=this.props,{data:a}=await e.get(`users/search?q=${t}`);this.setState({users:a.slice(0,R).map(function(e){return(0,o.default)(e).update(e).asProps()})})}async searchProjects(){const{api:e,query:t}=this.props,{data:a}=await e.get(`projects/search?q=${t}`);this.setState({projects:a.filter(function(e){return!e.notSafeForKids}).slice(0,R).map(function(e){return(0,i.default)(e).update(e).asProps()})})}componentDidMount(){const{handleError:e}=this.props;this.searchTeams().catch(e),this.searchUsers().catch(e),this.searchProjects().catch(e)}render(){const{teams:e,users:t,projects:a}=this.state,n=[e,t,a].every(function(e){return!N(e)});return r.default.createElement("main",{className:"search-results"},N(e)&&r.default.createElement(y,{teams:e}),N(t)&&r.default.createElement(b,{users:t}),N(a)&&r.default.createElement(j,{projects:a}),n&&r.default.createElement(m.default,{name:"any results"}))}}P.propTypes={api:n.default.any.isRequired,query:n.default.string.isRequired};const w=function({api:e,query:t}){return r.default.createElement(l.default,{api:e,searchQuery:t},r.default.createElement(s.default,null,!!t&&r.default.createElement("title",null,"Search for ",t)),t?r.default.createElement(c.default,null,function(a){return r.default.createElement(P,E({},a,{api:e,query:t}))}):r.default.createElement(m.default,{name:"anything"}),r.default.createElement(d.default,null))};w.propTypes={api:n.default.any.isRequired,query:n.default.string};var T=w;t.default=T},function(e,t,a){"use strict";t.__esModule=!0,t.default=m;var r=f(a(0)),n=f(a(1)),s=a(13),l=a(3),i=a(25),u=f(a(27)),o=f(a(33)),c=f(a(437)),d=a(45);function f(e){return e&&e.__esModule?e:{default:e}}function m({team:e}){const t=(0,s.getProfileStyle)(Object.assign({},e,{size:"medium"})),a=e.users.reduce(function(e,{thanksCount:t}){return e+t},0);return n.default.createElement(c.default,{href:(0,s.getLink)(e),className:"item",style:t},n.default.createElement("div",{className:"content"},n.default.createElement("img",{className:"avatar",src:(0,s.getAvatarUrl)(e),alt:""}),n.default.createElement("div",{className:"information"},n.default.createElement(l.TeamLink,{team:e,className:"button"},e.name),!!e.isVerified&&n.default.createElement(d.VerifiedBadge,null),n.default.createElement(o.default,{users:e.users}),a>0&&n.default.createElement(u.default,{count:a}),!!e.description&&n.default.createElement("p",{className:"description"},n.default.createElement(i.TruncatedMarkdown,{length:96},e.description)))))}m.propTypes={team:r.default.shape({id:r.default.number.isRequired,coverColor:r.default.string.isRequired,description:r.default.string.isRequired,hasAvatarImage:r.default.bool.isRequired,hasCoverImage:r.default.bool.isRequired,isVerified:r.default.bool.isRequired,name:r.default.string.isRequired,users:r.default.array.isRequired,url:r.default.string.isRequired})}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=s(a(1)),n=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}const l=(0,a(16).withRouter)(function({href:e,children:t,className:a,style:n,history:s}){return r.default.createElement("div",{"data-href":!0,onClick:function(t){t.target.closest("a[href], button, input")||t.target.closest("[data-href]")===t.currentTarget&&s.push(e)},className:a,style:n,role:"presentation"},t)});l.propTypes={href:n.default.string.isRequired,children:n.default.element.isRequired,className:n.default.string,style:n.default.object};var i=l;t.default=i},function(e,t,a){"use strict";t.__esModule=!0,t.default=d;var r=o(a(0)),n=o(a(1)),s=a(3),l=a(25),i=o(a(27)),u=a(8);function o(e){return e&&e.__esModule?e:{default:e}}function c(e){e.target.src=u.ANON_AVATAR_URL}function d({user:e}){const t=(0,u.getProfileStyle)(Object.assign({},e,{size:"medium"}));return n.default.createElement(s.UserLink,{user:e},n.default.createElement("div",{className:"item",style:t},n.default.createElement("div",{className:"content"},n.default.createElement("img",{onError:c,className:"avatar",src:(0,u.getAvatarUrl)(e),alt:""}),n.default.createElement("div",{className:"information"},!!e.name&&n.default.createElement("h3",{className:"name"},e.name),n.default.createElement("div",{className:"button"},"@",e.login),e.thanksCount>0&&n.default.createElement(i.default,{count:e.thanksCount}),!!e.description&&n.default.createElement("p",{className:"description"},n.default.createElement(l.TruncatedMarkdown,{length:96},e.description))))))}d.propTypes={user:r.default.shape({avatarUrl:r.default.string,coverColor:r.default.string,description:r.default.string,hasCoverImage:r.default.bool.isRequired,id:r.default.number.isRequired,login:r.default.string.isRequired,name:r.default.string,thanksCount:r.default.number.isRequired})}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=f(a(1)),n=f(a(0)),s=f(a(15)),l=f(a(23)),i=f(a(5)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(11)),o=a(26),c=f(a(43)),d=f(a(42));function f(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const p=function({category:e,children:t}){return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.default,null,r.default.createElement("title",null,e.name)),r.default.createElement("main",{className:"category-page"},r.default.createElement("article",{className:"projects",style:{backgroundColor:e.backgroundColor}},r.default.createElement("header",{className:"category"},r.default.createElement("h2",{className:"category-name"},e.name),r.default.createElement("span",{className:"category-image-container"},r.default.createElement("img",{src:e.avatarUrl,alt:""})),r.default.createElement("p",{className:"description"},e.description)),t)),r.default.createElement(d.default,null))};p.propTypes={category:n.default.shape({avatarUrl:n.default.string.isRequired,backgroundColor:n.default.string.isRequired,description:n.default.string.isRequired,name:n.default.string.isRequired}).isRequired,children:n.default.node.isRequired};const h=function(e){let t=Object.assign({},e);return r.default.createElement(p,t,r.default.createElement(u.default,null))},g=function(e){let t=Object.assign({},e);return r.default.createElement(p,t,"Something went wrong. Try refreshing?")};const v=function(e){let{api:t,category:a}=e,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["api","category"]);return r.default.createElement(u.DataLoader,{get:function(){return async function(e,t){const{data:a}=await e.get(`categories/${t}`);return a.projects=a.projects.map(function(e){return(0,i.default)(e).update(e).asProps()}),a}(t,a.id)},renderLoader:function(){return r.default.createElement(h,m({category:a},n))},renderError:function(){return r.default.createElement(g,m({category:a},n))}},function(e){return r.default.createElement(p,m({category:e},n),r.default.createElement(c.default,{api:t,projects:e.projects},function(t){return r.default.createElement(o.ProjectsUL,{projects:t,categoryColor:e.color})}))})};v.propTypes={api:n.default.any.isRequired,category:n.default.object.isRequired};var E=function({api:e,category:t}){return r.default.createElement(l.default,{api:e},r.default.createElement(v,{api:e,category:t}))};t.default=E},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var r=i(a(1)),n=i(a(0)),s=i(a(15)),l=a(88);function i(e){return e&&e.__esModule?e:{default:e}}class u extends r.default.Component{componentDidMount(){const e=new Audio("https://cdn.glitch.com/a5a035b7-e3db-4b07-910a-b5c3ca9d8e86%2Fsecret.mp3?1535396729988").play();e&&e.then(function(){}).catch(function(){})}render(){return null}}const o=function({enabledToggles:e,toggleData:t,setEnabledToggles:a}){const n=function(t){return e&&e.includes(t)};return r.default.createElement("section",{className:"secretPage"},r.default.createElement("div",{className:"filler"}),r.default.createElement(s.default,null,r.default.createElement("title",null,"Glitch - It's a secret to everybody.")),r.default.createElement(u,null),r.default.createElement("ul",null,t.map(function({name:t,description:s}){return r.default.createElement("li",{key:t},r.default.createElement("button",{title:s,onClick:function(){return function(t){let r=null;r=n(t)?e.filter(function(e){return e!==t}):e.concat([t]),a(r)}(t)},className:n(t)?"lit":"dark"},t))})))};o.propTypes={toggleData:n.default.array.isRequired,enabledToggles:n.default.array.isRequired,setEnabledToggles:n.default.func.isRequired};var c=function(){return r.default.createElement(l.DevToggles,null,function(e,t,a){return r.default.createElement(o,{enabledToggles:e,toggleData:t,setEnabledToggles:a})})};t.default=c}]);